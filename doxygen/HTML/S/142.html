<html>
<head>
<title>ovr/sdk/src/OVR_CAPI.cpp</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-5.7.1'>
</head>
<body text='#191970' bgcolor='#f5f5dc' vlink='gray'>
<a name='TOP'><h2><a href='../mains.html'>root</a>/<a href='../files/215.html'>ovr</a>/<a href='../files/216.html'>sdk</a>/<a href='../files/218.html'>src</a>/OVR_CAPI.cpp</h2>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L51'>[^]</a><a href='#L919'>[v]</a>[top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
<hr>
<h2>DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href='#L51' title='Defined at 51.'>RightTan</a>
<li><a href='#L65' title='Defined at 65.'>TanAngleToRendertargetNDC</a>
<li><a href='#L919' title='Defined at 919.'>ovrHmd_GetSensorFusion</a>
</ol>
<hr>
<pre>
<a name='L1'>   1 <i><font color='green'>/************************************************************************************</font></i>
<a name='L2'>   2 <i><font color='green'></font></i>
<a name='L3'>   3 <i><font color='green'>Filename    :   OVR_CAPI.cpp</font></i>
<a name='L4'>   4 <i><font color='green'>Content     :   Experimental simple C interface to the HMD - version 1.</font></i>
<a name='L5'>   5 <i><font color='green'>Created     :   November 30, 2013</font></i>
<a name='L6'>   6 <i><font color='green'>Authors     :   Michael Antonov</font></i>
<a name='L7'>   7 <i><font color='green'></font></i>
<a name='L8'>   8 <i><font color='green'>Copyright   :   Copyright 2014 Oculus VR, Inc. All Rights reserved.</font></i>
<a name='L9'>   9 <i><font color='green'></font></i>
<a name='L10'>  10 <i><font color='green'>Licensed under the Oculus VR Rift SDK License Version 3.1 (the "License"); </font></i>
<a name='L11'>  11 <i><font color='green'>you may not use the Oculus VR Rift SDK except in compliance with the License, </font></i>
<a name='L12'>  12 <i><font color='green'>which is provided at the time of installation or download, or which </font></i>
<a name='L13'>  13 <i><font color='green'>otherwise accompanies this software in either electronic or hard copy form.</font></i>
<a name='L14'>  14 <i><font color='green'></font></i>
<a name='L15'>  15 <i><font color='green'>You may obtain a copy of the License at</font></i>
<a name='L16'>  16 <i><font color='green'></font></i>
<a name='L17'>  17 <i><font color='green'>http://www.oculusvr.com/licenses/LICENSE-3.1 </font></i>
<a name='L18'>  18 <i><font color='green'></font></i>
<a name='L19'>  19 <i><font color='green'>Unless required by applicable law or agreed to in writing, the Oculus VR SDK </font></i>
<a name='L20'>  20 <i><font color='green'>distributed under the License is distributed on an "AS IS" BASIS,</font></i>
<a name='L21'>  21 <i><font color='green'>WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</font></i>
<a name='L22'>  22 <i><font color='green'>See the License for the specific language governing permissions and</font></i>
<a name='L23'>  23 <i><font color='green'>limitations under the License.</font></i>
<a name='L24'>  24 <i><font color='green'></font></i>
<a name='L25'>  25 <i><font color='green'>************************************************************************************/</font></i>
<a name='L26'>  26 
<a name='L27'>  27 <font color='darkred'>#include</font> "<a href='187.html'>OVR_CAPI.h</a>"
<a name='L28'>  28 <font color='darkred'>#include</font> "<a href='185.html'>Kernel/OVR_Timer.h</a>"
<a name='L29'>  29 <font color='darkred'>#include</font> "<a href='177.html'>Kernel/OVR_Math.h</a>"
<a name='L30'>  30 <font color='darkred'>#include</font> "<a href='165.html'>Kernel/OVR_System.h</a>"
<a name='L31'>  31 <font color='darkred'>#include</font> "<a href='131.html'>OVR_Stereo.h</a>"
<a name='L32'>  32 <font color='darkred'>#include</font> "<a href='133.html'>OVR_Profile.h</a>"
<a name='L33'>  33 
<a name='L34'>  34 <font color='darkred'>#include</font> "<a href='96.html'>CAPI/CAPI_GlobalState.h</a>"
<a name='L35'>  35 <font color='darkred'>#include</font> "<a href='101.html'>CAPI/CAPI_HMDState.h</a>"
<a name='L36'>  36 <font color='darkred'>#include</font> "<a href='99.html'>CAPI/CAPI_FrameTimeManager.h</a>"
<a name='L37'>  37 
<a name='L38'>  38 
<a name='L39'>  39 <b>using</b> <b>namespace</b> <a href='../D/655.html' title='Multiple defined in 50 places.'>OVR</a>;
<a name='L40'>  40 <b>using</b> <b>namespace</b> <a href='../R/624.html' title='Multiple refered from 184 places.'>OVR</a>::Util::<a href='../S/117.html#L30' title='Defined at 30 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>Render</a>;
<a name='L41'>  41 
<a name='L42'>  42 <i><font color='green'>//-------------------------------------------------------------------------------------</font></i>
<a name='L43'>  43 <i><font color='green'>// Math</font></i>
<a name='L44'>  44 <b>namespace</b> <a href='../R/624.html' title='Multiple refered from 184 places.'>OVR</a> <font color='red'>{</font>
<a name='L45'>  45 
<a name='L46'>  46 
<a name='L47'>  47 <i><font color='green'>// ***** FovPort</font></i>
<a name='L48'>  48 
<a name='L49'>  49 <i><font color='green'>// C-interop support: FovPort &lt;-&gt; ovrFovPort</font></i>
<a name='L50'>  50 <a href='../S/131.html#L65' title='Defined at 65 in ovr/sdk/src/OVR_Stereo.h.'>FovPort</a>::<a href='../S/131.html#L65' title='Defined at 65 in ovr/sdk/src/OVR_Stereo.h.'>FovPort</a>(<b>const</b> <a href='../Y/3839.html' title='Multiple used in 6 places.'>ovrFovPort</a> &amp;<a href='../Y/4441.html' title='Multiple used in 214 places.'>src</a>)
<a name='L51'>  51     : <a href='../Y/2359.html' title='Multiple used in 30 places.'>UpTan</a>(<a href='../Y/4441.html' title='Multiple used in 214 places.'>src</a>.<a href='../Y/2359.html' title='Multiple used in 30 places.'>UpTan</a>), <a href='../Y/467.html' title='Multiple used in 30 places.'>DownTan</a>(<a href='../Y/4441.html' title='Multiple used in 214 places.'>src</a>.DownTan), <a href='../Y/1266.html' title='Multiple used in 30 places.'>LeftTan</a>(<a href='../Y/4441.html' title='Multiple used in 214 places.'>src</a>.LeftTan), <a href='../R/913.html' title='Multiple refered from 29 places.'>RightTan</a>(<a href='../Y/4441.html' title='Multiple used in 214 places.'>src</a>.RightTan)
<a name='L52'>  52 <font color='red'>{</font> <font color='red'>}</font>    
<a name='L53'>  53 
<a name='L54'>  54 <a href='../S/131.html#L65' title='Defined at 65 in ovr/sdk/src/OVR_Stereo.h.'>FovPort</a>::<b>operator</b> <a href='../Y/3839.html' title='Multiple used in 6 places.'>ovrFovPort</a> () <b>const</b>
<a name='L55'>  55 <font color='red'>{</font>
<a name='L56'>  56     <a href='../D/1439.html' title='Multiple defined in 2 places.'>ovrFovPort</a> <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>;
<a name='L57'>  57     <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/1266.html' title='Multiple used in 30 places.'>LeftTan</a>  = <a href='../Y/1266.html' title='Multiple used in 30 places.'>LeftTan</a>;
<a name='L58'>  58     <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../S/142.html#L51' title='Defined at 51 in ovr/sdk/src/OVR_CAPI.cpp.'>RightTan</a> = <a href='../S/142.html#L51' title='Defined at 51 in ovr/sdk/src/OVR_CAPI.cpp.'>RightTan</a>;
<a name='L59'>  59     <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/2359.html' title='Multiple used in 30 places.'>UpTan</a>    = <a href='../Y/2359.html' title='Multiple used in 30 places.'>UpTan</a>;
<a name='L60'>  60     <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/467.html' title='Multiple used in 30 places.'>DownTan</a>  = <a href='../Y/467.html' title='Multiple used in 30 places.'>DownTan</a>;
<a name='L61'>  61     <b>return</b> <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>;
<a name='L62'>  62 <font color='red'>}</font>
<a name='L63'>  63 
<a name='L64'>  64 <i><font color='green'>// Converts Fov Tan angle units to [-1,1] render target NDC space</font></i>
<a name='L65'>  65 <a href='../S/177.html#L382' title='Defined at 382 in ovr/sdk/src/Kernel/OVR_Math.h.'>Vector2f</a> <a href='../S/131.html#L65' title='Defined at 65 in ovr/sdk/src/OVR_Stereo.h.'>FovPort</a>::<a href='../S/131.html#L113' title='Refered from 113 in ovr/sdk/src/OVR_Stereo.h.'>TanAngleToRendertargetNDC</a>(<a href='../Y/2395.html' title='Multiple used in 12 places.'>Vector2f</a> <b>const</b> &amp;<a href='../Y/4547.html' title='Multiple used in 31 places.'>tanEyeAngle</a>)
<a name='L66'>  66 <font color='red'>{</font>  
<a name='L67'>  67     <a href='../S/131.html#L141' title='Defined at 141 in ovr/sdk/src/OVR_Stereo.h.'>ScaleAndOffset2D</a> <a href='../Y/3174.html' title='Multiple used in 20 places.'>eyeToSourceNDC</a> = <a href='../S/88.html#L1500' title='Defined at 1500 in ovr/sdk/src/OVR_Stereo.cpp.'>CreateNDCScaleAndOffsetFromFov</a>(*<b>this</b>);
<a name='L68'>  68     <b>return</b> <a href='../Y/4547.html' title='Multiple used in 31 places.'>tanEyeAngle</a> * <a href='../Y/3174.html' title='Multiple used in 20 places.'>eyeToSourceNDC</a>.<a href='../Y/1962.html' title='Multiple used in 16 places.'>Scale</a> + <a href='../Y/3174.html' title='Multiple used in 20 places.'>eyeToSourceNDC</a>.<a href='../Y/1534.html' title='Multiple used in 38 places.'>Offset</a>;
<a name='L69'>  69 <font color='red'>}</font>
<a name='L70'>  70 
<a name='L71'>  71 
<a name='L72'>  72 <i><font color='green'>// ***** SensorState</font></i>
<a name='L73'>  73 
<a name='L74'>  74 <a href='../R/960.html' title='Multiple refered from 10 places.'>SensorState</a>::<a href='../S/142.html#L74' title='Defined at 74 in ovr/sdk/src/OVR_CAPI.cpp.'>SensorState</a>(<b>const</b> <a href='../Y/3894.html' title='Multiple used in 2 places.'>ovrSensorState</a>&amp; <a href='../Y/4328.html' title='Multiple used in 254 places.'>s</a>)
<a name='L75'>  75 <font color='red'>{</font>
<a name='L76'>  76     <a href='../Y/1693.html' title='Multiple used in 13 places.'>Predicted</a>       = <a href='../Y/4328.html' title='Multiple used in 254 places.'>s</a>.<a href='../Y/1693.html' title='Multiple used in 13 places.'>Predicted</a>;
<a name='L77'>  77     <a href='../Y/1818.html' title='Multiple used in 10 places.'>Recorded</a>        = <a href='../Y/4328.html' title='Multiple used in 254 places.'>s</a>.<a href='../Y/1818.html' title='Multiple used in 10 places.'>Recorded</a>;
<a name='L78'>  78     <a href='../S/144.html#L163' title='Defined at 163 in ovr/sdk/src/OVR_SensorImpl_Common.cpp.'>Temperature</a>     = <a href='../Y/4328.html' title='Multiple used in 254 places.'>s</a>.<a href='../S/144.html#L163' title='Defined at 163 in ovr/sdk/src/OVR_SensorImpl_Common.cpp.'>Temperature</a>;
<a name='L79'>  79     <a href='../Y/2131.html' title='Multiple used in 17 places.'>StatusFlags</a>     = <a href='../Y/4328.html' title='Multiple used in 254 places.'>s</a>.<a href='../Y/2131.html' title='Multiple used in 17 places.'>StatusFlags</a>;
<a name='L80'>  80 <font color='red'>}</font>
<a name='L81'>  81 
<a name='L82'>  82 <a href='../S/142.html#L74' title='Defined at 74 in ovr/sdk/src/OVR_CAPI.cpp.'>SensorState</a>::<b>operator</b> <a href='../Y/3894.html' title='Multiple used in 2 places.'>ovrSensorState</a>() <b>const</b>
<a name='L83'>  83 <font color='red'>{</font>
<a name='L84'>  84     <a href='../D/1503.html' title='Multiple defined in 2 places.'>ovrSensorState</a> <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>;
<a name='L85'>  85     <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/1693.html' title='Multiple used in 13 places.'>Predicted</a>    = <a href='../Y/1693.html' title='Multiple used in 13 places.'>Predicted</a>;
<a name='L86'>  86     <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/1818.html' title='Multiple used in 10 places.'>Recorded</a>     = <a href='../Y/1818.html' title='Multiple used in 10 places.'>Recorded</a>;
<a name='L87'>  87     <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../S/144.html#L163' title='Defined at 163 in ovr/sdk/src/OVR_SensorImpl_Common.cpp.'>Temperature</a>  = <a href='../S/144.html#L163' title='Defined at 163 in ovr/sdk/src/OVR_SensorImpl_Common.cpp.'>Temperature</a>;
<a name='L88'>  88     <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/2131.html' title='Multiple used in 17 places.'>StatusFlags</a>  = <a href='../Y/2131.html' title='Multiple used in 17 places.'>StatusFlags</a>;
<a name='L89'>  89     <b>return</b> <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>;
<a name='L90'>  90 <font color='red'>}</font>
<a name='L91'>  91 
<a name='L92'>  92 
<a name='L93'>  93 <font color='red'>}</font> <i><font color='green'>// namespace OVR</font></i>
<a name='L94'>  94 
<a name='L95'>  95 <i><font color='green'>//-------------------------------------------------------------------------------------</font></i>
<a name='L96'>  96 
<a name='L97'>  97 <b>using</b> <b>namespace</b> <a href='../D/655.html' title='Multiple defined in 50 places.'>OVR</a>::<a href='../R/79.html' title='Multiple refered from 33 places.'>CAPI</a>;
<a name='L98'>  98 
<a name='L99'>  99 <font color='darkred'>#ifdef</font> <a href='../Y/2562.html' title='Multiple used in 4 places.'>__cplusplus</a> 
<a name='L100'> 100 <b>extern</b> "C" <font color='red'>{</font>
<a name='L101'> 101 <font color='darkred'>#endif</font>
<a name='L102'> 102 
<a name='L103'> 103 
<a name='L104'> 104 <i><font color='green'>// Used to generate projection from ovrEyeDesc::Fov</font></i>
<a name='L105'> 105 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <a href='../D/1472.html' title='Multiple defined in 2 places.'>ovrMatrix4f</a> <a href='../Y/3886.html' title='Multiple used in 2 places.'>ovrMatrix4f_Projection</a>(<a href='../D/1439.html' title='Multiple defined in 2 places.'>ovrFovPort</a> <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>, <b>float</b> <a href='../Y/4899.html' title='Multiple used in 9 places.'>znear</a>, <b>float</b> <a href='../Y/4898.html' title='Multiple used in 9 places.'>zfar</a>, <a href='../S/187.html#L31' title='Defined at 31 in ovr/sdk/src/OVR_CAPI.h.'>ovrBool</a> <a href='../Y/4312.html' title='Multiple used in 9 places.'>rightHanded</a>)
<a name='L106'> 106 <font color='red'>{</font>
<a name='L107'> 107     <b>return</b> <a href='../S/88.html#L1543' title='Defined at 1543 in ovr/sdk/src/OVR_Stereo.cpp.'>CreateProjection</a>(<a href='../Y/4312.html' title='Multiple used in 9 places.'>rightHanded</a> ? <b>true</b> : <b>false</b>, <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>, <a href='../Y/4899.html' title='Multiple used in 9 places.'>znear</a>, <a href='../Y/4898.html' title='Multiple used in 9 places.'>zfar</a>);
<a name='L108'> 108 <font color='red'>}</font>
<a name='L109'> 109 
<a name='L110'> 110 
<a name='L111'> 111 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <a href='../D/1472.html' title='Multiple defined in 2 places.'>ovrMatrix4f</a> <a href='../Y/3885.html' title='Multiple used in 2 places.'>ovrMatrix4f_OrthoSubProjection</a>(<a href='../D/1472.html' title='Multiple defined in 2 places.'>ovrMatrix4f</a> <a href='../Y/4142.html' title='Multiple used in 32 places.'>projection</a>, <a href='../D/1517.html' title='Multiple defined in 2 places.'>ovrVector2f</a> <a href='../Y/3826.html' title='Multiple used in 4 places.'>orthoScale</a>,
<a name='L112'> 112                                                       <b>float</b> <a href='../Y/3823.html' title='Multiple used in 5 places.'>orthoDistance</a>, <b>float</b> <a href='../Y/3179.html' title='Multiple used in 3 places.'>eyeViewAdjustX</a>)
<a name='L113'> 113 <font color='red'>{</font>
<a name='L114'> 114 
<a name='L115'> 115     <b>float</b> <a href='../Y/3825.html' title='Multiple used in 6 places.'>orthoHorizontalOffset</a> = <a href='../Y/3179.html' title='Multiple used in 3 places.'>eyeViewAdjustX</a> / <a href='../Y/3823.html' title='Multiple used in 5 places.'>orthoDistance</a>;
<a name='L116'> 116 
<a name='L117'> 117     <i><font color='green'>// Current projection maps real-world vector (x,y,1) to the RT.</font></i>
<a name='L118'> 118     <i><font color='green'>// We want to find the projection that maps the range [-FovPixels/2,FovPixels/2] to</font></i>
<a name='L119'> 119     <i><font color='green'>// the physical [-orthoHalfFov,orthoHalfFov]</font></i>
<a name='L120'> 120     <i><font color='green'>// Note moving the offset from M[0][2]+M[1][2] to M[0][3]+M[1][3] - this means</font></i>
<a name='L121'> 121     <i><font color='green'>// we don't have to feed in Z=1 all the time.</font></i>
<a name='L122'> 122     <i><font color='green'>// The horizontal offset math is a little hinky because the destination is</font></i>
<a name='L123'> 123     <i><font color='green'>// actually [-orthoHalfFov+orthoHorizontalOffset,orthoHalfFov+orthoHorizontalOffset]</font></i>
<a name='L124'> 124     <i><font color='green'>// So we need to first map [-FovPixels/2,FovPixels/2] to</font></i>
<a name='L125'> 125     <i><font color='green'>//                         [-orthoHalfFov+orthoHorizontalOffset,orthoHalfFov+orthoHorizontalOffset]:</font></i>
<a name='L126'> 126     <i><font color='green'>// x1 = x0 * orthoHalfFov/(FovPixels/2) + orthoHorizontalOffset;</font></i>
<a name='L127'> 127     <i><font color='green'>//    = x0 * 2*orthoHalfFov/FovPixels + orthoHorizontalOffset;</font></i>
<a name='L128'> 128     <i><font color='green'>// But then we need the sam mapping as the existing projection matrix, i.e.</font></i>
<a name='L129'> 129     <i><font color='green'>// x2 = x1 * Projection.M[0][0] + Projection.M[0][2];</font></i>
<a name='L130'> 130     <i><font color='green'>//    = x0 * (2*orthoHalfFov/FovPixels + orthoHorizontalOffset) * Projection.M[0][0] + Projection.M[0][2];</font></i>
<a name='L131'> 131     <i><font color='green'>//    = x0 * Projection.M[0][0]*2*orthoHalfFov/FovPixels +</font></i>
<a name='L132'> 132     <i><font color='green'>//      orthoHorizontalOffset*Projection.M[0][0] + Projection.M[0][2];</font></i>
<a name='L133'> 133     <i><font color='green'>// So in the new projection matrix we need to scale by Projection.M[0][0]*2*orthoHalfFov/FovPixels and</font></i>
<a name='L134'> 134     <i><font color='green'>// offset by orthoHorizontalOffset*Projection.M[0][0] + Projection.M[0][2].</font></i>
<a name='L135'> 135 
<a name='L136'> 136     <a href='../S/177.html#L1834' title='Defined at 1834 in ovr/sdk/src/Kernel/OVR_Math.h.'>Matrix4f</a> <a href='../Y/3822.html' title='Multiple used in 42 places.'>ortho</a>;
<a name='L137'> 137     <a href='../Y/3822.html' title='Multiple used in 42 places.'>ortho</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[0][0] = <a href='../Y/4142.html' title='Multiple used in 32 places.'>projection</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[0][0] * <a href='../Y/3826.html' title='Multiple used in 4 places.'>orthoScale</a>.<a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a>;
<a name='L138'> 138     <a href='../Y/3822.html' title='Multiple used in 42 places.'>ortho</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[0][1] = 0.0f;
<a name='L139'> 139     <a href='../Y/3822.html' title='Multiple used in 42 places.'>ortho</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[0][2] = 0.0f;
<a name='L140'> 140     <a href='../Y/3822.html' title='Multiple used in 42 places.'>ortho</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[0][3] = -<a href='../Y/4142.html' title='Multiple used in 32 places.'>projection</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[0][2] + ( <a href='../Y/3825.html' title='Multiple used in 6 places.'>orthoHorizontalOffset</a> * <a href='../Y/4142.html' title='Multiple used in 32 places.'>projection</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[0][0] );
<a name='L141'> 141 
<a name='L142'> 142     <a href='../Y/3822.html' title='Multiple used in 42 places.'>ortho</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[1][0] = 0.0f;
<a name='L143'> 143     <a href='../Y/3822.html' title='Multiple used in 42 places.'>ortho</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[1][1] = -<a href='../Y/4142.html' title='Multiple used in 32 places.'>projection</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[1][1] * <a href='../Y/3826.html' title='Multiple used in 4 places.'>orthoScale</a>.<a href='../Y/4884.html' title='Multiple used in 286 places.'>y</a>;       <i><font color='green'>// Note sign flip (text rendering uses Y=down).</font></i>
<a name='L144'> 144     <a href='../Y/3822.html' title='Multiple used in 42 places.'>ortho</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[1][2] = 0.0f;
<a name='L145'> 145     <a href='../Y/3822.html' title='Multiple used in 42 places.'>ortho</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[1][3] = -<a href='../Y/4142.html' title='Multiple used in 32 places.'>projection</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[1][2];
<a name='L146'> 146 
<a name='L147'> 147     <i><font color='green'>/*</font></i>
<a name='L148'> 148 <i><font color='green'>    if ( fabsf ( zNear - zFar ) &lt; 0.001f )</font></i>
<a name='L149'> 149 <i><font color='green'>    {</font></i>
<a name='L150'> 150 <i><font color='green'>        ortho.M[2][0] = 0.0f;</font></i>
<a name='L151'> 151 <i><font color='green'>        ortho.M[2][1] = 0.0f;</font></i>
<a name='L152'> 152 <i><font color='green'>        ortho.M[2][2] = 0.0f;</font></i>
<a name='L153'> 153 <i><font color='green'>        ortho.M[2][3] = zFar;</font></i>
<a name='L154'> 154 <i><font color='green'>    }</font></i>
<a name='L155'> 155 <i><font color='green'>    else</font></i>
<a name='L156'> 156 <i><font color='green'>    {</font></i>
<a name='L157'> 157 <i><font color='green'>        ortho.M[2][0] = 0.0f;</font></i>
<a name='L158'> 158 <i><font color='green'>        ortho.M[2][1] = 0.0f;</font></i>
<a name='L159'> 159 <i><font color='green'>        ortho.M[2][2] = zFar / (zNear - zFar);</font></i>
<a name='L160'> 160 <i><font color='green'>        ortho.M[2][3] = (zFar * zNear) / (zNear - zFar);</font></i>
<a name='L161'> 161 <i><font color='green'>    }</font></i>
<a name='L162'> 162 <i><font color='green'>    */</font></i>
<a name='L163'> 163 
<a name='L164'> 164     <i><font color='green'>// MA: Undo effect of sign</font></i>
<a name='L165'> 165     <a href='../Y/3822.html' title='Multiple used in 42 places.'>ortho</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[2][0] = 0.0f;
<a name='L166'> 166     <a href='../Y/3822.html' title='Multiple used in 42 places.'>ortho</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[2][1] = 0.0f;
<a name='L167'> 167     <i><font color='green'>//ortho.M[2][2] = projection.M[2][2] * projection.M[3][2] * -1.0f; // reverse right-handedness</font></i>
<a name='L168'> 168     <a href='../Y/3822.html' title='Multiple used in 42 places.'>ortho</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[2][2] = 0.0f;
<a name='L169'> 169     <a href='../Y/3822.html' title='Multiple used in 42 places.'>ortho</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[2][3] = 0.0f;
<a name='L170'> 170         <i><font color='green'>//projection.M[2][3];</font></i>
<a name='L171'> 171 
<a name='L172'> 172     <i><font color='green'>// No perspective correction for ortho.</font></i>
<a name='L173'> 173     <a href='../Y/3822.html' title='Multiple used in 42 places.'>ortho</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[3][0] = 0.0f;
<a name='L174'> 174     <a href='../Y/3822.html' title='Multiple used in 42 places.'>ortho</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[3][1] = 0.0f;
<a name='L175'> 175     <a href='../Y/3822.html' title='Multiple used in 42 places.'>ortho</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[3][2] = 0.0f;
<a name='L176'> 176     <a href='../Y/3822.html' title='Multiple used in 42 places.'>ortho</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[3][3] = 1.0f;
<a name='L177'> 177 
<a name='L178'> 178     <b>return</b> <a href='../Y/3822.html' title='Multiple used in 42 places.'>ortho</a>;
<a name='L179'> 179 <font color='red'>}</font>
<a name='L180'> 180 
<a name='L181'> 181 
<a name='L182'> 182 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <b>double</b> <a href='../Y/3898.html' title='Multiple used in 15 places.'>ovr_GetTimeInSeconds</a>()
<a name='L183'> 183 <font color='red'>{</font>
<a name='L184'> 184     <b>return</b> <a href='../Y/2261.html' title='Multiple used in 29 places.'>Timer</a>::<a href='../S/153.html#L51' title='Defined at 51 in ovr/sdk/src/Kernel/OVR_Timer.cpp.'>GetSeconds</a>();
<a name='L185'> 185 <font color='red'>}</font>
<a name='L186'> 186 
<a name='L187'> 187 <i><font color='green'>// Waits until the specified absolute time.</font></i>
<a name='L188'> 188 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <b>double</b> <a href='../Y/3901.html' title='Multiple used in 2 places.'>ovr_WaitTillTime</a>(<b>double</b> <a href='../Y/2672.html' title='Multiple used in 15 places.'>absTime</a>)
<a name='L189'> 189 <font color='red'>{</font>
<a name='L190'> 190     <b>volatile</b> <b>int</b> <a href='../Y/3436.html' title='Multiple used in 682 places.'>i</a>;
<a name='L191'> 191     <b>double</b>       <a href='../Y/3464.html' title='Multiple used in 7 places.'>initialTime</a> = <a href='../Y/3898.html' title='Multiple used in 15 places.'>ovr_GetTimeInSeconds</a>();
<a name='L192'> 192     <b>double</b>       <a href='../Y/3748.html' title='Multiple used in 13 places.'>newTime</a>     = <a href='../Y/3464.html' title='Multiple used in 7 places.'>initialTime</a>;
<a name='L193'> 193     
<a name='L194'> 194     <b>while</b>(<a href='../Y/3748.html' title='Multiple used in 13 places.'>newTime</a> &lt; <a href='../Y/2672.html' title='Multiple used in 15 places.'>absTime</a>)
<a name='L195'> 195     <font color='red'>{</font>
<a name='L196'> 196         <b>for</b> (<b>int</b> <a href='../Y/3520.html' title='Multiple used in 155 places.'>j</a> = 0; <a href='../Y/3520.html' title='Multiple used in 155 places.'>j</a> &lt; 50; <a href='../Y/3520.html' title='Multiple used in 155 places.'>j</a>++)
<a name='L197'> 197             <a href='../Y/3436.html' title='Multiple used in 682 places.'>i</a> = 0;
<a name='L198'> 198         <a href='../Y/3748.html' title='Multiple used in 13 places.'>newTime</a> = <a href='../Y/3898.html' title='Multiple used in 15 places.'>ovr_GetTimeInSeconds</a>();
<a name='L199'> 199     <font color='red'>}</font>
<a name='L200'> 200 
<a name='L201'> 201     <i><font color='green'>// How long we waited</font></i>
<a name='L202'> 202     <b>return</b> <a href='../Y/3748.html' title='Multiple used in 13 places.'>newTime</a> - <a href='../Y/3464.html' title='Multiple used in 7 places.'>initialTime</a>;
<a name='L203'> 203 <font color='red'>}</font>
<a name='L204'> 204 
<a name='L205'> 205 <i><font color='green'>//-------------------------------------------------------------------------------------</font></i>
<a name='L206'> 206 
<a name='L207'> 207 <i><font color='green'>// 1. Init/shutdown.</font></i>
<a name='L208'> 208 
<a name='L209'> 209 <b>static</b> <a href='../S/187.html#L31' title='Defined at 31 in ovr/sdk/src/OVR_CAPI.h.'>ovrBool</a> <a href='../Y/158.html' title='Multiple used in 4 places.'>CAPI_SystemInitCalled</a> = 0;
<a name='L210'> 210 
<a name='L211'> 211 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <a href='../S/187.html#L31' title='Defined at 31 in ovr/sdk/src/OVR_CAPI.h.'>ovrBool</a> <a href='../Y/3899.html' title='Multiple used in 3 places.'>ovr_Initialize</a>()
<a name='L212'> 212 <font color='red'>{</font>
<a name='L213'> 213     <b>if</b> (<a href='../D/655.html' title='Multiple defined in 50 places.'>OVR</a>::<a href='../D/85.html' title='Multiple defined in 8 places.'>CAPI</a>::<a href='../D/426.html' title='Multiple defined in 2 places.'>GlobalState</a>::<a href='../Y/3949.html' title='Multiple used in 25 places.'>pInstance</a>)
<a name='L214'> 214         <b>return</b> 1;
<a name='L215'> 215 
<a name='L216'> 216     <i><font color='green'>// We must set up the system for the plugin to work</font></i>
<a name='L217'> 217     <b>if</b> (!<a href='../D/655.html' title='Multiple defined in 50 places.'>OVR</a>::<a href='../Y/2165.html' title='Multiple used in 15 places.'>System</a>::<a href='../S/170.html#L75' title='Defined at 75 in ovr/sdk/src/Kernel/OVR_System.cpp.'>IsInitialized</a>())
<a name='L218'> 218     <font color='red'>{</font>        
<a name='L219'> 219         <a href='../D/655.html' title='Multiple defined in 50 places.'>OVR</a>::<a href='../Y/2165.html' title='Multiple used in 15 places.'>System</a>::<a href='../D/468.html' title='Multiple defined in 3 places.'>Init</a>(<a href='../D/655.html' title='Multiple defined in 50 places.'>OVR</a>::<a href='../S/167.html#L46' title='Defined at 46 in ovr/sdk/src/Kernel/OVR_Log.cpp.'>Log</a>::<a href='../Y/238.html' title='Multiple used in 4 places.'>ConfigureDefaultLog</a>(<a href='../D/655.html' title='Multiple defined in 50 places.'>OVR</a>::<a href='../Y/1306.html' title='Multiple used in 2 places.'>LogMask_All</a>));
<a name='L220'> 220         <a href='../Y/158.html' title='Multiple used in 4 places.'>CAPI_SystemInitCalled</a> = 1;
<a name='L221'> 221     <font color='red'>}</font>
<a name='L222'> 222 
<a name='L223'> 223     <i><font color='green'>// Constructor detects devices</font></i>
<a name='L224'> 224     <a href='../D/426.html' title='Multiple defined in 2 places.'>GlobalState</a>::<a href='../Y/3949.html' title='Multiple used in 25 places.'>pInstance</a> = <b>new</b> <a href='../D/426.html' title='Multiple defined in 2 places.'>GlobalState</a>;
<a name='L225'> 225     <b>return</b> 1;
<a name='L226'> 226 <font color='red'>}</font>
<a name='L227'> 227 
<a name='L228'> 228 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <b>void</b> <a href='../Y/3900.html' title='Multiple used in 3 places.'>ovr_Shutdown</a>()
<a name='L229'> 229 <font color='red'>{</font>
<a name='L230'> 230     <b>if</b> (!<a href='../D/426.html' title='Multiple defined in 2 places.'>GlobalState</a>::<a href='../Y/3949.html' title='Multiple used in 25 places.'>pInstance</a>)
<a name='L231'> 231        <b>return</b>;
<a name='L232'> 232 
<a name='L233'> 233     <b>delete</b> <a href='../D/426.html' title='Multiple defined in 2 places.'>GlobalState</a>::<a href='../Y/3949.html' title='Multiple used in 25 places.'>pInstance</a>;
<a name='L234'> 234     <a href='../D/426.html' title='Multiple defined in 2 places.'>GlobalState</a>::<a href='../Y/3949.html' title='Multiple used in 25 places.'>pInstance</a> = 0;
<a name='L235'> 235 
<a name='L236'> 236     <i><font color='green'>// We should clean up the system to be complete</font></i>
<a name='L237'> 237     <b>if</b> (<a href='../Y/158.html' title='Multiple used in 4 places.'>CAPI_SystemInitCalled</a>)
<a name='L238'> 238     <font color='red'>{</font>
<a name='L239'> 239         <a href='../D/655.html' title='Multiple defined in 50 places.'>OVR</a>::<a href='../Y/2165.html' title='Multiple used in 15 places.'>System</a>::<a href='../S/170.html#L51' title='Defined at 51 in ovr/sdk/src/Kernel/OVR_System.cpp.'>Destroy</a>();
<a name='L240'> 240         <a href='../Y/158.html' title='Multiple used in 4 places.'>CAPI_SystemInitCalled</a> = 0;
<a name='L241'> 241     <font color='red'>}</font>    
<a name='L242'> 242     <b>return</b>;
<a name='L243'> 243 <font color='red'>}</font>
<a name='L244'> 244 
<a name='L245'> 245 
<a name='L246'> 246 <i><font color='green'>// There is a thread safety issue with ovrHmd_Detect in that multiple calls from different</font></i>
<a name='L247'> 247 <i><font color='green'>// threads can corrupt the global array state. This would lead to two problems:</font></i>
<a name='L248'> 248 <i><font color='green'>//  a) Create(index) enumerator may miss or overshoot items. Probably not a big deal</font></i>
<a name='L249'> 249 <i><font color='green'>//     as game logic can easily be written to only do Detect(s)/Creates in one place.</font></i>
<a name='L250'> 250 <i><font color='green'>//     The alternative would be to return list handle.</font></i>
<a name='L251'> 251 <i><font color='green'>//  b) TBD: Un-mutexed Detect access from two threads could lead to crash. We should</font></i>
<a name='L252'> 252 <i><font color='green'>//         probably check this.</font></i>
<a name='L253'> 253 <i><font color='green'>//</font></i>
<a name='L254'> 254 
<a name='L255'> 255 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <b>int</b> <a href='../Y/3851.html' title='Multiple used in 2 places.'>ovrHmd_Detect</a>()
<a name='L256'> 256 <font color='red'>{</font>
<a name='L257'> 257     <b>if</b> (!<a href='../D/426.html' title='Multiple defined in 2 places.'>GlobalState</a>::<a href='../Y/3949.html' title='Multiple used in 25 places.'>pInstance</a>)
<a name='L258'> 258         <b>return</b> 0;
<a name='L259'> 259     <b>return</b> <a href='../D/426.html' title='Multiple defined in 2 places.'>GlobalState</a>::<a href='../Y/3949.html' title='Multiple used in 25 places.'>pInstance</a>-&gt;<a href='../D/233.html' title='Multiple defined in 4 places.'>EnumerateDevices</a>();
<a name='L260'> 260 <font color='red'>}</font>
<a name='L261'> 261 
<a name='L262'> 262 
<a name='L263'> 263 <i><font color='green'>// ovrHmd_Create us explicitly separated from StartSensor and Configure to allow creation of </font></i>
<a name='L264'> 264 <i><font color='green'>// a relatively light-weight handle that would reference the device going forward and would </font></i>
<a name='L265'> 265 <i><font color='green'>// survive future ovrHmd_Detect calls. That is once ovrHMD is returned, index is no longer</font></i>
<a name='L266'> 266 <i><font color='green'>// necessary and can be changed by a ovrHmd_Detect call.</font></i>
<a name='L267'> 267 
<a name='L268'> 268 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3846.html' title='Multiple used in 3 places.'>ovrHmd_Create</a>(<b>int</b> <a href='../Y/3456.html' title='Multiple used in 204 places.'>index</a>)
<a name='L269'> 269 <font color='red'>{</font>
<a name='L270'> 270     <b>if</b> (!<a href='../D/426.html' title='Multiple defined in 2 places.'>GlobalState</a>::<a href='../Y/3949.html' title='Multiple used in 25 places.'>pInstance</a>)
<a name='L271'> 271         <b>return</b> 0;
<a name='L272'> 272     <a href='../Y/1725.html' title='Multiple used in 115 places.'>Ptr</a>&lt;<a href='../D/441.html' title='Multiple defined in 2 places.'>HMDDevice</a>&gt; <a href='../Y/3002.html' title='Multiple used in 145 places.'>device</a> = *<a href='../D/426.html' title='Multiple defined in 2 places.'>GlobalState</a>::<a href='../Y/3949.html' title='Multiple used in 25 places.'>pInstance</a>-&gt;<a href='../D/140.html' title='Multiple defined in 2 places.'>CreateDevice</a>(<a href='../Y/3456.html' title='Multiple used in 204 places.'>index</a>);
<a name='L273'> 273     <b>if</b> (!<a href='../Y/3002.html' title='Multiple used in 145 places.'>device</a>)
<a name='L274'> 274         <b>return</b> 0;
<a name='L275'> 275 
<a name='L276'> 276     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a> = <b>new</b> <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>(<a href='../Y/3002.html' title='Multiple used in 145 places.'>device</a>);
<a name='L277'> 277     <b>if</b> (!<a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>)
<a name='L278'> 278         <b>return</b> 0;
<a name='L279'> 279 
<a name='L280'> 280     <b>return</b> <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>;
<a name='L281'> 281 <font color='red'>}</font>
<a name='L282'> 282 
<a name='L283'> 283 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3847.html' title='Multiple used in 3 places.'>ovrHmd_CreateDebug</a>(<a href='../S/187.html#L121' title='Defined at 121 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmdType</a> <a href='../Y/4675.html' title='Multiple used in 21 places.'>type</a>)
<a name='L284'> 284 <font color='red'>{</font>
<a name='L285'> 285     <b>if</b> (!<a href='../D/426.html' title='Multiple defined in 2 places.'>GlobalState</a>::<a href='../Y/3949.html' title='Multiple used in 25 places.'>pInstance</a>)
<a name='L286'> 286         <b>return</b> 0;    
<a name='L287'> 287 
<a name='L288'> 288     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a> = <b>new</b> <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>(<a href='../Y/4675.html' title='Multiple used in 21 places.'>type</a>);    
<a name='L289'> 289     <b>return</b> <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>;
<a name='L290'> 290 <font color='red'>}</font>
<a name='L291'> 291 
<a name='L292'> 292 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <b>void</b> <a href='../Y/3849.html' title='Multiple used in 3 places.'>ovrHmd_Destroy</a>(<a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>)
<a name='L293'> 293 <font color='red'>{</font>
<a name='L294'> 294     <b>if</b> (!<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>)
<a name='L295'> 295         <b>return</b>;
<a name='L296'> 296     <i><font color='green'>// TBD: Any extra shutdown?</font></i>
<a name='L297'> 297     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L298'> 298         
<a name='L299'> 299     <font color='red'>{</font>   <i><font color='green'>// Thread checker in its own scope, to avoid access after 'delete'.</font></i>
<a name='L300'> 300         <i><font color='green'>// Essentially just checks that no other RenderAPI function is executing.</font></i>
<a name='L301'> 301         <a href='../Y/2230.html' title='Multiple used in 13 places.'>ThreadChecker</a>::<a href='../D/1002.html' title='Multiple defined in 2 places.'>Scope</a> <a href='../Y/2840.html' title='Multiple used in 6 places.'>checkScope</a>(&amp;<a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/1849.html' title='Multiple used in 7 places.'>RenderAPIThreadChecker</a>, "ovrHmd_Destroy");
<a name='L302'> 302     <font color='red'>}</font>    
<a name='L303'> 303 
<a name='L304'> 304     <b>delete</b> (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L305'> 305 <font color='red'>}</font>
<a name='L306'> 306 
<a name='L307'> 307 
<a name='L308'> 308 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <b>const</b> <b>char</b>* <a href='../Y/3864.html' title='Multiple used in 2 places.'>ovrHmd_GetLastError</a>(<a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>)
<a name='L309'> 309 <font color='red'>{</font>
<a name='L310'> 310     <b>using</b> <b>namespace</b> <a href='../D/655.html' title='Multiple defined in 50 places.'>OVR</a>;
<a name='L311'> 311     <b>if</b> (!<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>)
<a name='L312'> 312     <font color='red'>{</font>
<a name='L313'> 313         <b>if</b> (!<a href='../D/426.html' title='Multiple defined in 2 places.'>GlobalState</a>::<a href='../Y/3949.html' title='Multiple used in 25 places.'>pInstance</a>)  
<a name='L314'> 314             <b>return</b> "LibOVR not initialized.";
<a name='L315'> 315         <b>return</b> <a href='../D/426.html' title='Multiple defined in 2 places.'>GlobalState</a>::<a href='../Y/3949.html' title='Multiple used in 25 places.'>pInstance</a>-&gt;<a href='../Y/774.html' title='Multiple used in 4 places.'>GetLastError</a>();
<a name='L316'> 316     <font color='red'>}</font>
<a name='L317'> 317     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3905.html' title='Multiple used in 524 places.'>p</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L318'> 318     <b>return</b> <a href='../Y/3905.html' title='Multiple used in 524 places.'>p</a>-&gt;<a href='../Y/774.html' title='Multiple used in 4 places.'>GetLastError</a>();
<a name='L319'> 319 <font color='red'>}</font>
<a name='L320'> 320 
<a name='L321'> 321 
<a name='L322'> 322 <i><font color='green'>//-------------------------------------------------------------------------------------</font></i>
<a name='L323'> 323 
<a name='L324'> 324 <i><font color='green'>// Returns capability bits that are enabled at this time; described by ovrHmdCapBits.</font></i>
<a name='L325'> 325 <i><font color='green'>// Note that this value is different font ovrHmdDesc::Caps, which describes what</font></i>
<a name='L326'> 326 <i><font color='green'>// capabilities are available.</font></i>
<a name='L327'> 327 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <b>unsigned</b> <b>int</b> <a href='../Y/3857.html' title='Multiple used in 2 places.'>ovrHmd_GetEnabledCaps</a>(<a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>)
<a name='L328'> 328 <font color='red'>{</font>
<a name='L329'> 329     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3905.html' title='Multiple used in 524 places.'>p</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L330'> 330     <b>return</b> <a href='../Y/3905.html' title='Multiple used in 524 places.'>p</a> ? <a href='../Y/3905.html' title='Multiple used in 524 places.'>p</a>-&gt;<a href='../Y/495.html' title='Multiple used in 20 places.'>EnabledHmdCaps</a> : 0;
<a name='L331'> 331 <font color='red'>}</font>
<a name='L332'> 332 
<a name='L333'> 333 <i><font color='green'>// Modifies capability bits described by ovrHmdCapBits that can be modified,</font></i>
<a name='L334'> 334 <i><font color='green'>// such as ovrHmd_LowPersistance.</font></i>
<a name='L335'> 335 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <b>void</b> <a href='../Y/3876.html' title='Multiple used in 2 places.'>ovrHmd_SetEnabledCaps</a>(<a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>, <b>unsigned</b> <b>int</b> <a href='../Y/2820.html' title='Multiple used in 2 places.'>capsBits</a>)
<a name='L336'> 336 <font color='red'>{</font>
<a name='L337'> 337     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3905.html' title='Multiple used in 524 places.'>p</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L338'> 338     <b>if</b> (<a href='../Y/3905.html' title='Multiple used in 524 places.'>p</a>)
<a name='L339'> 339         <a href='../Y/3905.html' title='Multiple used in 524 places.'>p</a>-&gt;<a href='../S/97.html#L448' title='Defined at 448 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>SetEnabledHmdCaps</a>(<a href='../Y/2820.html' title='Multiple used in 2 places.'>capsBits</a>);
<a name='L340'> 340 <font color='red'>}</font>
<a name='L341'> 341 
<a name='L342'> 342 
<a name='L343'> 343 <i><font color='green'>//-------------------------------------------------------------------------------------</font></i>
<a name='L344'> 344 <i><font color='green'>// *** Sensor</font></i>
<a name='L345'> 345 
<a name='L346'> 346 <i><font color='green'>// Sensor APIs are separated from Create &amp; Configure for several reasons:</font></i>
<a name='L347'> 347 <i><font color='green'>//  - They need custom parameters that control allocation of heavy resources</font></i>
<a name='L348'> 348 <i><font color='green'>//    such as Vision tracking, which you don't want to create unless necessary.</font></i>
<a name='L349'> 349 <i><font color='green'>//  - A game may want to switch some sensor settings based on user input, </font></i>
<a name='L350'> 350 <i><font color='green'>//    or at lease enable/disable features such as Vision for debugging.</font></i>
<a name='L351'> 351 <i><font color='green'>//  - The same or syntactically similar sensor interface is likely to be used if we </font></i>
<a name='L352'> 352 <i><font color='green'>//    introduce controllers.</font></i>
<a name='L353'> 353 <i><font color='green'>//</font></i>
<a name='L354'> 354 <i><font color='green'>//  - Sensor interface functions are all Thread-safe, unlike the frame/render API</font></i>
<a name='L355'> 355 <i><font color='green'>//    functions that have different rules (all frame access functions</font></i>
<a name='L356'> 356 <i><font color='green'>//    must be on render thread)</font></i>
<a name='L357'> 357 
<a name='L358'> 358 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <a href='../S/187.html#L31' title='Defined at 31 in ovr/sdk/src/OVR_CAPI.h.'>ovrBool</a> <a href='../Y/3880.html' title='Multiple used in 3 places.'>ovrHmd_StartSensor</a>(<a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>, <b>unsigned</b> <b>int</b> <a href='../Y/4515.html' title='Multiple used in 8 places.'>supportedCaps</a>, <b>unsigned</b> <b>int</b> <a href='../Y/4284.html' title='Multiple used in 8 places.'>requiredCaps</a>)
<a name='L359'> 359 <font color='red'>{</font>
<a name='L360'> 360     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3905.html' title='Multiple used in 524 places.'>p</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L361'> 361     <i><font color='green'>// TBD: Decide if we null-check arguments.</font></i>
<a name='L362'> 362     <b>return</b> <a href='../Y/3905.html' title='Multiple used in 524 places.'>p</a>-&gt;<a href='../S/97.html#L114' title='Defined at 114 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>StartSensor</a>(<a href='../Y/4515.html' title='Multiple used in 8 places.'>supportedCaps</a>, <a href='../Y/4284.html' title='Multiple used in 8 places.'>requiredCaps</a>);
<a name='L363'> 363 <font color='red'>}</font>
<a name='L364'> 364 
<a name='L365'> 365 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <b>void</b> <a href='../Y/3881.html' title='Multiple used in 2 places.'>ovrHmd_StopSensor</a>(<a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>)
<a name='L366'> 366 <font color='red'>{</font>
<a name='L367'> 367     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3905.html' title='Multiple used in 524 places.'>p</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L368'> 368     <a href='../Y/3905.html' title='Multiple used in 524 places.'>p</a>-&gt;<a href='../S/97.html#L220' title='Defined at 220 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>StopSensor</a>();
<a name='L369'> 369 <font color='red'>}</font>
<a name='L370'> 370 
<a name='L371'> 371 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <b>void</b> <a href='../Y/3875.html' title='Multiple used in 2 places.'>ovrHmd_ResetSensor</a>(<a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>)
<a name='L372'> 372 <font color='red'>{</font>
<a name='L373'> 373     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3905.html' title='Multiple used in 524 places.'>p</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L374'> 374     <a href='../Y/3905.html' title='Multiple used in 524 places.'>p</a>-&gt;<a href='../S/97.html#L250' title='Defined at 250 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>ResetSensor</a>();
<a name='L375'> 375 <font color='red'>}</font>
<a name='L376'> 376 
<a name='L377'> 377 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <a href='../D/1503.html' title='Multiple defined in 2 places.'>ovrSensorState</a> <a href='../Y/3871.html' title='Multiple used in 6 places.'>ovrHmd_GetSensorState</a>(<a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>, <b>double</b> <a href='../Y/2672.html' title='Multiple used in 15 places.'>absTime</a>)
<a name='L378'> 378 <font color='red'>{</font>
<a name='L379'> 379     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3905.html' title='Multiple used in 524 places.'>p</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L380'> 380     <b>return</b> <a href='../Y/3905.html' title='Multiple used in 524 places.'>p</a>-&gt;<a href='../S/97.html#L257' title='Defined at 257 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>PredictedSensorState</a>(<a href='../Y/2672.html' title='Multiple used in 15 places.'>absTime</a>);
<a name='L381'> 381 <font color='red'>}</font>
<a name='L382'> 382 
<a name='L383'> 383 <i><font color='green'>// Returns information about a sensor. Only valid after SensorStart.</font></i>
<a name='L384'> 384 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <a href='../S/187.html#L31' title='Defined at 31 in ovr/sdk/src/OVR_CAPI.h.'>ovrBool</a> <a href='../Y/3870.html' title='Multiple used in 2 places.'>ovrHmd_GetSensorDesc</a>(<a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>, <a href='../S/187.html#L277' title='Defined at 277 in ovr/sdk/src/OVR_CAPI.h.'>ovrSensorDesc</a>* <a href='../Y/2983.html' title='Multiple used in 9 places.'>descOut</a>)
<a name='L385'> 385 <font color='red'>{</font>
<a name='L386'> 386     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3905.html' title='Multiple used in 524 places.'>p</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L387'> 387     <b>return</b> <a href='../Y/3905.html' title='Multiple used in 524 places.'>p</a>-&gt;<a href='../S/97.html#L353' title='Defined at 353 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>GetSensorDesc</a>(<a href='../Y/2983.html' title='Multiple used in 9 places.'>descOut</a>) ? 1 : 0;
<a name='L388'> 388 <font color='red'>}</font>
<a name='L389'> 389 
<a name='L390'> 390 
<a name='L391'> 391 
<a name='L392'> 392 <i><font color='green'>//-------------------------------------------------------------------------------------</font></i>
<a name='L393'> 393 <i><font color='green'>// *** General Setup</font></i>
<a name='L394'> 394 
<a name='L395'> 395 
<a name='L396'> 396 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <b>void</b> <a href='../Y/3856.html' title='Multiple used in 4 places.'>ovrHmd_GetDesc</a>(<a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>, <a href='../S/187.html#L228' title='Defined at 228 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmdDesc</a>* <a href='../Y/2980.html' title='Multiple used in 57 places.'>desc</a>)
<a name='L397'> 397 <font color='red'>{</font>
<a name='L398'> 398     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;    
<a name='L399'> 399     *<a href='../Y/2980.html' title='Multiple used in 57 places.'>desc</a> = <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/1857.html' title='Multiple used in 17 places.'>RenderState</a>.<a href='../S/107.html#L53' title='Defined at 53 in ovr/sdk/src/CAPI/CAPI_HMDRenderState.cpp.'>GetDesc</a>();
<a name='L400'> 400     <a href='../Y/2980.html' title='Multiple used in 57 places.'>desc</a>-&gt;<a href='../Y/892.html' title='Multiple used in 5 places.'>Handle</a> = <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L401'> 401 <font color='red'>}</font>
<a name='L402'> 402 
<a name='L403'> 403 <i><font color='green'>// Per HMD -&gt; calculateIdealPixelSize</font></i>
<a name='L404'> 404 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <a href='../D/1506.html' title='Multiple defined in 2 places.'>ovrSizei</a> <a href='../Y/3862.html' title='Multiple used in 2 places.'>ovrHmd_GetFovTextureSize</a>(<a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>, <a href='../S/187.html#L182' title='Defined at 182 in ovr/sdk/src/OVR_CAPI.h.'>ovrEyeType</a> <a href='../Y/3157.html' title='Multiple used in 64 places.'>eye</a>, <a href='../D/1439.html' title='Multiple defined in 2 places.'>ovrFovPort</a> <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>,
<a name='L405'> 405                                              <b>float</b> <a href='../Y/4065.html' title='Multiple used in 13 places.'>pixelsPerDisplayPixel</a>)
<a name='L406'> 406 <font color='red'>{</font>
<a name='L407'> 407     <b>if</b> (!<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>) <b>return</b> <a href='../S/177.html#L636' title='Defined at 636 in ovr/sdk/src/Kernel/OVR_Math.h.'>Sizei</a>(0);
<a name='L408'> 408     
<a name='L409'> 409     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L410'> 410     <b>return</b> <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/1857.html' title='Multiple used in 17 places.'>RenderState</a>.<a href='../S/107.html#L111' title='Defined at 111 in ovr/sdk/src/CAPI/CAPI_HMDRenderState.cpp.'>GetFOVTextureSize</a>(<a href='../Y/3157.html' title='Multiple used in 64 places.'>eye</a>, <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>, <a href='../Y/4065.html' title='Multiple used in 13 places.'>pixelsPerDisplayPixel</a>);
<a name='L411'> 411 <font color='red'>}</font>
<a name='L412'> 412 
<a name='L413'> 413 
<a name='L414'> 414 <i><font color='green'>//-------------------------------------------------------------------------------------</font></i>
<a name='L415'> 415 
<a name='L416'> 416 
<a name='L417'> 417 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> 
<a name='L418'> 418 <a href='../S/187.html#L31' title='Defined at 31 in ovr/sdk/src/OVR_CAPI.h.'>ovrBool</a> <a href='../Y/3845.html' title='Multiple used in 2 places.'>ovrHmd_ConfigureRendering</a>( <a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>,
<a name='L419'> 419                                    <b>const</b> <a href='../S/187.html#L365' title='Defined at 365 in ovr/sdk/src/OVR_CAPI.h.'>ovrRenderAPIConfig</a>* <a href='../Y/2703.html' title='Multiple used in 13 places.'>apiConfig</a>,
<a name='L420'> 420                                    <b>unsigned</b> <b>int</b> <a href='../Y/3048.html' title='Multiple used in 14 places.'>distortionCaps</a>,
<a name='L421'> 421                                    <b>const</b> <a href='../D/1439.html' title='Multiple defined in 2 places.'>ovrFovPort</a> <a href='../Y/3163.html' title='Multiple used in 10 places.'>eyeFovIn</a>[2],
<a name='L422'> 422                                    <a href='../S/187.html#L326' title='Defined at 326 in ovr/sdk/src/OVR_CAPI.h.'>ovrEyeRenderDesc</a> <a href='../Y/3170.html' title='Multiple used in 10 places.'>eyeRenderDescOut</a>[2] )
<a name='L423'> 423 <font color='red'>{</font>
<a name='L424'> 424     <b>if</b> (!<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>) <b>return</b> 0;
<a name='L425'> 425     <b>return</b> ((<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>)-&gt;<a href='../S/97.html#L701' title='Defined at 701 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>ConfigureRendering</a>(<a href='../Y/3170.html' title='Multiple used in 10 places.'>eyeRenderDescOut</a>, <a href='../Y/3163.html' title='Multiple used in 10 places.'>eyeFovIn</a>,
<a name='L426'> 426                                                 <a href='../Y/2703.html' title='Multiple used in 13 places.'>apiConfig</a>, <a href='../Y/3048.html' title='Multiple used in 14 places.'>distortionCaps</a>);
<a name='L427'> 427 <font color='red'>}</font>
<a name='L428'> 428 
<a name='L429'> 429 
<a name='L430'> 430 
<a name='L431'> 431 <i><font color='green'>// TBD: MA - Deprecated, need alternative</font></i>
<a name='L432'> 432 <b>void</b> ovrHmd_SetVsync(<a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>, <a href='../S/187.html#L31' title='Defined at 31 in ovr/sdk/src/OVR_CAPI.h.'>ovrBool</a> <a href='../Y/4820.html' title='Multiple used in 2 places.'>vsync</a>)
<a name='L433'> 433 <font color='red'>{</font>
<a name='L434'> 434     <b>if</b> (!<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>) <b>return</b>;
<a name='L435'> 435 
<a name='L436'> 436     <b>return</b> ((<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>)-&gt;<a href='../Y/2255.html' title='Multiple used in 24 places.'>TimeManager</a>.<a href='../Y/2072.html' title='Multiple used in 3 places.'>SetVsync</a>(<a href='../Y/4820.html' title='Multiple used in 2 places.'>vsync</a>? <b>true</b> : <b>false</b>);
<a name='L437'> 437 <font color='red'>}</font>
<a name='L438'> 438 
<a name='L439'> 439 
<a name='L440'> 440 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <a href='../S/187.html#L309' title='Defined at 309 in ovr/sdk/src/OVR_CAPI.h.'>ovrFrameTiming</a> <a href='../Y/3843.html' title='Multiple used in 2 places.'>ovrHmd_BeginFrame</a>(<a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>, <b>unsigned</b> <b>int</b> <a href='../Y/3254.html' title='Multiple used in 27 places.'>frameIndex</a>)
<a name='L441'> 441 <font color='red'>{</font>           
<a name='L442'> 442     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L443'> 443     <b>if</b> (!<a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>)
<a name='L444'> 444     <font color='red'>{</font>
<a name='L445'> 445         <a href='../S/187.html#L309' title='Defined at 309 in ovr/sdk/src/OVR_CAPI.h.'>ovrFrameTiming</a> <a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>;
<a name='L446'> 446         <a href='../Y/3671.html' title='Multiple used in 35 places.'>memset</a>(&amp;<a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>, 0, <b>sizeof</b>(<a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>));
<a name='L447'> 447         <b>return</b> <a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>;
<a name='L448'> 448     <font color='red'>}</font>
<a name='L449'> 449 
<a name='L450'> 450     <i><font color='green'>// Check: Proper configure and threading state for the call.</font></i>
<a name='L451'> 451     <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/2839.html' title='Multiple used in 2 places.'>checkRenderingConfigured</a>("ovrHmd_BeginFrame");
<a name='L452'> 452     <a href='../D/664.html' title='Multiple defined in 2 places.'>OVR_ASSERT_LOG</a>(<a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/123.html' title='Multiple used in 7 places.'>BeginFrameCalled</a> == <b>false</b>, ("ovrHmd_BeginFrame called multiple times."));
<a name='L453'> 453     <a href='../Y/2230.html' title='Multiple used in 13 places.'>ThreadChecker</a>::<a href='../D/1002.html' title='Multiple defined in 2 places.'>Scope</a> <a href='../Y/2840.html' title='Multiple used in 6 places.'>checkScope</a>(&amp;<a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/1849.html' title='Multiple used in 7 places.'>RenderAPIThreadChecker</a>, "ovrHmd_BeginFrame");
<a name='L454'> 454     
<a name='L455'> 455     <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/123.html' title='Multiple used in 7 places.'>BeginFrameCalled</a>   = <b>true</b>;
<a name='L456'> 456     <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/124.html' title='Multiple used in 6 places.'>BeginFrameThreadId</a> = <a href='../D/655.html' title='Multiple defined in 50 places.'>OVR</a>::<a href='../S/181.html#L759' title='Defined at 759 in ovr/sdk/src/Kernel/OVR_ThreadsPthread.cpp.'>GetCurrentThreadId</a>();
<a name='L457'> 457 
<a name='L458'> 458     <b>return</b> <a href='../Y/3844.html' title='Multiple used in 3 places.'>ovrHmd_BeginFrameTiming</a>(<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>, <a href='../Y/3254.html' title='Multiple used in 27 places.'>frameIndex</a>);
<a name='L459'> 459 <font color='red'>}</font>
<a name='L460'> 460 
<a name='L461'> 461 
<a name='L462'> 462 <i><font color='green'>// Renders textures to frame buffer</font></i>
<a name='L463'> 463 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <b>void</b> <a href='../Y/3853.html' title='Multiple used in 2 places.'>ovrHmd_EndFrame</a>(<a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>)
<a name='L464'> 464 <font color='red'>{</font>
<a name='L465'> 465     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L466'> 466     <b>if</b> (!<a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>) <b>return</b>;
<a name='L467'> 467 
<a name='L468'> 468     <i><font color='green'>// Debug state checks: Must be in BeginFrame, on the same thread.</font></i>
<a name='L469'> 469     <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/2835.html' title='Multiple used in 4 places.'>checkBeginFrameScope</a>("ovrHmd_EndFrame");
<a name='L470'> 470     <a href='../Y/2230.html' title='Multiple used in 13 places.'>ThreadChecker</a>::<a href='../D/1002.html' title='Multiple defined in 2 places.'>Scope</a> <a href='../Y/2840.html' title='Multiple used in 6 places.'>checkScope</a>(&amp;<a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/1849.html' title='Multiple used in 7 places.'>RenderAPIThreadChecker</a>, "ovrHmd_EndFrame");  
<a name='L471'> 471 
<a name='L472'> 472     <i><font color='green'>// TBD: Move directly into renderer</font></i>
<a name='L473'> 473     <b>bool</b> <a href='../Y/3061.html' title='Multiple used in 4 places.'>dk2LatencyTest</a> = (<a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../S/107.html#L37' title='Defined at 37 in ovr/sdk/src/CAPI/CAPI_HMDRenderState.cpp.'>HMDInfo</a>.<a href='../Y/934.html' title='Multiple used in 18 places.'>HmdType</a> == <a href='../Y/938.html' title='Multiple used in 14 places.'>HmdType_DK2</a>) &amp;&amp;
<a name='L474'> 474                            (<a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/495.html' title='Multiple used in 20 places.'>EnabledHmdCaps</a> &amp; <a href='../S/187.html#L143' title='Defined at 143 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmdCap_LatencyTest</a>);
<a name='L475'> 475     <b>if</b> (<a href='../Y/3061.html' title='Multiple used in 4 places.'>dk2LatencyTest</a>)
<a name='L476'> 476     <font color='red'>{</font>
<a name='L477'> 477         <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/1233.html' title='Multiple used in 6 places.'>LatencyTest2DrawColor</a>[0] = <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/2255.html' title='Multiple used in 24 places.'>TimeManager</a>.<a href='../Y/760.html' title='Multiple used in 2 places.'>GetFrameLatencyTestDrawColor</a>();
<a name='L478'> 478         <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/1233.html' title='Multiple used in 6 places.'>LatencyTest2DrawColor</a>[1] = <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/1233.html' title='Multiple used in 6 places.'>LatencyTest2DrawColor</a>[0];
<a name='L479'> 479         <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/1233.html' title='Multiple used in 6 places.'>LatencyTest2DrawColor</a>[2] = <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/1233.html' title='Multiple used in 6 places.'>LatencyTest2DrawColor</a>[0];
<a name='L480'> 480     <font color='red'>}</font>
<a name='L481'> 481 
<a name='L482'> 482     <b>if</b> (<a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/3976.html' title='Multiple used in 18 places.'>pRenderer</a>)
<a name='L483'> 483         <font color='red'>{</font>
<a name='L484'> 484                 <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/3976.html' title='Multiple used in 18 places.'>pRenderer</a>-&gt;<a href='../Y/1946.html' title='Multiple used in 2 places.'>SaveGraphicsState</a>();
<a name='L485'> 485         <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/3976.html' title='Multiple used in 18 places.'>pRenderer</a>-&gt;<a href='../D/227.html' title='Multiple defined in 2 places.'>EndFrame</a>(<b>true</b>,
<a name='L486'> 486                                   <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/1234.html' title='Multiple used in 4 places.'>LatencyTestActive</a> ? <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/1242.html' title='Multiple used in 9 places.'>LatencyTestDrawColor</a> : <a href='../Y/1448.html' title='Multiple used in 256 places.'>NULL</a>,
<a name='L487'> 487                             
<a name='L488'> 488                                   <i><font color='green'>// MA: Use this color since we are running DK2 test all the time.</font></i>
<a name='L489'> 489                                   <a href='../Y/3061.html' title='Multiple used in 4 places.'>dk2LatencyTest</a> ? <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/1233.html' title='Multiple used in 6 places.'>LatencyTest2DrawColor</a> : 0
<a name='L490'> 490                                   <i><font color='green'>//hmds-&gt;LatencyTest2Active ? hmds-&gt;LatencyTest2DrawColor : NULL</font></i>
<a name='L491'> 491                                                                   );
<a name='L492'> 492                 <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/3976.html' title='Multiple used in 18 places.'>pRenderer</a>-&gt;<a href='../Y/1869.html' title='Multiple used in 2 places.'>RestoreGraphicsState</a>();
<a name='L493'> 493     <font color='red'>}</font>
<a name='L494'> 494     <i><font color='green'>// Call after present</font></i>
<a name='L495'> 495     <a href='../Y/3854.html' title='Multiple used in 3 places.'>ovrHmd_EndFrameTiming</a>(<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>);
<a name='L496'> 496 
<a name='L497'> 497     <b>if</b> (<a href='../Y/3061.html' title='Multiple used in 4 places.'>dk2LatencyTest</a>)
<a name='L498'> 498     <font color='red'>{</font>
<a name='L499'> 499         <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/2255.html' title='Multiple used in 24 places.'>TimeManager</a>.<a href='../S/98.html#L599' title='Defined at 599 in ovr/sdk/src/CAPI/CAPI_FrameTimeManager.cpp.'>UpdateFrameLatencyTrackingAfterEndFrame</a>(
<a name='L500'> 500             <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/1233.html' title='Multiple used in 6 places.'>LatencyTest2DrawColor</a>[0], <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/1263.html' title='Multiple used in 10 places.'>LatencyUtil2</a>.<a href='../Y/781.html' title='Multiple used in 2 places.'>GetLocklessState</a>());
<a name='L501'> 501     <font color='red'>}</font>
<a name='L502'> 502 
<a name='L503'> 503     <i><font color='green'>// Out of BeginFrame</font></i>
<a name='L504'> 504     <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/124.html' title='Multiple used in 6 places.'>BeginFrameThreadId</a> = 0;
<a name='L505'> 505     <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/123.html' title='Multiple used in 7 places.'>BeginFrameCalled</a>   = <b>false</b>;
<a name='L506'> 506 <font color='red'>}</font>
<a name='L507'> 507 
<a name='L508'> 508 
<a name='L509'> 509 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <a href='../D/1478.html' title='Multiple defined in 2 places.'>ovrPosef</a> <a href='../Y/3842.html' title='Multiple used in 2 places.'>ovrHmd_BeginEyeRender</a>(<a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>, <a href='../S/187.html#L182' title='Defined at 182 in ovr/sdk/src/OVR_CAPI.h.'>ovrEyeType</a> <a href='../Y/3157.html' title='Multiple used in 64 places.'>eye</a>)
<a name='L510'> 510 <font color='red'>{</font>
<a name='L511'> 511     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L512'> 512     <b>if</b> (!<a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>) <b>return</b> <a href='../D/1478.html' title='Multiple defined in 2 places.'>ovrPosef</a>();
<a name='L513'> 513     <b>return</b> <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../S/97.html#L758' title='Defined at 758 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>BeginEyeRender</a>(<a href='../Y/3157.html' title='Multiple used in 64 places.'>eye</a>);
<a name='L514'> 514 <font color='red'>}</font>
<a name='L515'> 515 
<a name='L516'> 516 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <b>void</b> <a href='../Y/3852.html' title='Multiple used in 2 places.'>ovrHmd_EndEyeRender</a>(<a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>, <a href='../S/187.html#L182' title='Defined at 182 in ovr/sdk/src/OVR_CAPI.h.'>ovrEyeType</a> <a href='../Y/3157.html' title='Multiple used in 64 places.'>eye</a>,
<a name='L517'> 517                                     <a href='../D/1478.html' title='Multiple defined in 2 places.'>ovrPosef</a> <a href='../Y/4264.html' title='Multiple used in 12 places.'>renderPose</a>, <a href='../S/187.html#L381' title='Defined at 381 in ovr/sdk/src/OVR_CAPI.h.'>ovrTexture</a>* <a href='../Y/3173.html' title='Multiple used in 10 places.'>eyeTexture</a>)
<a name='L518'> 518 <font color='red'>{</font>
<a name='L519'> 519     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L520'> 520     <b>if</b> (!<a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>) <b>return</b>;
<a name='L521'> 521     <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../S/97.html#L782' title='Defined at 782 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>EndEyeRender</a>(<a href='../Y/3157.html' title='Multiple used in 64 places.'>eye</a>, <a href='../Y/4264.html' title='Multiple used in 12 places.'>renderPose</a>, <a href='../Y/3173.html' title='Multiple used in 10 places.'>eyeTexture</a>);
<a name='L522'> 522 <font color='red'>}</font>
<a name='L523'> 523 
<a name='L524'> 524 
<a name='L525'> 525 <i><font color='green'>//-------------------------------------------------------------------------------------</font></i>
<a name='L526'> 526 <i><font color='green'>// ***** Frame Timing logic</font></i>
<a name='L527'> 527 
<a name='L528'> 528 
<a name='L529'> 529 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <a href='../S/187.html#L309' title='Defined at 309 in ovr/sdk/src/OVR_CAPI.h.'>ovrFrameTiming</a> <a href='../Y/3863.html' title='Multiple used in 2 places.'>ovrHmd_GetFrameTiming</a>(<a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>, <b>unsigned</b> <b>int</b> <a href='../Y/3254.html' title='Multiple used in 27 places.'>frameIndex</a>)
<a name='L530'> 530 <font color='red'>{</font>
<a name='L531'> 531     <a href='../S/187.html#L309' title='Defined at 309 in ovr/sdk/src/OVR_CAPI.h.'>ovrFrameTiming</a> <a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>;
<a name='L532'> 532     <a href='../Y/3671.html' title='Multiple used in 35 places.'>memset</a>(&amp;<a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>, 0, <b>sizeof</b>(<a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>));
<a name='L533'> 533 
<a name='L534'> 534     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L535'> 535     <b>if</b> (<a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>)
<a name='L536'> 536     <font color='red'>{</font>
<a name='L537'> 537         <a href='../Y/642.html' title='Multiple used in 29 places.'>FrameTimeManager</a>::<a href='../D/1178.html' title='Multiple defined in 2 places.'>Timing</a> <a href='../Y/3258.html' title='Multiple used in 22 places.'>frameTiming</a> = <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/2255.html' title='Multiple used in 24 places.'>TimeManager</a>.<a href='../S/98.html#L440' title='Defined at 440 in ovr/sdk/src/CAPI/CAPI_FrameTimeManager.cpp.'>GetFrameTiming</a>(<a href='../Y/3254.html' title='Multiple used in 27 places.'>frameIndex</a>);
<a name='L538'> 538 
<a name='L539'> 539         <a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>.<a href='../Y/2227.html' title='Multiple used in 5 places.'>ThisFrameSeconds</a>     = <a href='../Y/3258.html' title='Multiple used in 22 places.'>frameTiming</a>.<a href='../Y/2228.html' title='Multiple used in 9 places.'>ThisFrameTime</a>;
<a name='L540'> 540         <a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>.<a href='../Y/1458.html' title='Multiple used in 3 places.'>NextFrameSeconds</a>       = <a href='../Y/3258.html' title='Multiple used in 22 places.'>frameTiming</a>.<a href='../Y/1459.html' title='Multiple used in 13 places.'>NextFrameTime</a>;
<a name='L541'> 541         <a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>.<a href='../Y/2267.html' title='Multiple used in 3 places.'>TimewarpPointSeconds</a>  = <a href='../Y/3258.html' title='Multiple used in 22 places.'>frameTiming</a>.<a href='../Y/2268.html' title='Multiple used in 5 places.'>TimewarpPointTime</a>;
<a name='L542'> 542         <a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>.<a href='../Y/1966.html' title='Multiple used in 3 places.'>ScanoutMidpointSeconds</a>= <a href='../Y/3258.html' title='Multiple used in 22 places.'>frameTiming</a>.<a href='../Y/1421.html' title='Multiple used in 12 places.'>MidpointTime</a>;
<a name='L543'> 543         <a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>.<a href='../Y/566.html' title='Multiple used in 5 places.'>EyeScanoutSeconds</a>[0]  = <a href='../Y/3258.html' title='Multiple used in 22 places.'>frameTiming</a>.<a href='../Y/564.html' title='Multiple used in 14 places.'>EyeRenderTimes</a>[0];
<a name='L544'> 544         <a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>.<a href='../Y/566.html' title='Multiple used in 5 places.'>EyeScanoutSeconds</a>[1]  = <a href='../Y/3258.html' title='Multiple used in 22 places.'>frameTiming</a>.<a href='../Y/564.html' title='Multiple used in 14 places.'>EyeRenderTimes</a>[1];
<a name='L545'> 545 
<a name='L546'> 546          <i><font color='green'>// Compute DeltaSeconds.</font></i>
<a name='L547'> 547         <a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>.<a href='../Y/367.html' title='Multiple used in 7 places.'>DeltaSeconds</a> = (<a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../S/97.html#L74' title='Defined at 74 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>LastGetFrameTimeSeconds</a> == 0.0f) ? 0.0f :
<a name='L548'> 548                          (<b>float</b>) (<a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>.<a href='../Y/2227.html' title='Multiple used in 5 places.'>ThisFrameSeconds</a> - <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/1213.html' title='Multiple used in 7 places.'>LastFrameTimeSeconds</a>);    
<a name='L549'> 549         <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../S/97.html#L74' title='Defined at 74 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>LastGetFrameTimeSeconds</a> = <a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>.<a href='../Y/2227.html' title='Multiple used in 5 places.'>ThisFrameSeconds</a>;
<a name='L550'> 550         <b>if</b> (<a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>.<a href='../Y/367.html' title='Multiple used in 7 places.'>DeltaSeconds</a> &gt; 1.0f)
<a name='L551'> 551             <a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>.<a href='../Y/367.html' title='Multiple used in 7 places.'>DeltaSeconds</a> = 1.0f;
<a name='L552'> 552     <font color='red'>}</font>
<a name='L553'> 553         
<a name='L554'> 554     <b>return</b> <a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>;
<a name='L555'> 555 <font color='red'>}</font>
<a name='L556'> 556 
<a name='L557'> 557 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <a href='../S/187.html#L309' title='Defined at 309 in ovr/sdk/src/OVR_CAPI.h.'>ovrFrameTiming</a> <a href='../Y/3844.html' title='Multiple used in 3 places.'>ovrHmd_BeginFrameTiming</a>(<a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>, <b>unsigned</b> <b>int</b> <a href='../Y/3254.html' title='Multiple used in 27 places.'>frameIndex</a>)
<a name='L558'> 558 <font color='red'>{</font>
<a name='L559'> 559     <a href='../S/187.html#L309' title='Defined at 309 in ovr/sdk/src/OVR_CAPI.h.'>ovrFrameTiming</a> <a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>;
<a name='L560'> 560     <a href='../Y/3671.html' title='Multiple used in 35 places.'>memset</a>(&amp;<a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>, 0, <b>sizeof</b>(<a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>));
<a name='L561'> 561 
<a name='L562'> 562     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L563'> 563     <b>if</b> (!<a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>) <b>return</b> <a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>;
<a name='L564'> 564 
<a name='L565'> 565     <i><font color='green'>// Check: Proper state for the call.    </font></i>
<a name='L566'> 566     <a href='../D/664.html' title='Multiple defined in 2 places.'>OVR_ASSERT_LOG</a>(<a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/125.html' title='Multiple used in 7 places.'>BeginFrameTimingCalled</a> == <b>false</b>,
<a name='L567'> 567                     ("ovrHmd_BeginFrameTiming called multiple times."));    
<a name='L568'> 568     <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/125.html' title='Multiple used in 7 places.'>BeginFrameTimingCalled</a> = <b>true</b>;
<a name='L569'> 569 
<a name='L570'> 570     <b>double</b> <a href='../Y/4590.html' title='Multiple used in 11 places.'>thisFrameTime</a> = <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/2255.html' title='Multiple used in 24 places.'>TimeManager</a>.<a href='../S/98.html#L405' title='Defined at 405 in ovr/sdk/src/CAPI/CAPI_FrameTimeManager.cpp.'>BeginFrame</a>(<a href='../Y/3254.html' title='Multiple used in 27 places.'>frameIndex</a>);        
<a name='L571'> 571 
<a name='L572'> 572     <b>const</b> <a href='../Y/642.html' title='Multiple used in 29 places.'>FrameTimeManager</a>::<a href='../D/1178.html' title='Multiple defined in 2 places.'>Timing</a> &amp;<a href='../Y/3258.html' title='Multiple used in 22 places.'>frameTiming</a> = <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/2255.html' title='Multiple used in 24 places.'>TimeManager</a>.<a href='../S/98.html#L440' title='Defined at 440 in ovr/sdk/src/CAPI/CAPI_FrameTimeManager.cpp.'>GetFrameTiming</a>();
<a name='L573'> 573 
<a name='L574'> 574     <a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>.<a href='../Y/2227.html' title='Multiple used in 5 places.'>ThisFrameSeconds</a>     = <a href='../Y/4590.html' title='Multiple used in 11 places.'>thisFrameTime</a>;
<a name='L575'> 575     <a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>.<a href='../Y/1458.html' title='Multiple used in 3 places.'>NextFrameSeconds</a>       = <a href='../Y/3258.html' title='Multiple used in 22 places.'>frameTiming</a>.<a href='../Y/1459.html' title='Multiple used in 13 places.'>NextFrameTime</a>;
<a name='L576'> 576     <a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>.<a href='../Y/2267.html' title='Multiple used in 3 places.'>TimewarpPointSeconds</a>  = <a href='../Y/3258.html' title='Multiple used in 22 places.'>frameTiming</a>.<a href='../Y/2268.html' title='Multiple used in 5 places.'>TimewarpPointTime</a>;
<a name='L577'> 577     <a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>.<a href='../Y/1966.html' title='Multiple used in 3 places.'>ScanoutMidpointSeconds</a>= <a href='../Y/3258.html' title='Multiple used in 22 places.'>frameTiming</a>.<a href='../Y/1421.html' title='Multiple used in 12 places.'>MidpointTime</a>;
<a name='L578'> 578     <a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>.<a href='../Y/566.html' title='Multiple used in 5 places.'>EyeScanoutSeconds</a>[0]  = <a href='../Y/3258.html' title='Multiple used in 22 places.'>frameTiming</a>.<a href='../Y/564.html' title='Multiple used in 14 places.'>EyeRenderTimes</a>[0];
<a name='L579'> 579     <a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>.<a href='../Y/566.html' title='Multiple used in 5 places.'>EyeScanoutSeconds</a>[1]  = <a href='../Y/3258.html' title='Multiple used in 22 places.'>frameTiming</a>.<a href='../Y/564.html' title='Multiple used in 14 places.'>EyeRenderTimes</a>[1];
<a name='L580'> 580 
<a name='L581'> 581     <i><font color='green'>// Compute DeltaSeconds.</font></i>
<a name='L582'> 582     <a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>.<a href='../Y/367.html' title='Multiple used in 7 places.'>DeltaSeconds</a> = (<a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/1213.html' title='Multiple used in 7 places.'>LastFrameTimeSeconds</a> == 0.0f) ? 0.0f :
<a name='L583'> 583                      (<b>float</b>) (<a href='../Y/4590.html' title='Multiple used in 11 places.'>thisFrameTime</a> - <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/1213.html' title='Multiple used in 7 places.'>LastFrameTimeSeconds</a>);    
<a name='L584'> 584     <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/1213.html' title='Multiple used in 7 places.'>LastFrameTimeSeconds</a> = <a href='../Y/4590.html' title='Multiple used in 11 places.'>thisFrameTime</a>;
<a name='L585'> 585     <b>if</b> (<a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>.<a href='../Y/367.html' title='Multiple used in 7 places.'>DeltaSeconds</a> &gt; 1.0f)
<a name='L586'> 586         <a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>.<a href='../Y/367.html' title='Multiple used in 7 places.'>DeltaSeconds</a> = 1.0f;
<a name='L587'> 587 
<a name='L588'> 588     <b>return</b> <a href='../Y/3185.html' title='Multiple used in 61 places.'>f</a>;
<a name='L589'> 589 <font color='red'>}</font>
<a name='L590'> 590 
<a name='L591'> 591 
<a name='L592'> 592 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <b>void</b> <a href='../Y/3854.html' title='Multiple used in 3 places.'>ovrHmd_EndFrameTiming</a>(<a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>)
<a name='L593'> 593 <font color='red'>{</font>
<a name='L594'> 594     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L595'> 595     <b>if</b> (!<a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>) <b>return</b>;
<a name='L596'> 596 
<a name='L597'> 597     <i><font color='green'>// Debug state checks: Must be in BeginFrameTiming, on the same thread.</font></i>
<a name='L598'> 598     <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/2836.html' title='Multiple used in 4 places.'>checkBeginFrameTimingScope</a>("ovrHmd_EndTiming");
<a name='L599'> 599    <i><font color='green'>// MA TBD: Correct chek or not?</font></i>
<a name='L600'> 600    <i><font color='green'>// ThreadChecker::Scope checkScope(&amp;hmds-&gt;RenderAPIThreadChecker, "ovrHmd_EndFrame");</font></i>
<a name='L601'> 601 
<a name='L602'> 602     <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/2255.html' title='Multiple used in 24 places.'>TimeManager</a>.<a href='../D/227.html' title='Multiple defined in 2 places.'>EndFrame</a>();   
<a name='L603'> 603     <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/125.html' title='Multiple used in 7 places.'>BeginFrameTimingCalled</a> = <b>false</b>;
<a name='L604'> 604 <font color='red'>}</font>
<a name='L605'> 605 
<a name='L606'> 606 
<a name='L607'> 607 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <b>void</b> <a href='../Y/3874.html' title='Multiple used in 2 places.'>ovrHmd_ResetFrameTiming</a>(<a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>,  <b>unsigned</b> <b>int</b> <a href='../Y/3254.html' title='Multiple used in 27 places.'>frameIndex</a>) 
<a name='L608'> 608 <font color='red'>{</font>
<a name='L609'> 609     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L610'> 610     <b>if</b> (!<a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>) <b>return</b>;
<a name='L611'> 611     
<a name='L612'> 612     <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/2255.html' title='Multiple used in 24 places.'>TimeManager</a>.<a href='../S/98.html#L235' title='Defined at 235 in ovr/sdk/src/CAPI/CAPI_FrameTimeManager.cpp.'>ResetFrameTiming</a>(<a href='../Y/3254.html' title='Multiple used in 27 places.'>frameIndex</a>, 
<a name='L613'> 613                                        <b>false</b>,
<a name='L614'> 614                                        <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/1862.html' title='Multiple used in 9 places.'>RenderingConfigured</a>);
<a name='L615'> 615     <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/1213.html' title='Multiple used in 7 places.'>LastFrameTimeSeconds</a>    = 0.0;
<a name='L616'> 616     <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../S/97.html#L74' title='Defined at 74 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>LastGetFrameTimeSeconds</a> = 0.0;
<a name='L617'> 617 <font color='red'>}</font>
<a name='L618'> 618 
<a name='L619'> 619 
<a name='L620'> 620 
<a name='L621'> 621 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <a href='../D/1478.html' title='Multiple defined in 2 places.'>ovrPosef</a> <a href='../Y/3858.html' title='Multiple used in 3 places.'>ovrHmd_GetEyePose</a>(<a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>, <a href='../S/187.html#L182' title='Defined at 182 in ovr/sdk/src/OVR_CAPI.h.'>ovrEyeType</a> <a href='../Y/3157.html' title='Multiple used in 64 places.'>eye</a>)
<a name='L622'> 622 <font color='red'>{</font>
<a name='L623'> 623     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L624'> 624     <b>if</b> (!<a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>) <b>return</b> <a href='../D/1478.html' title='Multiple defined in 2 places.'>ovrPosef</a>();    
<a name='L625'> 625 
<a name='L626'> 626     <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/2836.html' title='Multiple used in 4 places.'>checkBeginFrameTimingScope</a>("ovrHmd_GetEyePose");
<a name='L627'> 627     <b>return</b> <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/2255.html' title='Multiple used in 24 places.'>TimeManager</a>.<a href='../S/98.html#L478' title='Defined at 478 in ovr/sdk/src/CAPI/CAPI_FrameTimeManager.cpp.'>GetEyePredictionPose</a>(<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>, <a href='../Y/3157.html' title='Multiple used in 64 places.'>eye</a>);
<a name='L628'> 628 <font color='red'>}</font>
<a name='L629'> 629 
<a name='L630'> 630 
<a name='L631'> 631 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <b>void</b> <a href='../Y/3859.html' title='Multiple used in 3 places.'>ovrHmd_GetEyeTimewarpMatrices</a>(<a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>, <a href='../S/187.html#L182' title='Defined at 182 in ovr/sdk/src/OVR_CAPI.h.'>ovrEyeType</a> <a href='../Y/3157.html' title='Multiple used in 64 places.'>eye</a>,
<a name='L632'> 632                                               <a href='../D/1478.html' title='Multiple defined in 2 places.'>ovrPosef</a> <a href='../Y/4264.html' title='Multiple used in 12 places.'>renderPose</a>, <a href='../D/1472.html' title='Multiple defined in 2 places.'>ovrMatrix4f</a> <a href='../Y/4666.html' title='Multiple used in 7 places.'>twmOut</a>[2])
<a name='L633'> 633 <font color='red'>{</font>
<a name='L634'> 634     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L635'> 635     <b>if</b> (!<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>)
<a name='L636'> 636         <b>return</b>;
<a name='L637'> 637 
<a name='L638'> 638     <i><font color='green'>// Debug checks: BeginFrame was called, on the same thread.</font></i>
<a name='L639'> 639     <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/2836.html' title='Multiple used in 4 places.'>checkBeginFrameTimingScope</a>("ovrHmd_GetTimewarpEyeMatrices");   
<a name='L640'> 640 
<a name='L641'> 641     <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/2255.html' title='Multiple used in 24 places.'>TimeManager</a>.<a href='../S/98.html#L513' title='Defined at 513 in ovr/sdk/src/CAPI/CAPI_FrameTimeManager.cpp.'>GetTimewarpMatrices</a>(<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>, <a href='../Y/3157.html' title='Multiple used in 64 places.'>eye</a>, <a href='../Y/4264.html' title='Multiple used in 12 places.'>renderPose</a>, <a href='../Y/4666.html' title='Multiple used in 7 places.'>twmOut</a>);
<a name='L642'> 642 
<a name='L643'> 643     <i><font color='green'>/*</font></i>
<a name='L644'> 644 <i><font color='green'>    // MA: Took this out because new latency test approach just sames</font></i>
<a name='L645'> 645 <i><font color='green'>    //     the sample times in FrameTimeManager.</font></i>
<a name='L646'> 646 <i><font color='green'>    // TODO: if no timewarp, then test latency in begin eye render</font></i>
<a name='L647'> 647 <i><font color='green'>    if (eye == 0)</font></i>
<a name='L648'> 648 <i><font color='green'>    {        </font></i>
<a name='L649'> 649 <i><font color='green'>        hmds-&gt;ProcessLatencyTest2(hmds-&gt;LatencyTest2DrawColor, -1.0f);</font></i>
<a name='L650'> 650 <i><font color='green'>    }</font></i>
<a name='L651'> 651 <i><font color='green'>    */</font></i>
<a name='L652'> 652 <font color='red'>}</font>
<a name='L653'> 653 
<a name='L654'> 654 
<a name='L655'> 655 
<a name='L656'> 656 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <a href='../S/187.html#L326' title='Defined at 326 in ovr/sdk/src/OVR_CAPI.h.'>ovrEyeRenderDesc</a> <a href='../Y/3868.html' title='Multiple used in 2 places.'>ovrHmd_GetRenderDesc</a>(<a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>,
<a name='L657'> 657                                                  <a href='../S/187.html#L182' title='Defined at 182 in ovr/sdk/src/OVR_CAPI.h.'>ovrEyeType</a> <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a>, <a href='../D/1439.html' title='Multiple defined in 2 places.'>ovrFovPort</a> <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>)
<a name='L658'> 658 <font color='red'>{</font>
<a name='L659'> 659     <a href='../S/187.html#L326' title='Defined at 326 in ovr/sdk/src/OVR_CAPI.h.'>ovrEyeRenderDesc</a> <a href='../Y/3128.html' title='Multiple used in 5 places.'>erd</a>;
<a name='L660'> 660    
<a name='L661'> 661     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L662'> 662     <b>if</b> (!<a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>)
<a name='L663'> 663     <font color='red'>{</font>
<a name='L664'> 664         <a href='../Y/3671.html' title='Multiple used in 35 places.'>memset</a>(&amp;<a href='../Y/3128.html' title='Multiple used in 5 places.'>erd</a>, 0, <b>sizeof</b>(<a href='../Y/3128.html' title='Multiple used in 5 places.'>erd</a>));
<a name='L665'> 665         <b>return</b> <a href='../Y/3128.html' title='Multiple used in 5 places.'>erd</a>;
<a name='L666'> 666     <font color='red'>}</font>
<a name='L667'> 667 
<a name='L668'> 668     <b>return</b> <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/1857.html' title='Multiple used in 17 places.'>RenderState</a>.<a href='../S/107.html#L118' title='Defined at 118 in ovr/sdk/src/CAPI/CAPI_HMDRenderState.cpp.'>calcRenderDesc</a>(<a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a>, <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>);
<a name='L669'> 669 <font color='red'>}</font>
<a name='L670'> 670 
<a name='L671'> 671 
<a name='L672'> 672 
<a name='L673'> 673 <font color='darkred'>#define</font> <a href='../R/719.html' title='Multiple refered from 6 places.'>OVR_OFFSET_OF</a>(<a href='../Y/4328.html' title='Multiple used in 254 places.'>s</a>, field) ((<a href='../Y/4417.html' title='Multiple used in 30 places.'>size_t</a>)&amp;((<a href='../Y/4328.html' title='Multiple used in 254 places.'>s</a>*)0)-&gt;field)
<a name='L674'> 674 
<a name='L675'> 675 
<a name='L676'> 676 
<a name='L677'> 677 <i><font color='green'>// Generate distortion mesh per eye.</font></i>
<a name='L678'> 678 <i><font color='green'>// scaleAndOffsetOut - this will be needed for shader</font></i>
<a name='L679'> 679 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <a href='../S/187.html#L31' title='Defined at 31 in ovr/sdk/src/OVR_CAPI.h.'>ovrBool</a> <a href='../Y/3848.html' title='Multiple used in 3 places.'>ovrHmd_CreateDistortionMesh</a>( <a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>,
<a name='L680'> 680                                                 <a href='../S/187.html#L182' title='Defined at 182 in ovr/sdk/src/OVR_CAPI.h.'>ovrEyeType</a> <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a>, <a href='../D/1439.html' title='Multiple defined in 2 places.'>ovrFovPort</a> <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>,
<a name='L681'> 681                                                 <b>unsigned</b> <b>int</b> <a href='../Y/3048.html' title='Multiple used in 14 places.'>distortionCaps</a>,
<a name='L682'> 682                                                 <a href='../S/187.html#L628' title='Defined at 628 in ovr/sdk/src/OVR_CAPI.h.'>ovrDistortionMesh</a> *<a href='../Y/3672.html' title='Multiple used in 24 places.'>meshData</a> )
<a name='L683'> 683 <font color='red'>{</font>
<a name='L684'> 684     <b>if</b> (!<a href='../Y/3672.html' title='Multiple used in 24 places.'>meshData</a>)
<a name='L685'> 685         <b>return</b> 0;
<a name='L686'> 686     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L687'> 687 
<a name='L688'> 688     <i><font color='green'>// Not used now, but Chromatic flag or others could possibly be checked for in the future.</font></i>
<a name='L689'> 689     <a href='../S/168.html#L428' title='Defined at 428 in ovr/sdk/src/Kernel/OVR_Types.h.'>OVR_UNUSED1</a>(<a href='../Y/3048.html' title='Multiple used in 14 places.'>distortionCaps</a>); 
<a name='L690'> 690     
<a name='L691'> 691 <font color='darkred'>#if</font> <b>defined</b> (<a href='../D/776.html' title='Multiple defined in 2 places.'>OVR_OS_WIN32</a>)
<a name='L692'> 692     <i><font color='green'>// TBD: We should probably be sharing some C API structures with C++ to avoid this mess...</font></i>
<a name='L693'> 693     <a href='../S/168.html#L414' title='Defined at 414 in ovr/sdk/src/Kernel/OVR_Types.h.'>OVR_COMPILER_ASSERT</a>(<b>sizeof</b>(<a href='../S/115.html#L320' title='Defined at 320 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>DistortionMeshVertexData</a>)                       == <b>sizeof</b>(<a href='../S/187.html#L618' title='Defined at 618 in ovr/sdk/src/OVR_CAPI.h.'>ovrDistortionVertex</a>));
<a name='L694'> 694     <a href='../S/168.html#L414' title='Defined at 414 in ovr/sdk/src/Kernel/OVR_Types.h.'>OVR_COMPILER_ASSERT</a>(<a href='../S/142.html#L673' title='Defined at 673 in ovr/sdk/src/OVR_CAPI.cpp.'>OVR_OFFSET_OF</a>(<a href='../S/115.html#L320' title='Defined at 320 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>DistortionMeshVertexData</a>, <a href='../Y/1972.html' title='Multiple used in 7 places.'>ScreenPosNDC</a>)  == <a href='../S/142.html#L673' title='Defined at 673 in ovr/sdk/src/OVR_CAPI.cpp.'>OVR_OFFSET_OF</a>(<a href='../S/187.html#L618' title='Defined at 618 in ovr/sdk/src/OVR_CAPI.h.'>ovrDistortionVertex</a>, <a href='../Y/1682.html' title='Multiple used in 62 places.'>Pos</a>));
<a name='L695'> 695     <a href='../S/168.html#L414' title='Defined at 414 in ovr/sdk/src/Kernel/OVR_Types.h.'>OVR_COMPILER_ASSERT</a>(<a href='../S/142.html#L673' title='Defined at 673 in ovr/sdk/src/OVR_CAPI.cpp.'>OVR_OFFSET_OF</a>(<a href='../S/115.html#L320' title='Defined at 320 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>DistortionMeshVertexData</a>, <a href='../Y/2266.html' title='Multiple used in 15 places.'>TimewarpLerp</a>)  == <a href='../S/142.html#L673' title='Defined at 673 in ovr/sdk/src/OVR_CAPI.cpp.'>OVR_OFFSET_OF</a>(<a href='../S/187.html#L618' title='Defined at 618 in ovr/sdk/src/OVR_CAPI.h.'>ovrDistortionVertex</a>, <a href='../Y/2257.html' title='Multiple used in 3 places.'>TimeWarpFactor</a>));
<a name='L696'> 696     <a href='../S/168.html#L414' title='Defined at 414 in ovr/sdk/src/Kernel/OVR_Types.h.'>OVR_COMPILER_ASSERT</a>(<a href='../S/142.html#L673' title='Defined at 673 in ovr/sdk/src/OVR_CAPI.cpp.'>OVR_OFFSET_OF</a>(<a href='../S/115.html#L320' title='Defined at 320 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>DistortionMeshVertexData</a>, <a href='../Y/2076.html' title='Multiple used in 3 places.'>Shade</a>)         == <a href='../S/142.html#L673' title='Defined at 673 in ovr/sdk/src/OVR_CAPI.cpp.'>OVR_OFFSET_OF</a>(<a href='../S/187.html#L618' title='Defined at 618 in ovr/sdk/src/OVR_CAPI.h.'>ovrDistortionVertex</a>, <a href='../Y/2412.html' title='Multiple used in 3 places.'>VignetteFactor</a>));
<a name='L697'> 697     <a href='../S/168.html#L414' title='Defined at 414 in ovr/sdk/src/Kernel/OVR_Types.h.'>OVR_COMPILER_ASSERT</a>(<a href='../S/142.html#L673' title='Defined at 673 in ovr/sdk/src/OVR_CAPI.cpp.'>OVR_OFFSET_OF</a>(<a href='../S/115.html#L320' title='Defined at 320 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>DistortionMeshVertexData</a>, <a href='../Y/2191.html' title='Multiple used in 3 places.'>TanEyeAnglesR</a>) == <a href='../S/142.html#L673' title='Defined at 673 in ovr/sdk/src/OVR_CAPI.cpp.'>OVR_OFFSET_OF</a>(<a href='../S/187.html#L618' title='Defined at 618 in ovr/sdk/src/OVR_CAPI.h.'>ovrDistortionVertex</a>, <a href='../Y/2215.html' title='Multiple used in 5 places.'>TexR</a>));
<a name='L698'> 698     <a href='../S/168.html#L414' title='Defined at 414 in ovr/sdk/src/Kernel/OVR_Types.h.'>OVR_COMPILER_ASSERT</a>(<a href='../S/142.html#L673' title='Defined at 673 in ovr/sdk/src/OVR_CAPI.cpp.'>OVR_OFFSET_OF</a>(<a href='../S/115.html#L320' title='Defined at 320 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>DistortionMeshVertexData</a>, <a href='../Y/2190.html' title='Multiple used in 3 places.'>TanEyeAnglesG</a>) == <a href='../S/142.html#L673' title='Defined at 673 in ovr/sdk/src/OVR_CAPI.cpp.'>OVR_OFFSET_OF</a>(<a href='../S/187.html#L618' title='Defined at 618 in ovr/sdk/src/OVR_CAPI.h.'>ovrDistortionVertex</a>, <a href='../Y/2212.html' title='Multiple used in 5 places.'>TexG</a>));
<a name='L699'> 699     <a href='../S/168.html#L414' title='Defined at 414 in ovr/sdk/src/Kernel/OVR_Types.h.'>OVR_COMPILER_ASSERT</a>(<a href='../S/142.html#L673' title='Defined at 673 in ovr/sdk/src/OVR_CAPI.cpp.'>OVR_OFFSET_OF</a>(<a href='../S/115.html#L320' title='Defined at 320 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>DistortionMeshVertexData</a>, <a href='../Y/2189.html' title='Multiple used in 3 places.'>TanEyeAnglesB</a>) == <a href='../S/142.html#L673' title='Defined at 673 in ovr/sdk/src/OVR_CAPI.cpp.'>OVR_OFFSET_OF</a>(<a href='../S/187.html#L618' title='Defined at 618 in ovr/sdk/src/OVR_CAPI.h.'>ovrDistortionVertex</a>, <a href='../Y/2211.html' title='Multiple used in 5 places.'>TexB</a>));
<a name='L700'> 700 <font color='darkred'>#endif</font>
<a name='L701'> 701 
<a name='L702'> 702 
<a name='L703'> 703     <i><font color='green'>// *** Calculate a part of "StereoParams" needed for mesh generation</font></i>
<a name='L704'> 704 
<a name='L705'> 705     <i><font color='green'>// Note that mesh distortion generation is invariant of RenderTarget UVs, allowing</font></i>
<a name='L706'> 706     <i><font color='green'>// render target size and location to be changed after the fact dynamically. </font></i>
<a name='L707'> 707     <i><font color='green'>// eyeToSourceUV is computed here for convenience, so that users don't need</font></i>
<a name='L708'> 708     <i><font color='green'>// to call ovrHmd_GetRenderScaleAndOffset unless changing RT dynamically.</font></i>
<a name='L709'> 709 
<a name='L710'> 710     <b>const</b> <a href='../S/131.html#L257' title='Defined at 257 in ovr/sdk/src/OVR_Stereo.h.'>HmdRenderInfo</a>&amp;  <a href='../Y/3423.html' title='Multiple used in 5 places.'>hmdri</a>          = <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/1857.html' title='Multiple used in 17 places.'>RenderState</a>.<a href='../Y/1853.html' title='Multiple used in 23 places.'>RenderInfo</a>;    
<a name='L711'> 711     <a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>             <a href='../Y/4478.html' title='Multiple used in 2 places.'>stereoEye</a>      = (<a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a> == <a href='../S/187.html#L179' title='Defined at 179 in ovr/sdk/src/OVR_CAPI.h.'>ovrEye_Left</a>) ? <a href='../Y/2141.html' title='Multiple used in 13 places.'>StereoEye_Left</a> : <a href='../Y/2142.html' title='Multiple used in 24 places.'>StereoEye_Right</a>;
<a name='L712'> 712 
<a name='L713'> 713     <b>const</b> <a href='../S/131.html#L237' title='Defined at 237 in ovr/sdk/src/OVR_Stereo.h.'>DistortionRenderDesc</a>&amp; <a href='../Y/3046.html' title='Multiple used in 54 places.'>distortion</a> = <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/1857.html' title='Multiple used in 17 places.'>RenderState</a>.<a href='../Y/425.html' title='Multiple used in 49 places.'>Distortion</a>[<a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a>];
<a name='L714'> 714 
<a name='L715'> 715     <i><font color='green'>// Find the mapping from TanAngle space to target NDC space.</font></i>
<a name='L716'> 716     <a href='../S/131.html#L141' title='Defined at 141 in ovr/sdk/src/OVR_Stereo.h.'>ScaleAndOffset2D</a>      <a href='../Y/3174.html' title='Multiple used in 20 places.'>eyeToSourceNDC</a> = <a href='../S/88.html#L1500' title='Defined at 1500 in ovr/sdk/src/OVR_Stereo.cpp.'>CreateNDCScaleAndOffsetFromFov</a>(<a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>);
<a name='L717'> 717 
<a name='L718'> 718     <b>int</b> <a href='../Y/4656.html' title='Multiple used in 9 places.'>triangleCount</a> = 0;
<a name='L719'> 719     <b>int</b> <a href='../Y/4791.html' title='Multiple used in 9 places.'>vertexCount</a> = 0;
<a name='L720'> 720 
<a name='L721'> 721     <a href='../D/207.html' title='Multiple defined in 2 places.'>DistortionMeshCreate</a>((<a href='../S/115.html#L320' title='Defined at 320 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>DistortionMeshVertexData</a>**)&amp;<a href='../Y/3672.html' title='Multiple used in 24 places.'>meshData</a>-&gt;<a href='../Y/3992.html' title='Multiple used in 7 places.'>pVertexData</a>, (<a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a>**)&amp;<a href='../Y/3672.html' title='Multiple used in 24 places.'>meshData</a>-&gt;<a href='../Y/3947.html' title='Multiple used in 5 places.'>pIndexData</a>,
<a name='L722'> 722                           &amp;<a href='../Y/4791.html' title='Multiple used in 9 places.'>vertexCount</a>, &amp;<a href='../Y/4656.html' title='Multiple used in 9 places.'>triangleCount</a>,
<a name='L723'> 723                           (<a href='../Y/4478.html' title='Multiple used in 2 places.'>stereoEye</a> == <a href='../Y/2142.html' title='Multiple used in 24 places.'>StereoEye_Right</a>),
<a name='L724'> 724                           <a href='../Y/3423.html' title='Multiple used in 5 places.'>hmdri</a>, <a href='../Y/3046.html' title='Multiple used in 54 places.'>distortion</a>, <a href='../Y/3174.html' title='Multiple used in 20 places.'>eyeToSourceNDC</a>);
<a name='L725'> 725 
<a name='L726'> 726     <b>if</b> (<a href='../Y/3672.html' title='Multiple used in 24 places.'>meshData</a>-&gt;<a href='../Y/3992.html' title='Multiple used in 7 places.'>pVertexData</a>)
<a name='L727'> 727     <font color='red'>{</font>
<a name='L728'> 728         <i><font color='green'>// Convert to index</font></i>
<a name='L729'> 729         <a href='../Y/3672.html' title='Multiple used in 24 places.'>meshData</a>-&gt;<a href='../Y/981.html' title='Multiple used in 4 places.'>IndexCount</a> = <a href='../Y/4656.html' title='Multiple used in 9 places.'>triangleCount</a> * 3;
<a name='L730'> 730         <a href='../Y/3672.html' title='Multiple used in 24 places.'>meshData</a>-&gt;<a href='../Y/2407.html' title='Multiple used in 6 places.'>VertexCount</a> = <a href='../Y/4791.html' title='Multiple used in 9 places.'>vertexCount</a>;
<a name='L731'> 731         <b>return</b> 1;
<a name='L732'> 732     <font color='red'>}</font>
<a name='L733'> 733 
<a name='L734'> 734     <b>return</b> 0;
<a name='L735'> 735 <font color='red'>}</font>
<a name='L736'> 736 
<a name='L737'> 737 
<a name='L738'> 738 <i><font color='green'>// Frees distortion mesh allocated by ovrHmd_GenerateDistortionMesh. meshData elements</font></i>
<a name='L739'> 739 <i><font color='green'>// are set to null and 0s after the call.</font></i>
<a name='L740'> 740 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <b>void</b> <a href='../Y/3850.html' title='Multiple used in 3 places.'>ovrHmd_DestroyDistortionMesh</a>(<a href='../S/187.html#L628' title='Defined at 628 in ovr/sdk/src/OVR_CAPI.h.'>ovrDistortionMesh</a>* <a href='../Y/3672.html' title='Multiple used in 24 places.'>meshData</a>)
<a name='L741'> 741 <font color='red'>{</font>
<a name='L742'> 742     <b>if</b> (<a href='../Y/3672.html' title='Multiple used in 24 places.'>meshData</a>-&gt;<a href='../Y/3992.html' title='Multiple used in 7 places.'>pVertexData</a>)
<a name='L743'> 743         <a href='../S/117.html#L790' title='Defined at 790 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>DistortionMeshDestroy</a>((<a href='../S/115.html#L320' title='Defined at 320 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>DistortionMeshVertexData</a>*)<a href='../Y/3672.html' title='Multiple used in 24 places.'>meshData</a>-&gt;<a href='../Y/3992.html' title='Multiple used in 7 places.'>pVertexData</a>,
<a name='L744'> 744                               <a href='../Y/3672.html' title='Multiple used in 24 places.'>meshData</a>-&gt;<a href='../Y/3947.html' title='Multiple used in 5 places.'>pIndexData</a>);
<a name='L745'> 745     <a href='../Y/3672.html' title='Multiple used in 24 places.'>meshData</a>-&gt;<a href='../Y/3992.html' title='Multiple used in 7 places.'>pVertexData</a> = 0;
<a name='L746'> 746     <a href='../Y/3672.html' title='Multiple used in 24 places.'>meshData</a>-&gt;<a href='../Y/3947.html' title='Multiple used in 5 places.'>pIndexData</a>  = 0;
<a name='L747'> 747     <a href='../Y/3672.html' title='Multiple used in 24 places.'>meshData</a>-&gt;<a href='../Y/2407.html' title='Multiple used in 6 places.'>VertexCount</a> = 0;
<a name='L748'> 748     <a href='../Y/3672.html' title='Multiple used in 24 places.'>meshData</a>-&gt;<a href='../Y/981.html' title='Multiple used in 4 places.'>IndexCount</a>  = 0;
<a name='L749'> 749 <font color='red'>}</font>
<a name='L750'> 750 
<a name='L751'> 751 
<a name='L752'> 752 
<a name='L753'> 753 <i><font color='green'>// Computes updated 'uvScaleOffsetOut' to be used with a distortion if render target size or</font></i>
<a name='L754'> 754 <i><font color='green'>// viewport changes after the fact. This can be used to adjust render size every frame, if desired.</font></i>
<a name='L755'> 755 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <b>void</b> <a href='../Y/3869.html' title='Multiple used in 3 places.'>ovrHmd_GetRenderScaleAndOffset</a>( <a href='../D/1439.html' title='Multiple defined in 2 places.'>ovrFovPort</a> <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>,
<a name='L756'> 756                                                 <a href='../D/1506.html' title='Multiple defined in 2 places.'>ovrSizei</a> <a href='../Y/4584.html' title='Multiple used in 7 places.'>textureSize</a>, <a href='../D/1483.html' title='Multiple defined in 3 places.'>ovrRecti</a> <a href='../Y/4269.html' title='Multiple used in 10 places.'>renderViewport</a>,
<a name='L757'> 757                                                 <a href='../D/1517.html' title='Multiple defined in 2 places.'>ovrVector2f</a> <a href='../Y/4762.html' title='Multiple used in 4 places.'>uvScaleOffsetOut</a>[2] )
<a name='L758'> 758 <font color='red'>{</font>        
<a name='L759'> 759     <i><font color='green'>// Find the mapping from TanAngle space to target NDC space.</font></i>
<a name='L760'> 760     <a href='../S/131.html#L141' title='Defined at 141 in ovr/sdk/src/OVR_Stereo.h.'>ScaleAndOffset2D</a>  <a href='../Y/3174.html' title='Multiple used in 20 places.'>eyeToSourceNDC</a> = <a href='../S/88.html#L1500' title='Defined at 1500 in ovr/sdk/src/OVR_Stereo.cpp.'>CreateNDCScaleAndOffsetFromFov</a>(<a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>);
<a name='L761'> 761     <i><font color='green'>// Find the mapping from TanAngle space to textureUV space.</font></i>
<a name='L762'> 762     <a href='../S/131.html#L141' title='Defined at 141 in ovr/sdk/src/OVR_Stereo.h.'>ScaleAndOffset2D</a>  <a href='../Y/3175.html' title='Multiple used in 3 places.'>eyeToSourceUV</a>  = <a href='../S/88.html#L1518' title='Defined at 1518 in ovr/sdk/src/OVR_Stereo.cpp.'>CreateUVScaleAndOffsetfromNDCScaleandOffset</a>(
<a name='L763'> 763                                          <a href='../Y/3174.html' title='Multiple used in 20 places.'>eyeToSourceNDC</a>,
<a name='L764'> 764                                          <a href='../Y/4269.html' title='Multiple used in 10 places.'>renderViewport</a>, <a href='../Y/4584.html' title='Multiple used in 7 places.'>textureSize</a> );
<a name='L765'> 765 
<a name='L766'> 766     <a href='../Y/4762.html' title='Multiple used in 4 places.'>uvScaleOffsetOut</a>[0] = <a href='../Y/3175.html' title='Multiple used in 3 places.'>eyeToSourceUV</a>.<a href='../Y/1962.html' title='Multiple used in 16 places.'>Scale</a>;
<a name='L767'> 767     <a href='../Y/4762.html' title='Multiple used in 4 places.'>uvScaleOffsetOut</a>[1] = <a href='../Y/3175.html' title='Multiple used in 3 places.'>eyeToSourceUV</a>.<a href='../Y/1534.html' title='Multiple used in 38 places.'>Offset</a>;
<a name='L768'> 768 <font color='red'>}</font>
<a name='L769'> 769 
<a name='L770'> 770 
<a name='L771'> 771 <i><font color='green'>//-------------------------------------------------------------------------------------</font></i>
<a name='L772'> 772 <i><font color='green'>// ***** Latency Test interface</font></i>
<a name='L773'> 773 
<a name='L774'> 774 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <a href='../S/187.html#L31' title='Defined at 31 in ovr/sdk/src/OVR_CAPI.h.'>ovrBool</a> ovrHmd_GetLatencyTestDrawColor(<a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>, <b>unsigned</b> <b>char</b> <a href='../Y/4304.html' title='Multiple used in 15 places.'>rgbColorOut</a>[3])
<a name='L775'> 775 <font color='red'>{</font>
<a name='L776'> 776     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3905.html' title='Multiple used in 524 places.'>p</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L777'> 777     <a href='../Y/4304.html' title='Multiple used in 15 places.'>rgbColorOut</a>[0] = <a href='../Y/3905.html' title='Multiple used in 524 places.'>p</a>-&gt;<a href='../Y/1242.html' title='Multiple used in 9 places.'>LatencyTestDrawColor</a>[0];
<a name='L778'> 778     <a href='../Y/4304.html' title='Multiple used in 15 places.'>rgbColorOut</a>[1] = <a href='../Y/3905.html' title='Multiple used in 524 places.'>p</a>-&gt;<a href='../Y/1242.html' title='Multiple used in 9 places.'>LatencyTestDrawColor</a>[1];
<a name='L779'> 779     <a href='../Y/4304.html' title='Multiple used in 15 places.'>rgbColorOut</a>[2] = <a href='../Y/3905.html' title='Multiple used in 524 places.'>p</a>-&gt;<a href='../Y/1242.html' title='Multiple used in 9 places.'>LatencyTestDrawColor</a>[2];
<a name='L780'> 780     <b>return</b> <a href='../Y/3905.html' title='Multiple used in 524 places.'>p</a>-&gt;<a href='../Y/1234.html' title='Multiple used in 4 places.'>LatencyTestActive</a>;
<a name='L781'> 781 <font color='red'>}</font>
<a name='L782'> 782 
<a name='L783'> 783 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <b>const</b> <b>char</b>*  <a href='../Y/3866.html' title='Multiple used in 2 places.'>ovrHmd_GetLatencyTestResult</a>(<a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>)
<a name='L784'> 784 <font color='red'>{</font>
<a name='L785'> 785     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3905.html' title='Multiple used in 524 places.'>p</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L786'> 786     <b>return</b> <a href='../Y/3905.html' title='Multiple used in 524 places.'>p</a>-&gt;<a href='../Y/1262.html' title='Multiple used in 6 places.'>LatencyUtil</a>.<a href='../S/114.html#L375' title='Defined at 375 in ovr/sdk/src/Util/Util_LatencyTest.cpp.'>GetResultsString</a>();
<a name='L787'> 787 <font color='red'>}</font>
<a name='L788'> 788 
<a name='L789'> 789 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <b>double</b> <a href='../Y/3867.html' title='Multiple used in 2 places.'>ovrHmd_GetMeasuredLatencyTest2</a>(<a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>)
<a name='L790'> 790 <font color='red'>{</font>
<a name='L791'> 791     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3905.html' title='Multiple used in 524 places.'>p</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L792'> 792 
<a name='L793'> 793     <i><font color='green'>// MA Test</font></i>
<a name='L794'> 794     <b>float</b> <a href='../Y/3543.html' title='Multiple used in 13 places.'>latencies</a>[3];
<a name='L795'> 795     <a href='../Y/3905.html' title='Multiple used in 524 places.'>p</a>-&gt;<a href='../Y/2255.html' title='Multiple used in 24 places.'>TimeManager</a>.<a href='../S/98.html#L193' title='Defined at 193 in ovr/sdk/src/CAPI/CAPI_FrameTimeManager.cpp.'>GetLatencyTimings</a>(<a href='../Y/3543.html' title='Multiple used in 13 places.'>latencies</a>);
<a name='L796'> 796     <b>return</b> <a href='../Y/3543.html' title='Multiple used in 13 places.'>latencies</a>[2];
<a name='L797'> 797   <i><font color='green'>//  return p-&gt;LatencyUtil2.GetMeasuredLatency();</font></i>
<a name='L798'> 798 <font color='red'>}</font>
<a name='L799'> 799 
<a name='L800'> 800 
<a name='L801'> 801 <i><font color='green'>// -----------------------------------------------------------------------------------</font></i>
<a name='L802'> 802 <i><font color='green'>// ***** Property Access</font></i>
<a name='L803'> 803 
<a name='L804'> 804 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <b>float</b> <a href='../Y/3860.html' title='Multiple used in 2 places.'>ovrHmd_GetFloat</a>(<a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>, <b>const</b> <b>char</b>* <a href='../Y/4144.html' title='Multiple used in 43 places.'>propertyName</a>, <b>float</b> <a href='../Y/2970.html' title='Multiple used in 15 places.'>defaultVal</a>)
<a name='L805'> 805 <font color='red'>{</font>
<a name='L806'> 806     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L807'> 807     <b>if</b> (<a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>)
<a name='L808'> 808         <font color='red'>{</font>
<a name='L809'> 809                 <b>return</b> <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../S/97.html#L485' title='Defined at 485 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>getFloatValue</a>(<a href='../Y/4144.html' title='Multiple used in 43 places.'>propertyName</a>, <a href='../Y/2970.html' title='Multiple used in 15 places.'>defaultVal</a>);
<a name='L810'> 810         <font color='red'>}</font>
<a name='L811'> 811 
<a name='L812'> 812     <b>return</b> <a href='../Y/2970.html' title='Multiple used in 15 places.'>defaultVal</a>;
<a name='L813'> 813 <font color='red'>}</font>
<a name='L814'> 814 
<a name='L815'> 815 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <a href='../S/187.html#L31' title='Defined at 31 in ovr/sdk/src/OVR_CAPI.h.'>ovrBool</a> <a href='../Y/3877.html' title='Multiple used in 2 places.'>ovrHmd_SetFloat</a>(<a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>, <b>const</b> <b>char</b>* <a href='../Y/4144.html' title='Multiple used in 43 places.'>propertyName</a>, <b>float</b> <a href='../Y/4781.html' title='Multiple used in 266 places.'>value</a>)
<a name='L816'> 816 <font color='red'>{</font>
<a name='L817'> 817     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L818'> 818     <b>if</b> (<a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>)
<a name='L819'> 819     <font color='red'>{</font>
<a name='L820'> 820         <b>return</b> <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../S/97.html#L506' title='Defined at 506 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>setFloatValue</a>(<a href='../Y/4144.html' title='Multiple used in 43 places.'>propertyName</a>, <a href='../Y/4781.html' title='Multiple used in 266 places.'>value</a>);
<a name='L821'> 821     <font color='red'>}</font>
<a name='L822'> 822     <b>return</b> <b>false</b>;
<a name='L823'> 823 <font color='red'>}</font>
<a name='L824'> 824 
<a name='L825'> 825 
<a name='L826'> 826 
<a name='L827'> 827 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <b>unsigned</b> <b>int</b> <a href='../Y/3861.html' title='Multiple used in 2 places.'>ovrHmd_GetFloatArray</a>(<a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>, <b>const</b> <b>char</b>* <a href='../Y/4144.html' title='Multiple used in 43 places.'>propertyName</a>,
<a name='L828'> 828                               <b>float</b> <a href='../Y/4784.html' title='Multiple used in 26 places.'>values</a>[], <b>unsigned</b> <b>int</b> <a href='../Y/2710.html' title='Multiple used in 17 places.'>arraySize</a>)
<a name='L829'> 829 <font color='red'>{</font>
<a name='L830'> 830     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L831'> 831     <b>if</b> (<a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>)
<a name='L832'> 832     <font color='red'>{</font>       
<a name='L833'> 833                 <b>return</b> <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../S/97.html#L527' title='Defined at 527 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>getFloatArray</a>(<a href='../Y/4144.html' title='Multiple used in 43 places.'>propertyName</a>, <a href='../Y/4784.html' title='Multiple used in 26 places.'>values</a>, <a href='../Y/2710.html' title='Multiple used in 17 places.'>arraySize</a>);
<a name='L834'> 834     <font color='red'>}</font>
<a name='L835'> 835 
<a name='L836'> 836     <b>return</b> 0;
<a name='L837'> 837 <font color='red'>}</font>
<a name='L838'> 838 
<a name='L839'> 839 
<a name='L840'> 840 <i><font color='green'>// Modify float[] property; false if property doesn't exist or is readonly.</font></i>
<a name='L841'> 841 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <a href='../S/187.html#L31' title='Defined at 31 in ovr/sdk/src/OVR_CAPI.h.'>ovrBool</a> <a href='../Y/3878.html' title='Multiple used in 2 places.'>ovrHmd_SetFloatArray</a>(<a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>, <b>const</b> <b>char</b>* <a href='../Y/4144.html' title='Multiple used in 43 places.'>propertyName</a>,
<a name='L842'> 842                                         <b>float</b> <a href='../Y/4784.html' title='Multiple used in 26 places.'>values</a>[], <b>unsigned</b> <b>int</b> <a href='../Y/2710.html' title='Multiple used in 17 places.'>arraySize</a>)
<a name='L843'> 843 <font color='red'>{</font>
<a name='L844'> 844     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L845'> 845     <b>if</b> (<a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>)
<a name='L846'> 846     <font color='red'>{</font>       
<a name='L847'> 847         <b>return</b> <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../S/97.html#L579' title='Defined at 579 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>setFloatArray</a>(<a href='../Y/4144.html' title='Multiple used in 43 places.'>propertyName</a>, <a href='../Y/4784.html' title='Multiple used in 26 places.'>values</a>, <a href='../Y/2710.html' title='Multiple used in 17 places.'>arraySize</a>);
<a name='L848'> 848     <font color='red'>}</font>
<a name='L849'> 849 
<a name='L850'> 850     <b>return</b> 0;
<a name='L851'> 851 <font color='red'>}</font>
<a name='L852'> 852 
<a name='L853'> 853 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <b>const</b> <b>char</b>* <a href='../Y/3872.html' title='Multiple used in 2 places.'>ovrHmd_GetString</a>(<a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>, <b>const</b> <b>char</b>* <a href='../Y/4144.html' title='Multiple used in 43 places.'>propertyName</a>,
<a name='L854'> 854                                         <b>const</b> <b>char</b>* <a href='../Y/2970.html' title='Multiple used in 15 places.'>defaultVal</a>)
<a name='L855'> 855 <font color='red'>{</font>
<a name='L856'> 856     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L857'> 857     <b>if</b> (<a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>)
<a name='L858'> 858     <font color='red'>{</font>
<a name='L859'> 859                 <b>return</b> <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../S/97.html#L593' title='Defined at 593 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>getString</a>(<a href='../Y/4144.html' title='Multiple used in 43 places.'>propertyName</a>, <a href='../Y/2970.html' title='Multiple used in 15 places.'>defaultVal</a>);
<a name='L860'> 860     <font color='red'>}</font>
<a name='L861'> 861 
<a name='L862'> 862     <b>return</b> <a href='../Y/2970.html' title='Multiple used in 15 places.'>defaultVal</a>;
<a name='L863'> 863 <font color='red'>}</font>
<a name='L864'> 864  
<a name='L865'> 865 <i><font color='green'>/* Not needed yet.</font></i>
<a name='L866'> 866 <i><font color='green'></font></i>
<a name='L867'> 867 <i><font color='green'>// Get array of strings, i.e. const char* [] property.</font></i>
<a name='L868'> 868 <i><font color='green'>// Returns the number of elements filled in, 0 if property doesn't exist.</font></i>
<a name='L869'> 869 <i><font color='green'>// Maximum of arraySize elements will be written.</font></i>
<a name='L870'> 870 <i><font color='green'>// String memory is guaranteed to exist until next call to GetString or GetStringArray, or HMD is destroyed.</font></i>
<a name='L871'> 871 <i><font color='green'>OVR_EXPORT </font></i>
<a name='L872'> 872 <i><font color='green'>unsigned int ovrHmd_GetStringArray(ovrHmd hmd, const char* propertyName,</font></i>
<a name='L873'> 873 <i><font color='green'>                               const char* values[], unsigned int arraySize)</font></i>
<a name='L874'> 874 <i><font color='green'>{</font></i>
<a name='L875'> 875 <i><font color='green'>    HMDState* hmds = (HMDState*)hmd;</font></i>
<a name='L876'> 876 <i><font color='green'>    if (hmds &amp;&amp; hmds-&gt;pHMD &amp;&amp; arraySize)</font></i>
<a name='L877'> 877 <i><font color='green'>    {        </font></i>
<a name='L878'> 878 <i><font color='green'>        Profile* p = hmds-&gt;pHMD-&gt;GetProfile();</font></i>
<a name='L879'> 879 <i><font color='green'></font></i>
<a name='L880'> 880 <i><font color='green'>        hmds-&gt;LastGetStringValue[0] = 0;</font></i>
<a name='L881'> 881 <i><font color='green'>        if (p &amp;&amp; p-&gt;GetValue(propertyName, hmds-&gt;LastGetStringValue, sizeof(hmds-&gt;LastGetStringValue)))</font></i>
<a name='L882'> 882 <i><font color='green'>        {</font></i>
<a name='L883'> 883 <i><font color='green'>            values[0] = hmds-&gt;LastGetStringValue;</font></i>
<a name='L884'> 884 <i><font color='green'>            return 1;</font></i>
<a name='L885'> 885 <i><font color='green'>        }</font></i>
<a name='L886'> 886 <i><font color='green'>    }</font></i>
<a name='L887'> 887 <i><font color='green'></font></i>
<a name='L888'> 888 <i><font color='green'>    return 0;</font></i>
<a name='L889'> 889 <i><font color='green'>}</font></i>
<a name='L890'> 890 <i><font color='green'>*/</font></i>
<a name='L891'> 891 
<a name='L892'> 892 <i><font color='green'>// Returns array size of a property, 0 if property doesn't exist.</font></i>
<a name='L893'> 893 <i><font color='green'>// Can be used to check existence of a property.</font></i>
<a name='L894'> 894 <a href='../D/723.html' title='Multiple defined in 2 places.'>OVR_EXPORT</a> <b>unsigned</b> <b>int</b> <a href='../Y/3855.html' title='Multiple used in 2 places.'>ovrHmd_GetArraySize</a>(<a href='../S/187.html#L186' title='Defined at 186 in ovr/sdk/src/OVR_CAPI.h.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>, <b>const</b> <b>char</b>* <a href='../Y/4144.html' title='Multiple used in 43 places.'>propertyName</a>)
<a name='L895'> 895 <font color='red'>{</font>
<a name='L896'> 896     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L897'> 897     <b>if</b> (<a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a> &amp;&amp; <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/3940.html' title='Multiple used in 18 places.'>pHMD</a>)
<a name='L898'> 898     <font color='red'>{</font>
<a name='L899'> 899         <i><font color='green'>// For now, just access the profile.</font></i>
<a name='L900'> 900         <a href='../S/139.html#L963' title='Defined at 963 in ovr/sdk/src/OVR_Profile.cpp.'>Profile</a>* <a href='../Y/3905.html' title='Multiple used in 524 places.'>p</a> = <a href='../Y/3424.html' title='Multiple used in 100 places.'>hmds</a>-&gt;<a href='../Y/3940.html' title='Multiple used in 18 places.'>pHMD</a>-&gt;<a href='../D/386.html' title='Multiple defined in 2 places.'>GetProfile</a>();
<a name='L901'> 901         
<a name='L902'> 902         <b>if</b> (<a href='../Y/3905.html' title='Multiple used in 524 places.'>p</a>)
<a name='L903'> 903             <b>return</b> <a href='../Y/3905.html' title='Multiple used in 524 places.'>p</a>-&gt;<a href='../S/139.html#L1230' title='Defined at 1230 in ovr/sdk/src/OVR_Profile.cpp.'>GetNumValues</a>(<a href='../Y/4144.html' title='Multiple used in 43 places.'>propertyName</a>);
<a name='L904'> 904     <font color='red'>}</font>
<a name='L905'> 905     <b>return</b> 0;
<a name='L906'> 906 <font color='red'>}</font>
<a name='L907'> 907 
<a name='L908'> 908 
<a name='L909'> 909 <font color='darkred'>#ifdef</font> <a href='../Y/2562.html' title='Multiple used in 4 places.'>__cplusplus</a> 
<a name='L910'> 910 <font color='red'>}</font> <i><font color='green'>// extern "C"</font></i>
<a name='L911'> 911 <font color='darkred'>#endif</font>
<a name='L912'> 912 
<a name='L913'> 913 
<a name='L914'> 914 <i><font color='green'>//-------------------------------------------------------------------------------------</font></i>
<a name='L915'> 915 <i><font color='green'>// ****** Special access for VRConfig</font></i>
<a name='L916'> 916 
<a name='L917'> 917 <i><font color='green'>// Return the sensor fusion object for the purposes of magnetometer calibration.  The</font></i>
<a name='L918'> 918 <i><font color='green'>// function is private and is only exposed through VRConfig header declarations</font></i>
<a name='L919'> 919 <a href='../D/655.html' title='Multiple defined in 50 places.'>OVR</a>::<a href='../S/189.html#L72' title='Defined at 72 in ovr/sdk/src/OVR_SensorFusion.cpp.'>SensorFusion</a>* ovrHmd_GetSensorFusion(<a href='../Y/3840.html' title='Multiple used in 7 places.'>ovrHmd</a> <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>)
<a name='L920'> 920 <font color='red'>{</font>
<a name='L921'> 921     <a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>* <a href='../Y/3905.html' title='Multiple used in 524 places.'>p</a> = (<a href='../S/97.html#L97' title='Defined at 97 in ovr/sdk/src/CAPI/CAPI_HMDState.cpp.'>HMDState</a>*)<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L922'> 922     <b>return</b> &amp;<a href='../Y/3905.html' title='Multiple used in 524 places.'>p</a>-&gt;<a href='../Y/1908.html' title='Multiple used in 17 places.'>SFusion</a>;
<a name='L923'> 923 <font color='red'>}</font>
<a name='L924'> 924 
<a name='L925'> 925 
</pre>
<hr>
<a name='BOTTOM'>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L51'>[^]</a><a href='#L919'>[v]</a><a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
</body>
</html>
