<html>
<head>
<title>ovr/sdk/src/OVR_DeviceImpl.h</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-5.7.1'>
</head>
<body text='#191970' bgcolor='#f5f5dc' vlink='gray'>
<a name='TOP'><h2><a href='../mains.html'>root</a>/<a href='../files/215.html'>ovr</a>/<a href='../files/216.html'>sdk</a>/<a href='../files/218.html'>src</a>/OVR_DeviceImpl.h</h2>
<i><font color='green'>/* [&lt;][&gt;][^][v][top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
<hr>
<h2><a href='../J/95.html' title='Multiple included from 6 places.'>INCLUDED FROM</a></h2>
<hr>
<pre>
<a name='L1'>   1 <i><font color='green'>/************************************************************************************</font></i>
<a name='L2'>   2 <i><font color='green'></font></i>
<a name='L3'>   3 <i><font color='green'>Filename    :   OVR_DeviceImpl.h</font></i>
<a name='L4'>   4 <i><font color='green'>Content     :   Partial back-end independent implementation of Device interfaces</font></i>
<a name='L5'>   5 <i><font color='green'>Created     :   October 10, 2012</font></i>
<a name='L6'>   6 <i><font color='green'>Authors     :   Michael Antonov</font></i>
<a name='L7'>   7 <i><font color='green'></font></i>
<a name='L8'>   8 <i><font color='green'>Copyright   :   Copyright 2014 Oculus VR, Inc. All Rights reserved.</font></i>
<a name='L9'>   9 <i><font color='green'></font></i>
<a name='L10'>  10 <i><font color='green'>Licensed under the Oculus VR Rift SDK License Version 3.1 (the "License"); </font></i>
<a name='L11'>  11 <i><font color='green'>you may not use the Oculus VR Rift SDK except in compliance with the License, </font></i>
<a name='L12'>  12 <i><font color='green'>which is provided at the time of installation or download, or which </font></i>
<a name='L13'>  13 <i><font color='green'>otherwise accompanies this software in either electronic or hard copy form.</font></i>
<a name='L14'>  14 <i><font color='green'></font></i>
<a name='L15'>  15 <i><font color='green'>You may obtain a copy of the License at</font></i>
<a name='L16'>  16 <i><font color='green'></font></i>
<a name='L17'>  17 <i><font color='green'>http://www.oculusvr.com/licenses/LICENSE-3.1 </font></i>
<a name='L18'>  18 <i><font color='green'></font></i>
<a name='L19'>  19 <i><font color='green'>Unless required by applicable law or agreed to in writing, the Oculus VR SDK </font></i>
<a name='L20'>  20 <i><font color='green'>distributed under the License is distributed on an "AS IS" BASIS,</font></i>
<a name='L21'>  21 <i><font color='green'>WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</font></i>
<a name='L22'>  22 <i><font color='green'>See the License for the specific language governing permissions and</font></i>
<a name='L23'>  23 <i><font color='green'>limitations under the License.</font></i>
<a name='L24'>  24 <i><font color='green'></font></i>
<a name='L25'>  25 <i><font color='green'>*************************************************************************************/</font></i>
<a name='L26'>  26 
<a name='L27'>  27 <font color='darkred'>#ifndef</font> <a href='../S/80.html#L28' title='Defined at 28 in ovr/sdk/src/OVR_DeviceImpl.h.'>OVR_DeviceImpl_h</a>
<a name='L28'>  28 <font color='darkred'>#define</font> <a href='../S/80.html#L27' title='Refered from 27 in ovr/sdk/src/OVR_DeviceImpl.h.'>OVR_DeviceImpl_h</a>
<a name='L29'>  29 
<a name='L30'>  30 <font color='darkred'>#include</font> "<a href='108.html'>OVR_Device.h</a>"
<a name='L31'>  31 <font color='darkred'>#include</font> "<a href='145.html'>Kernel/OVR_Atomic.h</a>"
<a name='L32'>  32 <font color='darkred'>#include</font> "<a href='155.html'>Kernel/OVR_Log.h</a>"
<a name='L33'>  33 <font color='darkred'>#include</font> "<a href='165.html'>Kernel/OVR_System.h</a>"
<a name='L34'>  34 
<a name='L35'>  35 <font color='darkred'>#include</font> "<a href='151.html'>Kernel/OVR_Threads.h</a>"
<a name='L36'>  36 <font color='darkred'>#include</font> "<a href='83.html'>OVR_ThreadCommandQueue.h</a>"
<a name='L37'>  37 <font color='darkred'>#include</font> "<a href='140.html'>OVR_HIDDevice.h</a>"
<a name='L38'>  38 
<a name='L39'>  39 <a href='../Y/3724.html' title='Multiple used in 73 places.'>namespace</a> <a href='../D/655.html' title='Multiple defined in 50 places.'>OVR</a> <font color='red'>{</font>
<a name='L40'>  40     
<a name='L41'>  41 <a href='../Y/2849.html' title='Multiple used in 534 places.'>class</a> <a href='../D/185.html' title='Multiple defined in 2 places.'>DeviceManagerImpl</a>;
<a name='L42'>  42 <a href='../Y/2849.html' title='Multiple used in 534 places.'>class</a> <a href='../Y/390.html' title='Multiple used in 31 places.'>DeviceFactory</a>;
<a name='L43'>  43 
<a name='L44'>  44 <b>enum</b>
<a name='L45'>  45 <font color='red'>{</font>
<a name='L46'>  46     <a href='../S/188.html#L40' title='Defined at 40 in ovr/sdk/src/OVR_Sensor2Impl.cpp.'>Oculus_VendorId</a> = 0x2833,
<a name='L47'>  47     <a href='../Y/411.html' title='Multiple used in 2 places.'>Device_Tracker_ProductId</a>  = 0x0001,
<a name='L48'>  48     <a href='../Y/410.html' title='Multiple used in 3 places.'>Device_Tracker2_ProductId</a>  = 0x0021,
<a name='L49'>  49     <a href='../Y/407.html' title='Multiple used in 2 places.'>Device_KTracker_ProductId</a> = 0x0010,
<a name='L50'>  50 <font color='red'>}</font>;
<a name='L51'>  51 
<a name='L52'>  52 
<a name='L53'>  53 <i><font color='green'>// Wrapper for MessageHandler that includes synchronization logic.</font></i>
<a name='L54'>  54 <a href='../Y/2849.html' title='Multiple used in 534 places.'>class</a> <a href='../S/191.html#L87' title='Defined at 87 in ovr/sdk/src/OVR_DeviceImpl.cpp.'>MessageHandlerRef</a>
<a name='L55'>  55 <font color='red'>{</font>   
<a name='L56'>  56     <b>enum</b>
<a name='L57'>  57     <font color='red'>{</font>
<a name='L58'>  58         <a href='../Y/1376.html' title='Multiple used in 3 places.'>MaxHandlersCount</a> = 4
<a name='L59'>  59     <font color='red'>}</font>;
<a name='L60'>  60 <a href='../Y/4195.html' title='Multiple used in 367 places.'>public</a>:
<a name='L61'>  61     <a href='../S/191.html#L87' title='Defined at 87 in ovr/sdk/src/OVR_DeviceImpl.cpp.'>MessageHandlerRef</a>(<a href='../Y/385.html' title='Multiple used in 92 places.'>DeviceBase</a>* <a href='../Y/3002.html' title='Multiple used in 145 places.'>device</a>);
<a name='L62'>  62     ~<a href='../S/191.html#L87' title='Defined at 87 in ovr/sdk/src/OVR_DeviceImpl.cpp.'>MessageHandlerRef</a>();
<a name='L63'>  63 
<a name='L64'>  64     <a href='../Y/2772.html' title='Multiple used in 684 places.'>bool</a>            <a href='../Y/900.html' title='Multiple used in 9 places.'>HasHandlers</a>() <b>const</b> <font color='red'>{</font> <b>return</b> <a href='../S/191.html#L83' title='Defined at 83 in ovr/sdk/src/OVR_DeviceImpl.cpp.'>HandlersCount</a> &gt; 0; <font color='red'>}</font>;
<a name='L65'>  65     <b>void</b>            <a href='../S/191.html#L107' title='Defined at 107 in ovr/sdk/src/OVR_DeviceImpl.cpp.'>AddHandler</a>(<a href='../D/608.html' title='Multiple defined in 2 places.'>MessageHandler</a>* <a href='../Y/3395.html' title='Multiple used in 27 places.'>handler</a>);
<a name='L66'>  66     <i><font color='green'>// returns false if the handler is not found</font></i>
<a name='L67'>  67     <a href='../Y/2772.html' title='Multiple used in 684 places.'>bool</a>            <a href='../S/191.html#L135' title='Defined at 135 in ovr/sdk/src/OVR_DeviceImpl.cpp.'>RemoveHandler</a>(<a href='../D/608.html' title='Multiple defined in 2 places.'>MessageHandler</a>* <a href='../Y/3395.html' title='Multiple used in 27 places.'>handler</a>);
<a name='L68'>  68     <i><font color='green'>// Not-thread-safe version</font></i>
<a name='L69'>  69     <b>void</b>            <a href='../S/191.html#L115' title='Defined at 115 in ovr/sdk/src/OVR_DeviceImpl.cpp.'>AddHandler_NTS</a>(<a href='../D/608.html' title='Multiple defined in 2 places.'>MessageHandler</a>* <a href='../Y/3395.html' title='Multiple used in 27 places.'>handler</a>);
<a name='L70'>  70     
<a name='L71'>  71     <b>void</b>            <a href='../S/191.html#L99' title='Defined at 99 in ovr/sdk/src/OVR_DeviceImpl.cpp.'>Call</a>(<b>const</b> <a href='../Y/1394.html' title='Multiple used in 39 places.'>Message</a>&amp; <a href='../Y/3704.html' title='Multiple used in 71 places.'>msg</a>);
<a name='L72'>  72 
<a name='L73'>  73     <a href='../D/571.html' title='Multiple defined in 2 places.'>Lock</a>*           <a href='../Y/779.html' title='Multiple used in 22 places.'>GetLock</a>() <b>const</b> <font color='red'>{</font> <b>return</b> <a href='../Y/3957.html' title='Multiple used in 35 places.'>pLock</a>; <font color='red'>}</font>
<a name='L74'>  74     <a href='../Y/385.html' title='Multiple used in 92 places.'>DeviceBase</a>*     <a href='../Y/744.html' title='Multiple used in 2 places.'>GetDevice</a>() <b>const</b>  <font color='red'>{</font> <b>return</b> <a href='../Y/3925.html' title='Multiple used in 36 places.'>pDevice</a>; <font color='red'>}</font>
<a name='L75'>  75 
<a name='L76'>  76 <a href='../Y/4115.html' title='Multiple used in 56 places.'>private</a>:
<a name='L77'>  77     <a href='../D/571.html' title='Multiple defined in 2 places.'>Lock</a>*           <a href='../Y/3957.html' title='Multiple used in 35 places.'>pLock</a>;   <i><font color='green'>// Cached global handler lock.</font></i>
<a name='L78'>  78     <a href='../Y/385.html' title='Multiple used in 92 places.'>DeviceBase</a>*     <a href='../Y/3925.html' title='Multiple used in 36 places.'>pDevice</a>;
<a name='L79'>  79 
<a name='L80'>  80     <b>int</b>             <a href='../S/191.html#L83' title='Defined at 83 in ovr/sdk/src/OVR_DeviceImpl.cpp.'>HandlersCount</a>;
<a name='L81'>  81     <a href='../D/608.html' title='Multiple defined in 2 places.'>MessageHandler</a>* <a href='../Y/3943.html' title='Multiple used in 8 places.'>pHandlers</a>[<a href='../Y/1376.html' title='Multiple used in 3 places.'>MaxHandlersCount</a>];
<a name='L82'>  82 
<a name='L83'>  83     <a href='../Y/2772.html' title='Multiple used in 684 places.'>bool</a>            <a href='../S/191.html#L147' title='Defined at 147 in ovr/sdk/src/OVR_DeviceImpl.cpp.'>removeHandler</a>(<b>int</b> <a href='../Y/3442.html' title='Multiple used in 42 places.'>idx</a>);
<a name='L84'>  84 <font color='red'>}</font>;
<a name='L85'>  85 
<a name='L86'>  86 
<a name='L87'>  87 <i><font color='green'>//-------------------------------------------------------------------------------------</font></i>
<a name='L88'>  88 
<a name='L89'>  89 <i><font color='green'>// DeviceManagerLock is a synchronization lock used by DeviceManager for Devices</font></i>
<a name='L90'>  90 <i><font color='green'>// and is allocated separately for potentially longer lifetime.</font></i>
<a name='L91'>  91 <i><font color='green'>// </font></i>
<a name='L92'>  92 <i><font color='green'>// DeviceManagerLock is used for all of the following:</font></i>
<a name='L93'>  93 <i><font color='green'>//  - Adding/removing devices</font></i>
<a name='L94'>  94 <i><font color='green'>//  - Reporting manager lifetime (pManager != 0) for DeviceHandles</font></i>
<a name='L95'>  95 <i><font color='green'>//  - Protecting device creation/shutdown.</font></i>
<a name='L96'>  96 
<a name='L97'>  97 <a href='../Y/2849.html' title='Multiple used in 534 places.'>class</a> <a href='../Y/398.html' title='Multiple used in 4 places.'>DeviceManagerLock</a> : <a href='../Y/4195.html' title='Multiple used in 367 places.'>public</a> <a href='../Y/1829.html' title='Multiple used in 20 places.'>RefCountBase</a>&lt;<a href='../Y/398.html' title='Multiple used in 4 places.'>DeviceManagerLock</a>&gt;
<a name='L98'>  98 <font color='red'>{</font>
<a name='L99'>  99 <a href='../Y/4195.html' title='Multiple used in 367 places.'>public</a>:
<a name='L100'> 100     <a href='../D/571.html' title='Multiple defined in 2 places.'>Lock</a>                <a href='../Y/276.html' title='Multiple used in 2 places.'>CreateLock</a>;
<a name='L101'> 101     <a href='../D/185.html' title='Multiple defined in 2 places.'>DeviceManagerImpl</a>*  <a href='../Y/3959.html' title='Multiple used in 32 places.'>pManager</a>;
<a name='L102'> 102 
<a name='L103'> 103     <a href='../Y/398.html' title='Multiple used in 4 places.'>DeviceManagerLock</a>() : <a href='../Y/3959.html' title='Multiple used in 32 places.'>pManager</a>(0) <font color='red'>{</font> <font color='red'>}</font>
<a name='L104'> 104 <font color='red'>}</font>;
<a name='L105'> 105 
<a name='L106'> 106 
<a name='L107'> 107 <i><font color='green'>// DeviceCreateDesc provides all of the information needed to create any device, a derived</font></i>
<a name='L108'> 108 <i><font color='green'>// instance of this class is created by DeviceFactory during enumeration.</font></i>
<a name='L109'> 109 <i><font color='green'>//   - DeviceCreateDesc may or may not be a part of DeviceManager::Devices list (check pNext != 0).</font></i>
<a name='L110'> 110 <i><font color='green'>//   - Referenced and kept alive by DeviceHandle.</font></i>
<a name='L111'> 111 
<a name='L112'> 112 <a href='../Y/2849.html' title='Multiple used in 534 places.'>class</a> <a href='../Y/387.html' title='Multiple used in 82 places.'>DeviceCreateDesc</a> : <a href='../Y/4195.html' title='Multiple used in 367 places.'>public</a> <a href='../S/180.html#L47' title='Defined at 47 in ovr/sdk/src/Kernel/OVR_List.h.'>ListNode</a>&lt;<a href='../Y/387.html' title='Multiple used in 82 places.'>DeviceCreateDesc</a>&gt;, <a href='../Y/4195.html' title='Multiple used in 367 places.'>public</a> <a href='../Y/1454.html' title='Multiple used in 15 places.'>NewOverrideBase</a>
<a name='L113'> 113 <font color='red'>{</font>    
<a name='L114'> 114     <b>void</b> <a href='../Y/3818.html' title='Multiple used in 298 places.'>operator</a> = (<b>const</b> <a href='../Y/387.html' title='Multiple used in 82 places.'>DeviceCreateDesc</a>&amp;) <font color='red'>{</font> <font color='red'>}</font> <i><font color='green'>// Assign not supported; suppress MSVC warning.</font></i>
<a name='L115'> 115 <a href='../Y/4195.html' title='Multiple used in 367 places.'>public</a>:
<a name='L116'> 116     <a href='../Y/387.html' title='Multiple used in 82 places.'>DeviceCreateDesc</a>(<a href='../Y/390.html' title='Multiple used in 31 places.'>DeviceFactory</a>* <a href='../Y/3193.html' title='Multiple used in 40 places.'>factory</a>, <a href='../S/85.html#L37' title='Defined at 37 in ovr/sdk/src/OVR_DeviceConstants.h.'>DeviceType</a> <a href='../Y/4675.html' title='Multiple used in 21 places.'>type</a>)
<a name='L117'> 117         : <a href='../S/191.html#L605' title='Defined at 605 in ovr/sdk/src/OVR_DeviceImpl.cpp.'>pFactory</a>(<a href='../Y/3193.html' title='Multiple used in 40 places.'>factory</a>), <a href='../D/1210.html' title='Multiple defined in 21 places.'>Type</a>(<a href='../Y/4675.html' title='Multiple used in 21 places.'>type</a>), <a href='../Y/3957.html' title='Multiple used in 35 places.'>pLock</a>(0), <a href='../Y/893.html' title='Multiple used in 7 places.'>HandleCount</a>(0), <a href='../Y/3925.html' title='Multiple used in 36 places.'>pDevice</a>(0), <a href='../Y/510.html' title='Multiple used in 14 places.'>Enumerated</a>(<a href='../Y/4657.html' title='Multiple used in 68 places.'>true</a>)
<a name='L118'> 118     <font color='red'>{</font>
<a name='L119'> 119         <a href='../Y/3961.html' title='Multiple used in 72 places.'>pNext</a> = <a href='../Y/3972.html' title='Multiple used in 56 places.'>pPrev</a> = 0;
<a name='L120'> 120     <font color='red'>}</font>
<a name='L121'> 121 
<a name='L122'> 122     <a href='../Y/4799.html' title='Multiple used in 451 places.'>virtual</a> ~<a href='../Y/387.html' title='Multiple used in 82 places.'>DeviceCreateDesc</a>()
<a name='L123'> 123     <font color='red'>{</font>
<a name='L124'> 124         <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a>(!<a href='../Y/3925.html' title='Multiple used in 36 places.'>pDevice</a>);
<a name='L125'> 125         <b>if</b> (<a href='../Y/3961.html' title='Multiple used in 72 places.'>pNext</a>)        
<a name='L126'> 126             <a href='../Y/1846.html' title='Multiple used in 15 places.'>RemoveNode</a>();
<a name='L127'> 127     <font color='red'>}</font>
<a name='L128'> 128 
<a name='L129'> 129     <a href='../D/185.html' title='Multiple defined in 2 places.'>DeviceManagerImpl</a>* <a href='../Y/784.html' title='Multiple used in 52 places.'>GetManagerImpl</a>() <b>const</b> <font color='red'>{</font> <b>return</b> <a href='../Y/3957.html' title='Multiple used in 35 places.'>pLock</a>-&gt;<a href='../Y/3959.html' title='Multiple used in 32 places.'>pManager</a>; <font color='red'>}</font>
<a name='L130'> 130     <a href='../D/571.html' title='Multiple defined in 2 places.'>Lock</a>*              <a href='../Y/779.html' title='Multiple used in 22 places.'>GetLock</a>() <b>const</b>        <font color='red'>{</font> <b>return</b> &amp;<a href='../Y/3957.html' title='Multiple used in 35 places.'>pLock</a>-&gt;<a href='../Y/276.html' title='Multiple used in 2 places.'>CreateLock</a>; <font color='red'>}</font>
<a name='L131'> 131 
<a name='L132'> 132     <i><font color='green'>// DeviceCreateDesc reference counting is tied to Devices list management,</font></i>
<a name='L133'> 133     <i><font color='green'>// see comments for HandleCount.</font></i>
<a name='L134'> 134     <b>void</b> <a href='../D/20.html' title='Multiple defined in 4 places.'>AddRef</a>();
<a name='L135'> 135     <b>void</b> <a href='../D/948.html' title='Multiple defined in 5 places.'>Release</a>();
<a name='L136'> 136 
<a name='L137'> 137 
<a name='L138'> 138     <i><font color='green'>// *** Device creation/matching Interface</font></i>
<a name='L139'> 139 
<a name='L140'> 140 
<a name='L141'> 141     <i><font color='green'>// Cloning copies us to an allocated object when new device is enumerated.</font></i>
<a name='L142'> 142     <a href='../Y/4799.html' title='Multiple used in 451 places.'>virtual</a> <a href='../Y/387.html' title='Multiple used in 82 places.'>DeviceCreateDesc</a>* <a href='../S/191.html#L278' title='Defined at 278 in ovr/sdk/src/OVR_DeviceImpl.cpp.'>Clone</a>() <b>const</b> = 0;
<a name='L143'> 143     <i><font color='green'>// Creates a new device instance without Initializing it; the</font></i>
<a name='L144'> 144     <i><font color='green'>// later is done my Initialize()/Shutdown() methods of the device itself.</font></i>
<a name='L145'> 145     <a href='../Y/4799.html' title='Multiple used in 451 places.'>virtual</a> <a href='../Y/385.html' title='Multiple used in 92 places.'>DeviceBase</a>*       <a href='../D/633.html' title='Multiple defined in 4 places.'>NewDeviceInstance</a>() = 0;
<a name='L146'> 146     <i><font color='green'>// Override to return device-specific info.</font></i>
<a name='L147'> 147     <a href='../Y/4799.html' title='Multiple used in 451 places.'>virtual</a> <a href='../Y/2772.html' title='Multiple used in 684 places.'>bool</a>              <a href='../D/326.html' title='Multiple defined in 7 places.'>GetDeviceInfo</a>(<a href='../Y/395.html' title='Multiple used in 24 places.'>DeviceInfo</a>* <a href='../Y/3458.html' title='Multiple used in 196 places.'>info</a>) <b>const</b> = 0;
<a name='L148'> 148 
<a name='L149'> 149 
<a name='L150'> 150     <b>enum</b> <a href='../R/571.html' title='Multiple refered from 8 places.'>MatchResult</a>
<a name='L151'> 151     <font color='red'>{</font>
<a name='L152'> 152         <a href='../Y/1363.html' title='Multiple used in 7 places.'>Match_None</a>,
<a name='L153'> 153         <a href='../Y/1362.html' title='Multiple used in 7 places.'>Match_Found</a>,
<a name='L154'> 154         <a href='../Y/1361.html' title='Multiple used in 4 places.'>Match_Candidate</a>
<a name='L155'> 155     <font color='red'>}</font>;
<a name='L156'> 156 
<a name='L157'> 157     <i><font color='green'>// Override to return Match_Found if descriptor matches our device.</font></i>
<a name='L158'> 158     <i><font color='green'>// Match_Candidate can be returned, with pcandicate update, if this may be a match</font></i>
<a name='L159'> 159     <i><font color='green'>// but more searching is necessary. If this is the case UpdateMatchedCandidate will be called.</font></i>
<a name='L160'> 160     <a href='../Y/4799.html' title='Multiple used in 451 places.'>virtual</a> <a href='../S/80.html#L150' title='Defined at 150 in ovr/sdk/src/OVR_DeviceImpl.h.'>MatchResult</a>       <a href='../D/595.html' title='Multiple defined in 3 places.'>MatchDevice</a>(<b>const</b> <a href='../Y/387.html' title='Multiple used in 82 places.'>DeviceCreateDesc</a>&amp; <a href='../Y/3831.html' title='Multiple used in 61 places.'>other</a>,
<a name='L161'> 161                                           <a href='../Y/387.html' title='Multiple used in 82 places.'>DeviceCreateDesc</a>** <a href='../Y/4012.html' title='Multiple used in 7 places.'>pcandidate</a>) <b>const</b> = 0;
<a name='L162'> 162     
<a name='L163'> 163     <i><font color='green'>// Called for matched candidate after all potential matches are iterated.</font></i>
<a name='L164'> 164     <i><font color='green'>// Used to update HMDevice creation arguments from Sensor.</font></i>
<a name='L165'> 165     <i><font color='green'>// Optional return param 'newDeviceFlag' will be set to true if the </font></i>
<a name='L166'> 166     <i><font color='green'>// 'desc' refers to a new device; false, otherwise.</font></i>
<a name='L167'> 167     <i><font color='green'>// Return 'false' to create new object, 'true' if done with this argument.</font></i>
<a name='L168'> 168     <a href='../Y/4799.html' title='Multiple used in 451 places.'>virtual</a> <a href='../Y/2772.html' title='Multiple used in 684 places.'>bool</a>              <a href='../S/120.html#L130' title='Defined at 130 in ovr/sdk/src/OVR_Linux_HMDDevice.cpp.'>UpdateMatchedCandidate</a>(
<a name='L169'> 169         <b>const</b> <a href='../Y/387.html' title='Multiple used in 82 places.'>DeviceCreateDesc</a>&amp; <a href='../Y/2980.html' title='Multiple used in 57 places.'>desc</a>, <a href='../Y/2772.html' title='Multiple used in 684 places.'>bool</a>* <a href='../Y/3736.html' title='Multiple used in 7 places.'>newDeviceFlag</a> = <a href='../Y/1448.html' title='Multiple used in 256 places.'>NULL</a>) 
<a name='L170'> 170     <font color='red'>{</font> <a href='../S/168.html#L429' title='Defined at 429 in ovr/sdk/src/Kernel/OVR_Types.h.'>OVR_UNUSED2</a>(<a href='../Y/2980.html' title='Multiple used in 57 places.'>desc</a>, <a href='../Y/3736.html' title='Multiple used in 7 places.'>newDeviceFlag</a>); <b>return</b> <a href='../Y/3198.html' title='Multiple used in 97 places.'>false</a>; <font color='red'>}</font>
<a name='L171'> 171 
<a name='L172'> 172     <i><font color='green'>// Matches HID device to the descriptor.</font></i>
<a name='L173'> 173     <a href='../Y/4799.html' title='Multiple used in 451 places.'>virtual</a> <a href='../Y/2772.html' title='Multiple used in 684 places.'>bool</a>              <a href='../Y/1359.html' title='Multiple used in 9 places.'>MatchHIDDevice</a>(<b>const</b> <a href='../S/140.html#L43' title='Defined at 43 in ovr/sdk/src/OVR_HIDDevice.h.'>HIDDeviceDesc</a>&amp;) <b>const</b> <font color='red'>{</font> <b>return</b> <a href='../Y/3198.html' title='Multiple used in 97 places.'>false</a>; <font color='red'>}</font>
<a name='L174'> 174 
<a name='L175'> 175     <i><font color='green'>// Matches device by path.</font></i>
<a name='L176'> 176     <a href='../Y/4799.html' title='Multiple used in 451 places.'>virtual</a> <a href='../Y/2772.html' title='Multiple used in 684 places.'>bool</a>              <a href='../D/595.html' title='Multiple defined in 3 places.'>MatchDevice</a>(<b>const</b> <a href='../D/1131.html' title='Multiple defined in 9 places.'>String</a>&amp; <i><font color='green'>/*path*/</font></i>) <font color='red'>{</font> <b>return</b> <a href='../Y/3198.html' title='Multiple used in 97 places.'>false</a>; <font color='red'>}</font>
<a name='L177'> 177 <i><font color='green'>//protected:</font></i>
<a name='L178'> 178     <a href='../Y/390.html' title='Multiple used in 31 places.'>DeviceFactory</a>* <b>const</b>        <a href='../S/191.html#L605' title='Defined at 605 in ovr/sdk/src/OVR_DeviceImpl.cpp.'>pFactory</a>;
<a name='L179'> 179     <b>const</b> <a href='../S/85.html#L37' title='Defined at 37 in ovr/sdk/src/OVR_DeviceConstants.h.'>DeviceType</a>            <a href='../D/1210.html' title='Multiple defined in 21 places.'>Type</a>;
<a name='L180'> 180 
<a name='L181'> 181     <i><font color='green'>// List in which this descriptor lives. pList-&gt;CreateLock required if added/removed.</font></i>
<a name='L182'> 182     <a href='../Y/1725.html' title='Multiple used in 115 places.'>Ptr</a>&lt;<a href='../Y/398.html' title='Multiple used in 4 places.'>DeviceManagerLock</a>&gt;      <a href='../Y/3957.html' title='Multiple used in 35 places.'>pLock</a>;    
<a name='L183'> 183 
<a name='L184'> 184     <i><font color='green'>// Strong references to us: Incremented by Device, DeviceHandles &amp; Enumerators.</font></i>
<a name='L185'> 185     <i><font color='green'>// May be 0 if device not created and there are no handles.</font></i>
<a name='L186'> 186     <i><font color='green'>// Following transitions require pList-&gt;CreateLock:</font></i>
<a name='L187'> 187     <i><font color='green'>//  {1 -&gt; 0}: May delete &amp; remove handle if no longer available.</font></i>
<a name='L188'> 188     <i><font color='green'>//  {0 -&gt; 1}: Device creation is only possible if manager is still alive.</font></i>
<a name='L189'> 189     <a href='../Y/77.html' title='Multiple used in 13 places.'>AtomicInt</a>&lt;<a href='../D/1214.html' title='Multiple defined in 3 places.'>UInt32</a>&gt;           <a href='../Y/893.html' title='Multiple used in 7 places.'>HandleCount</a>;
<a name='L190'> 190     <i><font color='green'>// If not null, points to our created device instance. Modified during lock only.</font></i>
<a name='L191'> 191     <a href='../Y/385.html' title='Multiple used in 92 places.'>DeviceBase</a>*                 <a href='../Y/3925.html' title='Multiple used in 36 places.'>pDevice</a>;
<a name='L192'> 192     <i><font color='green'>// True if device is marked as available during enumeration.</font></i>
<a name='L193'> 193     <a href='../Y/2772.html' title='Multiple used in 684 places.'>bool</a>                        <a href='../Y/510.html' title='Multiple used in 14 places.'>Enumerated</a>;
<a name='L194'> 194 <font color='red'>}</font>;
<a name='L195'> 195 
<a name='L196'> 196 
<a name='L197'> 197 
<a name='L198'> 198 <i><font color='green'>// Common data present in the implementation of every DeviceBase.</font></i>
<a name='L199'> 199 <i><font color='green'>// Injected by DeviceImpl.</font></i>
<a name='L200'> 200 <a href='../Y/2849.html' title='Multiple used in 534 places.'>class</a> <a href='../Y/386.html' title='Multiple used in 12 places.'>DeviceCommon</a>
<a name='L201'> 201 <font color='red'>{</font>
<a name='L202'> 202 <a href='../Y/4195.html' title='Multiple used in 367 places.'>public</a>:
<a name='L203'> 203     <a href='../Y/77.html' title='Multiple used in 13 places.'>AtomicInt</a>&lt;<a href='../D/1214.html' title='Multiple defined in 3 places.'>UInt32</a>&gt;      <a href='../Y/1828.html' title='Multiple used in 29 places.'>RefCount</a>;
<a name='L204'> 204     <a href='../Y/1725.html' title='Multiple used in 115 places.'>Ptr</a>&lt;<a href='../Y/387.html' title='Multiple used in 82 places.'>DeviceCreateDesc</a>&gt;  <a href='../Y/3916.html' title='Multiple used in 29 places.'>pCreateDesc</a>;
<a name='L205'> 205     <a href='../Y/1725.html' title='Multiple used in 115 places.'>Ptr</a>&lt;<a href='../Y/385.html' title='Multiple used in 92 places.'>DeviceBase</a>&gt;        <a href='../Y/3968.html' title='Multiple used in 7 places.'>pParent</a>;
<a name='L206'> 206     <b>volatile</b> <a href='../Y/2772.html' title='Multiple used in 684 places.'>bool</a>          <a href='../Y/240.html' title='Multiple used in 5 places.'>ConnectedFlag</a>;
<a name='L207'> 207     <a href='../S/191.html#L87' title='Defined at 87 in ovr/sdk/src/OVR_DeviceImpl.cpp.'>MessageHandlerRef</a>      <a href='../Y/895.html' title='Multiple used in 29 places.'>HandlerRef</a>;
<a name='L208'> 208 
<a name='L209'> 209     <a href='../Y/386.html' title='Multiple used in 12 places.'>DeviceCommon</a>(<a href='../Y/387.html' title='Multiple used in 82 places.'>DeviceCreateDesc</a>* <a href='../Y/2925.html' title='Multiple used in 49 places.'>createDesc</a>, <a href='../Y/385.html' title='Multiple used in 92 places.'>DeviceBase</a>* <a href='../Y/3002.html' title='Multiple used in 145 places.'>device</a>, <a href='../Y/385.html' title='Multiple used in 92 places.'>DeviceBase</a>* <a href='../Y/4000.html' title='Multiple used in 27 places.'>parent</a>)
<a name='L210'> 210         : <a href='../Y/1828.html' title='Multiple used in 29 places.'>RefCount</a>(1), <a href='../Y/3916.html' title='Multiple used in 29 places.'>pCreateDesc</a>(<a href='../Y/2925.html' title='Multiple used in 49 places.'>createDesc</a>), <a href='../Y/3968.html' title='Multiple used in 7 places.'>pParent</a>(<a href='../Y/4000.html' title='Multiple used in 27 places.'>parent</a>),
<a name='L211'> 211           <a href='../Y/240.html' title='Multiple used in 5 places.'>ConnectedFlag</a>(<a href='../Y/4657.html' title='Multiple used in 68 places.'>true</a>), <a href='../Y/895.html' title='Multiple used in 29 places.'>HandlerRef</a>(<a href='../Y/3002.html' title='Multiple used in 145 places.'>device</a>)
<a name='L212'> 212     <font color='red'>{</font>
<a name='L213'> 213     <font color='red'>}</font>
<a name='L214'> 214         <a href='../Y/4799.html' title='Multiple used in 451 places.'>virtual</a> ~<a href='../Y/386.html' title='Multiple used in 12 places.'>DeviceCommon</a>() <font color='red'>{</font><font color='red'>}</font>
<a name='L215'> 215 
<a name='L216'> 216     <i><font color='green'>// Device reference counting delegates to Manager thread to actually kill devices.</font></i>
<a name='L217'> 217     <b>void</b> <a href='../S/191.html#L642' title='Defined at 642 in ovr/sdk/src/OVR_DeviceImpl.cpp.'>DeviceAddRef</a>();
<a name='L218'> 218     <b>void</b> <a href='../S/191.html#L647' title='Defined at 647 in ovr/sdk/src/OVR_DeviceImpl.cpp.'>DeviceRelease</a>();
<a name='L219'> 219 
<a name='L220'> 220     <a href='../D/571.html' title='Multiple defined in 2 places.'>Lock</a>* <a href='../Y/779.html' title='Multiple used in 22 places.'>GetLock</a>() <b>const</b> <font color='red'>{</font> <b>return</b> <a href='../Y/3916.html' title='Multiple used in 29 places.'>pCreateDesc</a>-&gt;<a href='../Y/779.html' title='Multiple used in 22 places.'>GetLock</a>(); <font color='red'>}</font>
<a name='L221'> 221 
<a name='L222'> 222     <a href='../Y/4799.html' title='Multiple used in 451 places.'>virtual</a> <a href='../Y/2772.html' title='Multiple used in 684 places.'>bool</a> <a href='../D/475.html' title='Multiple defined in 10 places.'>Initialize</a>(<a href='../Y/385.html' title='Multiple used in 92 places.'>DeviceBase</a>* <a href='../Y/4000.html' title='Multiple used in 27 places.'>parent</a>) = 0;
<a name='L223'> 223     <a href='../Y/4799.html' title='Multiple used in 451 places.'>virtual</a> <b>void</b> <a href='../D/1108.html' title='Multiple defined in 7 places.'>Shutdown</a>() = 0;
<a name='L224'> 224 <font color='red'>}</font>;
<a name='L225'> 225 
<a name='L226'> 226 
<a name='L227'> 227 <i><font color='green'>//-------------------------------------------------------------------------------------</font></i>
<a name='L228'> 228 <i><font color='green'>// DeviceImpl address DeviceRecord implementation to a device base class B.</font></i>
<a name='L229'> 229 <i><font color='green'>// B must be derived form DeviceBase.</font></i>
<a name='L230'> 230 
<a name='L231'> 231 <a href='../Y/4566.html' title='Multiple used in 260 places.'>template</a>&lt;<a href='../Y/2849.html' title='Multiple used in 534 places.'>class</a> <a href='../Y/99.html' title='Multiple used in 31 places.'>B</a>&gt;
<a name='L232'> 232 <a href='../Y/2849.html' title='Multiple used in 534 places.'>class</a> <a href='../Y/394.html' title='Multiple used in 16 places.'>DeviceImpl</a> : <a href='../Y/4195.html' title='Multiple used in 367 places.'>public</a> <a href='../Y/99.html' title='Multiple used in 31 places.'>B</a>, <a href='../Y/4195.html' title='Multiple used in 367 places.'>public</a> <a href='../Y/386.html' title='Multiple used in 12 places.'>DeviceCommon</a>
<a name='L233'> 233 <font color='red'>{</font>
<a name='L234'> 234 <a href='../Y/4195.html' title='Multiple used in 367 places.'>public</a>:
<a name='L235'> 235     <a href='../Y/394.html' title='Multiple used in 16 places.'>DeviceImpl</a>(<a href='../Y/387.html' title='Multiple used in 82 places.'>DeviceCreateDesc</a>* <a href='../Y/2925.html' title='Multiple used in 49 places.'>createDesc</a>, <a href='../Y/385.html' title='Multiple used in 92 places.'>DeviceBase</a>* <a href='../Y/4000.html' title='Multiple used in 27 places.'>parent</a>)
<a name='L236'> 236         : <a href='../Y/386.html' title='Multiple used in 12 places.'>DeviceCommon</a>(<a href='../Y/2925.html' title='Multiple used in 49 places.'>createDesc</a>, <a href='../Y/3294.html' title='Multiple used in 10 places.'>getThis</a>(), <a href='../Y/4000.html' title='Multiple used in 27 places.'>parent</a>)        
<a name='L237'> 237     <font color='red'>{</font>
<a name='L238'> 238     <font color='red'>}</font>
<a name='L239'> 239 
<a name='L240'> 240         <i><font color='green'>// Convenience method to avoid manager access typecasts.</font></i>
<a name='L241'> 241     <a href='../D/185.html' title='Multiple defined in 2 places.'>DeviceManagerImpl</a>*  <a href='../Y/784.html' title='Multiple used in 52 places.'>GetManagerImpl</a>() <b>const</b>      <font color='red'>{</font> <b>return</b> <a href='../Y/3916.html' title='Multiple used in 29 places.'>pCreateDesc</a>-&gt;<a href='../Y/3957.html' title='Multiple used in 35 places.'>pLock</a>-&gt;<a href='../Y/3959.html' title='Multiple used in 32 places.'>pManager</a>; <font color='red'>}</font>
<a name='L242'> 242 
<a name='L243'> 243     <i><font color='green'>// Inline to avoid warnings.</font></i>
<a name='L244'> 244     <a href='../Y/394.html' title='Multiple used in 16 places.'>DeviceImpl</a>*         <a href='../Y/3294.html' title='Multiple used in 10 places.'>getThis</a>()                   <font color='red'>{</font> <b>return</b> <a href='../Y/4589.html' title='Multiple used in 303 places.'>this</a>; <font color='red'>}</font>
<a name='L245'> 245 
<a name='L246'> 246     <i><font color='green'>// Common implementation delegate to avoid virtual inheritance and dynamic casts.</font></i>
<a name='L247'> 247     <a href='../Y/4799.html' title='Multiple used in 451 places.'>virtual</a> <a href='../Y/386.html' title='Multiple used in 12 places.'>DeviceCommon</a>* <a href='../Y/3288.html' title='Multiple used in 15 places.'>getDeviceCommon</a>() <b>const</b>   <font color='red'>{</font> <b>return</b> (<a href='../Y/386.html' title='Multiple used in 12 places.'>DeviceCommon</a>*)<a href='../Y/4589.html' title='Multiple used in 303 places.'>this</a>; <font color='red'>}</font>
<a name='L248'> 248 
<a name='L249'> 249     <i><font color='green'>/*</font></i>
<a name='L250'> 250 <i><font color='green'>    virtual void            AddRef()                                   { pCreateDesc-&gt;DeviceAddRef(); }</font></i>
<a name='L251'> 251 <i><font color='green'>    virtual void            Release()                                  { pCreateDesc-&gt;DeviceRelease(); }</font></i>
<a name='L252'> 252 <i><font color='green'>    virtual DeviceBase*     GetParent() const                          { return pParent.GetPtr(); } </font></i>
<a name='L253'> 253 <i><font color='green'>    virtual DeviceManager*  GetManager() const                         { return pCreateDesc-&gt;pLock-&gt;pManager;}</font></i>
<a name='L254'> 254 <i><font color='green'>    virtual void            SetMessageHandler(MessageHandler* handler) { HanderRef.SetHandler(handler); }</font></i>
<a name='L255'> 255 <i><font color='green'>    virtual MessageHandler* GetMessageHandler() const                  { return HanderRef.GetHandler(); }</font></i>
<a name='L256'> 256 <i><font color='green'>    virtual DeviceType      GetType() const                            { return pCreateDesc-&gt;Type; }</font></i>
<a name='L257'> 257 <i><font color='green'>    virtual DeviceType      GetType() const                            { return pCreateDesc-&gt;Type; }</font></i>
<a name='L258'> 258 <i><font color='green'>    */</font></i>
<a name='L259'> 259 <font color='red'>}</font>;
<a name='L260'> 260 
<a name='L261'> 261 
<a name='L262'> 262 <i><font color='green'>//-------------------------------------------------------------------------------------</font></i>
<a name='L263'> 263 <i><font color='green'>// ***** DeviceFactory</font></i>
<a name='L264'> 264 
<a name='L265'> 265 <i><font color='green'>// DeviceFactory is maintained in DeviceManager for each separately-enumerable</font></i>
<a name='L266'> 266 <i><font color='green'>// device type; factories allow separation of unrelated enumeration code.</font></i>
<a name='L267'> 267 
<a name='L268'> 268 <a href='../Y/2849.html' title='Multiple used in 534 places.'>class</a> <a href='../Y/390.html' title='Multiple used in 31 places.'>DeviceFactory</a> : <a href='../Y/4195.html' title='Multiple used in 367 places.'>public</a> <a href='../S/180.html#L47' title='Defined at 47 in ovr/sdk/src/Kernel/OVR_List.h.'>ListNode</a>&lt;<a href='../Y/390.html' title='Multiple used in 31 places.'>DeviceFactory</a>&gt;, <a href='../Y/4195.html' title='Multiple used in 367 places.'>public</a> <a href='../Y/1454.html' title='Multiple used in 15 places.'>NewOverrideBase</a>
<a name='L269'> 269 <font color='red'>{</font>    
<a name='L270'> 270 <a href='../Y/4195.html' title='Multiple used in 367 places.'>public</a>:
<a name='L271'> 271 
<a name='L272'> 272     <a href='../Y/390.html' title='Multiple used in 31 places.'>DeviceFactory</a>() : <a href='../Y/3959.html' title='Multiple used in 32 places.'>pManager</a>(0)
<a name='L273'> 273     <font color='red'>{</font>
<a name='L274'> 274         <a href='../Y/3961.html' title='Multiple used in 72 places.'>pNext</a> = <a href='../Y/3972.html' title='Multiple used in 56 places.'>pPrev</a> = 0;
<a name='L275'> 275     <font color='red'>}</font>
<a name='L276'> 276     <a href='../Y/4799.html' title='Multiple used in 451 places.'>virtual</a> ~<a href='../Y/390.html' title='Multiple used in 31 places.'>DeviceFactory</a>() <font color='red'>{</font> <font color='red'>}</font>
<a name='L277'> 277 
<a name='L278'> 278     <a href='../D/185.html' title='Multiple defined in 2 places.'>DeviceManagerImpl</a>* <a href='../Y/784.html' title='Multiple used in 52 places.'>GetManagerImpl</a>() <font color='red'>{</font> <b>return</b> <a href='../Y/3959.html' title='Multiple used in 32 places.'>pManager</a>; <font color='red'>}</font>
<a name='L279'> 279 
<a name='L280'> 280     <i><font color='green'>// Notifiers called when we are added to/removed from a device.</font></i>
<a name='L281'> 281     <a href='../Y/4799.html' title='Multiple used in 451 places.'>virtual</a> <a href='../Y/2772.html' title='Multiple used in 684 places.'>bool</a> <a href='../Y/46.html' title='Multiple used in 2 places.'>AddedToManager</a>(<a href='../D/185.html' title='Multiple defined in 2 places.'>DeviceManagerImpl</a>* <a href='../Y/3633.html' title='Multiple used in 42 places.'>manager</a>)
<a name='L282'> 282     <font color='red'>{</font>
<a name='L283'> 283         <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a>(<a href='../Y/3959.html' title='Multiple used in 32 places.'>pManager</a> == 0);
<a name='L284'> 284         <a href='../Y/3959.html' title='Multiple used in 32 places.'>pManager</a> = <a href='../Y/3633.html' title='Multiple used in 42 places.'>manager</a>;
<a name='L285'> 285         <b>return</b> <a href='../Y/4657.html' title='Multiple used in 68 places.'>true</a>;
<a name='L286'> 286     <font color='red'>}</font>
<a name='L287'> 287 
<a name='L288'> 288     <a href='../Y/4799.html' title='Multiple used in 451 places.'>virtual</a> <b>void</b> <a href='../Y/1847.html' title='Multiple used in 2 places.'>RemovedFromManager</a>()
<a name='L289'> 289     <font color='red'>{</font>
<a name='L290'> 290         <a href='../Y/3959.html' title='Multiple used in 32 places.'>pManager</a> = 0;
<a name='L291'> 291     <font color='red'>}</font>
<a name='L292'> 292 
<a name='L293'> 293 
<a name='L294'> 294     <i><font color='green'>// *** Device Enumeration/Creation Support</font></i>
<a name='L295'> 295     
<a name='L296'> 296     <i><font color='green'>// Passed to EnumerateDevices to be informed of every device detected.</font></i>
<a name='L297'> 297     <a href='../Y/2849.html' title='Multiple used in 534 places.'>class</a> <a href='../Y/509.html' title='Multiple used in 14 places.'>EnumerateVisitor</a>
<a name='L298'> 298     <font color='red'>{</font>
<a name='L299'> 299     <a href='../Y/4195.html' title='Multiple used in 367 places.'>public</a>:        
<a name='L300'> 300         <a href='../Y/4799.html' title='Multiple used in 451 places.'>virtual</a> <b>void</b> <a href='../D/1258.html' title='Multiple defined in 8 places.'>Visit</a>(<b>const</b> <a href='../Y/387.html' title='Multiple used in 82 places.'>DeviceCreateDesc</a>&amp; <a href='../Y/2925.html' title='Multiple used in 49 places.'>createDesc</a>) = 0;
<a name='L301'> 301     <font color='red'>}</font>;
<a name='L302'> 302 
<a name='L303'> 303     <i><font color='green'>// Enumerates factory devices by notifying EnumerateVisitor about every</font></i>
<a name='L304'> 304     <i><font color='green'>// device that is present.</font></i>
<a name='L305'> 305     <a href='../Y/4799.html' title='Multiple used in 451 places.'>virtual</a> <b>void</b> <a href='../D/233.html' title='Multiple defined in 4 places.'>EnumerateDevices</a>(<a href='../Y/509.html' title='Multiple used in 14 places.'>EnumerateVisitor</a>&amp; <a href='../Y/4807.html' title='Multiple used in 38 places.'>visitor</a>) = 0;
<a name='L306'> 306 
<a name='L307'> 307     <i><font color='green'>// Matches vendorId/productId pair with the factory; returns 'true'</font></i>
<a name='L308'> 308     <i><font color='green'>// if the factory can handle the device.</font></i>
<a name='L309'> 309     <a href='../Y/4799.html' title='Multiple used in 451 places.'>virtual</a> <a href='../Y/2772.html' title='Multiple used in 684 places.'>bool</a> <a href='../D/598.html' title='Multiple defined in 4 places.'>MatchVendorProduct</a>(<a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a> <a href='../Y/4786.html' title='Multiple used in 16 places.'>vendorId</a>, <a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a> <a href='../Y/4124.html' title='Multiple used in 16 places.'>productId</a>) <b>const</b>
<a name='L310'> 310     <font color='red'>{</font>
<a name='L311'> 311         <a href='../S/168.html#L429' title='Defined at 429 in ovr/sdk/src/Kernel/OVR_Types.h.'>OVR_UNUSED2</a>(<a href='../Y/4786.html' title='Multiple used in 16 places.'>vendorId</a>, <a href='../Y/4124.html' title='Multiple used in 16 places.'>productId</a>);
<a name='L312'> 312         <b>return</b> <a href='../Y/3198.html' title='Multiple used in 97 places.'>false</a>;
<a name='L313'> 313     <font color='red'>}</font>
<a name='L314'> 314 
<a name='L315'> 315     <i><font color='green'>// Detects the HID device and adds the DeviceCreateDesc into Devices list, if</font></i>
<a name='L316'> 316     <i><font color='green'>// the device belongs to this factory. Returns 'false', if not.</font></i>
<a name='L317'> 317     <a href='../Y/4799.html' title='Multiple used in 451 places.'>virtual</a> <a href='../Y/2772.html' title='Multiple used in 684 places.'>bool</a> <a href='../D/180.html' title='Multiple defined in 3 places.'>DetectHIDDevice</a>(<a href='../D/183.html' title='Multiple defined in 2 places.'>DeviceManager</a>* <a href='../Y/4029.html' title='Multiple used in 9 places.'>pdevMgr</a>, <b>const</b> <a href='../S/140.html#L43' title='Defined at 43 in ovr/sdk/src/OVR_HIDDevice.h.'>HIDDeviceDesc</a>&amp; <a href='../Y/2980.html' title='Multiple used in 57 places.'>desc</a>)
<a name='L318'> 318     <font color='red'>{</font>
<a name='L319'> 319         <a href='../S/168.html#L429' title='Defined at 429 in ovr/sdk/src/Kernel/OVR_Types.h.'>OVR_UNUSED2</a>(<a href='../Y/4029.html' title='Multiple used in 9 places.'>pdevMgr</a>, <a href='../Y/2980.html' title='Multiple used in 57 places.'>desc</a>);
<a name='L320'> 320         <b>return</b> <a href='../Y/3198.html' title='Multiple used in 97 places.'>false</a>;
<a name='L321'> 321     <font color='red'>}</font>
<a name='L322'> 322     
<a name='L323'> 323 <a href='../Y/4147.html' title='Multiple used in 57 places.'>protected</a>:
<a name='L324'> 324     <a href='../D/185.html' title='Multiple defined in 2 places.'>DeviceManagerImpl</a>* <a href='../Y/3959.html' title='Multiple used in 32 places.'>pManager</a>;
<a name='L325'> 325 <font color='red'>}</font>;
<a name='L326'> 326 
<a name='L327'> 327 
<a name='L328'> 328 <i><font color='green'>//-------------------------------------------------------------------------------------</font></i>
<a name='L329'> 329 <i><font color='green'>// ***** DeviceManagerImpl</font></i>
<a name='L330'> 330 
<a name='L331'> 331 <i><font color='green'>// DeviceManagerImpl is a partial default DeviceManager implementation that</font></i>
<a name='L332'> 332 <i><font color='green'>// maintains a list of devices and supports their enumeration.</font></i>
<a name='L333'> 333 
<a name='L334'> 334 <a href='../Y/2849.html' title='Multiple used in 534 places.'>class</a> <a href='../D/185.html' title='Multiple defined in 2 places.'>DeviceManagerImpl</a> : <a href='../Y/4195.html' title='Multiple used in 367 places.'>public</a> <a href='../Y/394.html' title='Multiple used in 16 places.'>DeviceImpl</a>&lt;<a href='../D/655.html' title='Multiple defined in 50 places.'>OVR</a>::<a href='../D/183.html' title='Multiple defined in 2 places.'>DeviceManager</a>&gt;, <a href='../Y/4195.html' title='Multiple used in 367 places.'>public</a> <a href='../D/1165.html' title='Multiple defined in 2 places.'>ThreadCommandQueue</a>
<a name='L335'> 335 <font color='red'>{</font>
<a name='L336'> 336 <a href='../Y/4195.html' title='Multiple used in 367 places.'>public</a>:
<a name='L337'> 337     <a href='../D/185.html' title='Multiple defined in 2 places.'>DeviceManagerImpl</a>();
<a name='L338'> 338     ~<a href='../D/185.html' title='Multiple defined in 2 places.'>DeviceManagerImpl</a>();
<a name='L339'> 339 
<a name='L340'> 340     <i><font color='green'>// Constructor helper function to create Descriptor and manager lock during initialization.</font></i>
<a name='L341'> 341     <b>static</b> <a href='../Y/387.html' title='Multiple used in 82 places.'>DeviceCreateDesc</a>* <a href='../S/191.html#L312' title='Defined at 312 in ovr/sdk/src/OVR_DeviceImpl.cpp.'>CreateManagerDesc</a>();
<a name='L342'> 342 
<a name='L343'> 343     <i><font color='green'>// DeviceManagerImpl provides partial implementation of Initialize/Shutdown that must</font></i>
<a name='L344'> 344     <i><font color='green'>// be called by the platform-specific derived class.</font></i>
<a name='L345'> 345     <a href='../Y/4799.html' title='Multiple used in 451 places.'>virtual</a> <a href='../Y/2772.html' title='Multiple used in 684 places.'>bool</a> <a href='../D/475.html' title='Multiple defined in 10 places.'>Initialize</a>(<a href='../Y/385.html' title='Multiple used in 92 places.'>DeviceBase</a>* <a href='../Y/4000.html' title='Multiple used in 27 places.'>parent</a>);
<a name='L346'> 346     <a href='../Y/4799.html' title='Multiple used in 451 places.'>virtual</a> <b>void</b> <a href='../D/1108.html' title='Multiple defined in 7 places.'>Shutdown</a>();
<a name='L347'> 347 
<a name='L348'> 348 
<a name='L349'> 349     <i><font color='green'>// Every DeviceManager has an associated profile manager, which is used to store</font></i>
<a name='L350'> 350     <i><font color='green'>// user settings that may affect device behavior. </font></i>
<a name='L351'> 351     <a href='../Y/4799.html' title='Multiple used in 451 places.'>virtual</a> <a href='../D/913.html' title='Multiple defined in 2 places.'>ProfileManager</a>* <a href='../Y/803.html' title='Multiple used in 4 places.'>GetProfileManager</a>() <b>const</b> <font color='red'>{</font> <b>return</b> <a href='../Y/3973.html' title='Multiple used in 4 places.'>pProfileManager</a>.<a href='../Y/804.html' title='Multiple used in 29 places.'>GetPtr</a>(); <font color='red'>}</font>
<a name='L352'> 352 
<a name='L353'> 353     <i><font color='green'>// Override to return ThreadCommandQueue implementation used to post commands</font></i>
<a name='L354'> 354     <i><font color='green'>// to the background device manager thread (that must be created by Initialize).</font></i>
<a name='L355'> 355     <a href='../Y/4799.html' title='Multiple used in 451 places.'>virtual</a> <a href='../D/1165.html' title='Multiple defined in 2 places.'>ThreadCommandQueue</a>* <a href='../S/193.html#L96' title='Defined at 96 in ovr/sdk/src/OVR_Linux_DeviceManager.cpp.'>GetThreadQueue</a>() = 0;
<a name='L356'> 356 
<a name='L357'> 357     <i><font color='green'>// Returns the thread id of the DeviceManager.</font></i>
<a name='L358'> 358     <a href='../Y/4799.html' title='Multiple used in 451 places.'>virtual</a> <a href='../S/151.html#L180' title='Defined at 180 in ovr/sdk/src/Kernel/OVR_Threads.h.'>ThreadId</a> <a href='../S/193.html#L101' title='Defined at 101 in ovr/sdk/src/OVR_Linux_DeviceManager.cpp.'>GetThreadId</a>() <b>const</b> = 0;
<a name='L359'> 359 
<a name='L360'> 360     <a href='../Y/4799.html' title='Multiple used in 451 places.'>virtual</a> <a href='../Y/389.html' title='Multiple used in 17 places.'>DeviceEnumerator</a>&lt;&gt; <a href='../D/234.html' title='Multiple defined in 2 places.'>EnumerateDevicesEx</a>(<b>const</b> <a href='../Y/388.html' title='Multiple used in 14 places.'>DeviceEnumerationArgs</a>&amp; <a href='../Y/2707.html' title='Multiple used in 21 places.'>args</a>);
<a name='L361'> 361 
<a name='L362'> 362 
<a name='L363'> 363     <i><font color='green'>// </font></i>
<a name='L364'> 364     <b>void</b> <a href='../Y/37.html' title='Multiple used in 4 places.'>AddFactory</a>(<a href='../Y/390.html' title='Multiple used in 31 places.'>DeviceFactory</a>* <a href='../Y/3193.html' title='Multiple used in 40 places.'>factory</a>)
<a name='L365'> 365     <font color='red'>{</font>
<a name='L366'> 366         <i><font color='green'>// This lock is only needed if we call AddFactory after manager thread creation.</font></i>
<a name='L367'> 367         <a href='../D/571.html' title='Multiple defined in 2 places.'>Lock</a>::<a href='../Y/1296.html' title='Multiple used in 78 places.'>Locker</a> <a href='../Y/4356.html' title='Multiple used in 5 places.'>scopeLock</a>(<a href='../Y/779.html' title='Multiple used in 22 places.'>GetLock</a>());
<a name='L368'> 368         <a href='../Y/580.html' title='Multiple used in 8 places.'>Factories</a>.<a href='../Y/1729.html' title='Multiple used in 56 places.'>PushBack</a>(<a href='../Y/3193.html' title='Multiple used in 40 places.'>factory</a>);
<a name='L369'> 369         <a href='../Y/3193.html' title='Multiple used in 40 places.'>factory</a>-&gt;<a href='../Y/46.html' title='Multiple used in 2 places.'>AddedToManager</a>(<a href='../Y/4589.html' title='Multiple used in 303 places.'>this</a>);        
<a name='L370'> 370     <font color='red'>}</font>
<a name='L371'> 371 
<a name='L372'> 372     <b>void</b> <a href='../Y/182.html' title='Multiple used in 5 places.'>CallOnDeviceAdded</a>(<a href='../Y/387.html' title='Multiple used in 82 places.'>DeviceCreateDesc</a>* <a href='../Y/2980.html' title='Multiple used in 57 places.'>desc</a>)
<a name='L373'> 373     <font color='red'>{</font>
<a name='L374'> 374         <a href='../Y/895.html' title='Multiple used in 29 places.'>HandlerRef</a>.<a href='../S/191.html#L99' title='Defined at 99 in ovr/sdk/src/OVR_DeviceImpl.cpp.'>Call</a>(<a href='../Y/1398.html' title='Multiple used in 7 places.'>MessageDeviceStatus</a>(<a href='../Y/1411.html' title='Multiple used in 9 places.'>Message_DeviceAdded</a>, <a href='../Y/4589.html' title='Multiple used in 303 places.'>this</a>, <a href='../D/182.html' title='Multiple defined in 4 places.'>DeviceHandle</a>(<a href='../Y/2980.html' title='Multiple used in 57 places.'>desc</a>)));
<a name='L375'> 375     <font color='red'>}</font>
<a name='L376'> 376     <b>void</b> <a href='../Y/183.html' title='Multiple used in 3 places.'>CallOnDeviceRemoved</a>(<a href='../Y/387.html' title='Multiple used in 82 places.'>DeviceCreateDesc</a>* <a href='../Y/2980.html' title='Multiple used in 57 places.'>desc</a>)
<a name='L377'> 377     <font color='red'>{</font>
<a name='L378'> 378         <a href='../Y/895.html' title='Multiple used in 29 places.'>HandlerRef</a>.<a href='../S/191.html#L99' title='Defined at 99 in ovr/sdk/src/OVR_DeviceImpl.cpp.'>Call</a>(<a href='../Y/1398.html' title='Multiple used in 7 places.'>MessageDeviceStatus</a>(<a href='../Y/1412.html' title='Multiple used in 8 places.'>Message_DeviceRemoved</a>, <a href='../Y/4589.html' title='Multiple used in 303 places.'>this</a>, <a href='../D/182.html' title='Multiple defined in 4 places.'>DeviceHandle</a>(<a href='../Y/2980.html' title='Multiple used in 57 places.'>desc</a>)));
<a name='L379'> 379     <font color='red'>}</font>
<a name='L380'> 380 
<a name='L381'> 381     <i><font color='green'>// Helper to access Common data for a device.</font></i>
<a name='L382'> 382     <b>static</b> <a href='../Y/386.html' title='Multiple used in 12 places.'>DeviceCommon</a>* GetDeviceCommon(<a href='../Y/385.html' title='Multiple used in 92 places.'>DeviceBase</a>* <a href='../Y/3002.html' title='Multiple used in 145 places.'>device</a>)
<a name='L383'> 383     <font color='red'>{</font>
<a name='L384'> 384         <b>return</b> <a href='../Y/3002.html' title='Multiple used in 145 places.'>device</a>-&gt;<a href='../Y/3288.html' title='Multiple used in 15 places.'>getDeviceCommon</a>();
<a name='L385'> 385     <font color='red'>}</font>
<a name='L386'> 386 
<a name='L387'> 387 
<a name='L388'> 388     <i><font color='green'>// Background-thread callbacks for DeviceCreation/Release. These</font></i>
<a name='L389'> 389     <a href='../Y/385.html' title='Multiple used in 92 places.'>DeviceBase</a>* <a href='../S/191.html#L361' title='Defined at 361 in ovr/sdk/src/OVR_DeviceImpl.cpp.'>CreateDevice_MgrThread</a>(<a href='../Y/387.html' title='Multiple used in 82 places.'>DeviceCreateDesc</a>* <a href='../Y/2925.html' title='Multiple used in 49 places.'>createDesc</a>, <a href='../Y/385.html' title='Multiple used in 92 places.'>DeviceBase</a>* <a href='../Y/4000.html' title='Multiple used in 27 places.'>parent</a> = 0);
<a name='L390'> 390     <a href='../S/83.html#L131' title='Defined at 131 in ovr/sdk/src/OVR_ThreadCommandQueue.h.'>Void</a>        <a href='../S/191.html#L399' title='Defined at 399 in ovr/sdk/src/OVR_DeviceImpl.cpp.'>ReleaseDevice_MgrThread</a>(<a href='../Y/385.html' title='Multiple used in 92 places.'>DeviceBase</a>* <a href='../Y/3002.html' title='Multiple used in 145 places.'>device</a>);
<a name='L391'> 391 
<a name='L392'> 392    
<a name='L393'> 393     <i><font color='green'>// Calls EnumerateDevices() on all factories</font></i>
<a name='L394'> 394     <a href='../Y/4799.html' title='Multiple used in 451 places.'>virtual</a> <a href='../S/83.html#L131' title='Defined at 131 in ovr/sdk/src/OVR_ThreadCommandQueue.h.'>Void</a> <a href='../S/191.html#L441' title='Defined at 441 in ovr/sdk/src/OVR_DeviceImpl.cpp.'>EnumerateAllFactoryDevices</a>();
<a name='L395'> 395     <i><font color='green'>// Enumerates devices for a particular factory.</font></i>
<a name='L396'> 396     <a href='../Y/4799.html' title='Multiple used in 451 places.'>virtual</a> <a href='../S/83.html#L131' title='Defined at 131 in ovr/sdk/src/OVR_ThreadCommandQueue.h.'>Void</a> <a href='../S/191.html#L596' title='Defined at 596 in ovr/sdk/src/OVR_DeviceImpl.cpp.'>EnumerateFactoryDevices</a>(<a href='../Y/390.html' title='Multiple used in 31 places.'>DeviceFactory</a>* <a href='../Y/3193.html' title='Multiple used in 40 places.'>factory</a>);
<a name='L397'> 397 
<a name='L398'> 398     <a href='../Y/4799.html' title='Multiple used in 451 places.'>virtual</a> <a href='../D/436.html' title='Multiple defined in 2 places.'>HIDDeviceManager</a>* <a href='../Y/763.html' title='Multiple used in 7 places.'>GetHIDDeviceManager</a>() <b>const</b>
<a name='L399'> 399     <font color='red'>{</font>
<a name='L400'> 400         <b>return</b> <a href='../Y/920.html' title='Multiple used in 3 places.'>HidDeviceManager</a>;
<a name='L401'> 401     <font color='red'>}</font>
<a name='L402'> 402 
<a name='L403'> 403     <i><font color='green'>// Adds device (DeviceCreateDesc*) into Devices. Returns NULL, </font></i>
<a name='L404'> 404     <i><font color='green'>// if unsuccessful or device is already in the list.</font></i>
<a name='L405'> 405     <a href='../Y/4799.html' title='Multiple used in 451 places.'>virtual</a> <a href='../Y/1725.html' title='Multiple used in 115 places.'>Ptr</a>&lt;<a href='../Y/387.html' title='Multiple used in 82 places.'>DeviceCreateDesc</a>&gt; <a href='../S/191.html#L498' title='Defined at 498 in ovr/sdk/src/OVR_DeviceImpl.cpp.'>AddDevice_NeedsLock</a>(<b>const</b> <a href='../Y/387.html' title='Multiple used in 82 places.'>DeviceCreateDesc</a>&amp; <a href='../Y/2925.html' title='Multiple used in 49 places.'>createDesc</a>);
<a name='L406'> 406     
<a name='L407'> 407     <i><font color='green'>// Finds a device descriptor by path and optional type.</font></i>
<a name='L408'> 408     <a href='../Y/1725.html' title='Multiple used in 115 places.'>Ptr</a>&lt;<a href='../Y/387.html' title='Multiple used in 82 places.'>DeviceCreateDesc</a>&gt; <a href='../S/191.html#L543' title='Defined at 543 in ovr/sdk/src/OVR_DeviceImpl.cpp.'>FindDevice</a>(<b>const</b> <a href='../D/1131.html' title='Multiple defined in 9 places.'>String</a>&amp; <a href='../Y/4004.html' title='Multiple used in 77 places.'>path</a>, <a href='../S/85.html#L37' title='Defined at 37 in ovr/sdk/src/OVR_DeviceConstants.h.'>DeviceType</a> = <a href='../Y/409.html' title='Multiple used in 13 places.'>Device_None</a>);
<a name='L409'> 409 
<a name='L410'> 410     <i><font color='green'>// Finds HID device by HIDDeviceDesc.</font></i>
<a name='L411'> 411     <a href='../Y/1725.html' title='Multiple used in 115 places.'>Ptr</a>&lt;<a href='../Y/387.html' title='Multiple used in 82 places.'>DeviceCreateDesc</a>&gt; <a href='../S/191.html#L560' title='Defined at 560 in ovr/sdk/src/OVR_DeviceImpl.cpp.'>FindHIDDevice</a>(<b>const</b> <a href='../S/140.html#L43' title='Defined at 43 in ovr/sdk/src/OVR_HIDDevice.h.'>HIDDeviceDesc</a>&amp;, <a href='../Y/2772.html' title='Multiple used in 684 places.'>bool</a> <a href='../Y/2928.html' title='Multiple used in 3 places.'>created</a>);
<a name='L412'> 412     <b>void</b> <a href='../D/180.html' title='Multiple defined in 3 places.'>DetectHIDDevice</a>(<b>const</b> <a href='../S/140.html#L43' title='Defined at 43 in ovr/sdk/src/OVR_HIDDevice.h.'>HIDDeviceDesc</a>&amp;);
<a name='L413'> 413 
<a name='L414'> 414     <i><font color='green'>// Manager Lock-protected list of devices.</font></i>
<a name='L415'> 415     <a href='../Y/1289.html' title='Multiple used in 20 places.'>List</a>&lt;<a href='../Y/387.html' title='Multiple used in 82 places.'>DeviceCreateDesc</a>&gt;  <a href='../Y/412.html' title='Multiple used in 18 places.'>Devices</a>;    
<a name='L416'> 416 
<a name='L417'> 417     <i><font color='green'>// Factories used to detect and manage devices.</font></i>
<a name='L418'> 418     <a href='../Y/1289.html' title='Multiple used in 20 places.'>List</a>&lt;<a href='../Y/390.html' title='Multiple used in 31 places.'>DeviceFactory</a>&gt;     <a href='../Y/580.html' title='Multiple used in 8 places.'>Factories</a>;
<a name='L419'> 419 
<a name='L420'> 420 <a href='../Y/4147.html' title='Multiple used in 57 places.'>protected</a>:
<a name='L421'> 421     <a href='../Y/1725.html' title='Multiple used in 115 places.'>Ptr</a>&lt;<a href='../D/436.html' title='Multiple defined in 2 places.'>HIDDeviceManager</a>&gt;   <a href='../Y/920.html' title='Multiple used in 3 places.'>HidDeviceManager</a>;
<a name='L422'> 422     <a href='../Y/1725.html' title='Multiple used in 115 places.'>Ptr</a>&lt;<a href='../D/913.html' title='Multiple defined in 2 places.'>ProfileManager</a>&gt;     <a href='../Y/3973.html' title='Multiple used in 4 places.'>pProfileManager</a>;
<a name='L423'> 423 <font color='red'>}</font>;
<a name='L424'> 424 
<a name='L425'> 425 
<a name='L426'> 426 <font color='red'>}</font> <i><font color='green'>// namespace OVR</font></i>
<a name='L427'> 427 
<a name='L428'> 428 <font color='darkred'>#endif</font>
</pre>
<hr>
<a name='BOTTOM'>
<i><font color='green'>/* [&lt;][&gt;][^][v]<a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
</body>
</html>
