<html>
<head>
<title>ovr/sdk/src/Util/Util_Render_Stereo.cpp</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-5.7.1'>
</head>
<body text='#191970' bgcolor='#f5f5dc' vlink='gray'>
<a name='TOP'><h2><a href='../mains.html'>root</a>/<a href='../files/215.html'>ovr</a>/<a href='../files/216.html'>sdk</a>/<a href='../files/218.html'>src</a>/<a href='../files/222.html'>Util</a>/Util_Render_Stereo.cpp</h2>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L36'>[^]</a><a href='#L1433'>[v]</a>[top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
<hr>
<h2>DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href='#L36' title='Defined at 36.'>GetDebugNameEyeCupType</a>
<li><a href='#L58' title='Defined at 58.'>GetDebugNameHmdType</a>
<li><a href='#L86' title='Defined at 86.'>CalculateDistortionAndFovInternal</a>
<li><a href='#L114' title='Defined at 114.'>CalculateViewportInternal</a>
<li><a href='#L144' title='Defined at 144.'>CalculateViewportDensityInternal</a>
<li><a href='#L164' title='Defined at 164.'>CalculateViewportScaleAndOffsetInternal</a>
<li><a href='#L177' title='Defined at 177.'>CalculateStereoEyeParamsInternal</a>
<li><a href='#L222' title='Defined at 222.'>CalculateEyeVirtualCameraOffset</a>
<li><a href='#L250' title='Defined at 250.'>CalculateRecommendedTextureSize</a>
<li><a href='#L277' title='Defined at 277.'>CalculateStereoEyeParams</a>
<li><a href='#L315' title='Defined at 315.'>CalculateRecommendedFov</a>
<li><a href='#L335' title='Defined at 335.'>ModifyRenderViewport</a>
<li><a href='#L342' title='Defined at 342.'>ModifyRenderSize</a>
<li><a href='#L351' title='Defined at 351.'>ModifyRenderDensity</a>
<li><a href='#L366' title='Defined at 366.'>DirtyFlag</a>
<li><a href='#L426' title='Defined at 426.'>SetHmdRenderInfo</a>
<li><a href='#L432' title='Defined at 432.'>Set2DAreaFov</a>
<li><a href='#L438' title='Defined at 438.'>GetEyeRenderParams</a>
<li><a href='#L451' title='Defined at 451.'>SetLensOverride</a>
<li><a href='#L471' title='Defined at 471.'>SetRendertargetSize</a>
<li><a href='#L479' title='Defined at 479.'>SetFov</a>
<li><a href='#L500' title='Defined at 500.'>SetZeroVirtualIpdOverride</a>
<li><a href='#L507' title='Defined at 507.'>SetZClipPlanesAndHandedness</a>
<li><a href='#L515' title='Defined at 515.'>SetExtraEyeRotation</a>
<li><a href='#L521' title='Defined at 521.'>CalculateRecommendedTextureSize</a>
<li><a href='#L529' title='Defined at 529.'>UpdateComputedState</a>
<li><a href='#L671' title='Defined at 671.'>setupViewportScaleAndOffsets</a>
<li><a href='#L735' title='Defined at 735.'>SetRenderDensity</a>
<li><a href='#L743' title='Defined at 743.'>SetRenderSize</a>
<li><a href='#L752' title='Defined at 752.'>SetRenderViewport</a>
<li><a href='#L760' title='Defined at 760.'>GetProjectionWithZoom</a>
<li><a href='#L790' title='Defined at 790.'>DistortionMeshDestroy</a>
<li><a href='#L796' title='Defined at 796.'>DistortionMeshCreate</a>
<li><a href='#L814' title='Defined at 814.'>DistortionMeshCreate</a>
<li><a href='#L1016' title='Defined at 1016.'>HeightmapMeshDestroy</a>
<li><a href='#L1022' title='Defined at 1022.'>HeightmapMeshCreate</a>
<li><a href='#L1040' title='Defined at 1040.'>HeightmapMeshCreate</a>
<li><a href='#L1209' title='Defined at 1209.'>PredictionGetDeviceValues</a>
<li><a href='#L1275' title='Defined at 1275.'>TimewarpComputePoseDelta</a>
<li><a href='#L1309' title='Defined at 1309.'>TimewarpComputePoseDeltaPosition</a>
<li><a href='#L1327' title='Defined at 1327.'>Reset</a>
<li><a href='#L1339' title='Defined at 1339.'>AfterPresentAndFlush</a>
<li><a href='#L1346' title='Defined at 1346.'>GetViewRenderPredictionTime</a>
<li><a href='#L1352' title='Defined at 1352.'>GetViewRenderPredictionPose</a>
<li><a href='#L1358' title='Defined at 1358.'>GetVisiblePixelTimeStart</a>
<li><a href='#L1363' title='Defined at 1363.'>GetVisiblePixelTimeEnd</a>
<li><a href='#L1368' title='Defined at 1368.'>GetPredictedVisiblePixelPoseStart</a>
<li><a href='#L1373' title='Defined at 1373.'>GetPredictedVisiblePixelPoseEnd</a>
<li><a href='#L1378' title='Defined at 1378.'>GetTimewarpDeltaStart</a>
<li><a href='#L1386' title='Defined at 1386.'>GetTimewarpDeltaEnd</a>
<li><a href='#L1397' title='Defined at 1397.'>JustInTime_GetDistortionWaitUntilTime</a>
<li><a href='#L1419' title='Defined at 1419.'>JustInTime_NeedDistortionTimeMeasurement</a>
<li><a href='#L1428' title='Defined at 1428.'>JustInTime_BeforeDistortionTimeMeasurement</a>
<li><a href='#L1433' title='Defined at 1433.'>JustInTime_AfterDistortionTimeMeasurement</a>
</ol>
<hr>
<pre>
<a name='L1'>   1 <i><font color='green'>/************************************************************************************</font></i>
<a name='L2'>   2 <i><font color='green'></font></i>
<a name='L3'>   3 <i><font color='green'>Filename    :   Util_Render_Stereo.cpp</font></i>
<a name='L4'>   4 <i><font color='green'>Content     :   Stereo rendering configuration implementation</font></i>
<a name='L5'>   5 <i><font color='green'>Created     :   October 22, 2012</font></i>
<a name='L6'>   6 <i><font color='green'>Authors     :   Michael Antonov, Andrew Reisse, Tom Forsyth</font></i>
<a name='L7'>   7 <i><font color='green'></font></i>
<a name='L8'>   8 <i><font color='green'>Copyright   :   Copyright 2014 Oculus VR, Inc. All Rights reserved.</font></i>
<a name='L9'>   9 <i><font color='green'></font></i>
<a name='L10'>  10 <i><font color='green'>Licensed under the Oculus VR Rift SDK License Version 3.1 (the "License"); </font></i>
<a name='L11'>  11 <i><font color='green'>you may not use the Oculus VR Rift SDK except in compliance with the License, </font></i>
<a name='L12'>  12 <i><font color='green'>which is provided at the time of installation or download, or which </font></i>
<a name='L13'>  13 <i><font color='green'>otherwise accompanies this software in either electronic or hard copy form.</font></i>
<a name='L14'>  14 <i><font color='green'></font></i>
<a name='L15'>  15 <i><font color='green'>You may obtain a copy of the License at</font></i>
<a name='L16'>  16 <i><font color='green'></font></i>
<a name='L17'>  17 <i><font color='green'>http://www.oculusvr.com/licenses/LICENSE-3.1 </font></i>
<a name='L18'>  18 <i><font color='green'></font></i>
<a name='L19'>  19 <i><font color='green'>Unless required by applicable law or agreed to in writing, the Oculus VR SDK </font></i>
<a name='L20'>  20 <i><font color='green'>distributed under the License is distributed on an "AS IS" BASIS,</font></i>
<a name='L21'>  21 <i><font color='green'>WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</font></i>
<a name='L22'>  22 <i><font color='green'>See the License for the specific language governing permissions and</font></i>
<a name='L23'>  23 <i><font color='green'>limitations under the License.</font></i>
<a name='L24'>  24 <i><font color='green'></font></i>
<a name='L25'>  25 <i><font color='green'>*************************************************************************************/</font></i>
<a name='L26'>  26 
<a name='L27'>  27 <font color='darkred'>#include</font> "<a href='115.html'>Util_Render_Stereo.h</a>"
<a name='L28'>  28 <font color='darkred'>#include</font> "<a href='127.html'>../OVR_SensorFusion.h</a>"
<a name='L29'>  29 
<a name='L30'>  30 <b>namespace</b> <a href='../R/624.html' title='Multiple refered from 184 places.'>OVR</a> <font color='red'>{</font> <b>namespace</b> <a href='../R/1165.html' title='Multiple refered from 16 places.'>Util</a> <font color='red'>{</font> <b>namespace</b> <a href='../R/903.html' title='Multiple refered from 5 places.'>Render</a> <font color='red'>{</font>
<a name='L31'>  31 
<a name='L32'>  32 
<a name='L33'>  33 <i><font color='green'>//-----------------------------------------------------------------------------------</font></i>
<a name='L34'>  34 <i><font color='green'>// **** Useful debug functions.</font></i>
<a name='L35'>  35 
<a name='L36'>  36 <b>char</b> <b>const</b>* <a href='../S/115.html#L46' title='Refered from 46 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>GetDebugNameEyeCupType</a> ( <a href='../Y/541.html' title='Multiple used in 2 places.'>EyeCupType</a> <a href='../Y/3162.html' title='Multiple used in 3 places.'>eyeCupType</a> )
<a name='L37'>  37 <font color='red'>{</font>
<a name='L38'>  38     <b>switch</b> ( <a href='../Y/3162.html' title='Multiple used in 3 places.'>eyeCupType</a> )
<a name='L39'>  39     <font color='red'>{</font>
<a name='L40'>  40     <b>case</b> <a href='../Y/543.html' title='Multiple used in 11 places.'>EyeCup_DK1A</a>:           <b>return</b> "DK1 A";             <b>break</b>;
<a name='L41'>  41     <b>case</b> <a href='../Y/544.html' title='Multiple used in 6 places.'>EyeCup_DK1B</a>:           <b>return</b> "DK1 B";             <b>break</b>;
<a name='L42'>  42     <b>case</b> <a href='../Y/545.html' title='Multiple used in 6 places.'>EyeCup_DK1C</a>:           <b>return</b> "DK1 C";             <b>break</b>;
<a name='L43'>  43     <b>case</b> <a href='../Y/547.html' title='Multiple used in 5 places.'>EyeCup_DKHD2A</a>:         <b>return</b> "DKHD2 A";           <b>break</b>;
<a name='L44'>  44     <b>case</b> <a href='../Y/552.html' title='Multiple used in 3 places.'>EyeCup_OrangeA</a>:        <b>return</b> "Orange A";          <b>break</b>;
<a name='L45'>  45     <b>case</b> <a href='../Y/554.html' title='Multiple used in 3 places.'>EyeCup_RedA</a>:           <b>return</b> "Red A";             <b>break</b>;
<a name='L46'>  46     <b>case</b> <a href='../Y/553.html' title='Multiple used in 6 places.'>EyeCup_PinkA</a>:          <b>return</b> "Pink A";            <b>break</b>;
<a name='L47'>  47     <b>case</b> <a href='../Y/542.html' title='Multiple used in 3 places.'>EyeCup_BlueA</a>:          <b>return</b> "Blue A";            <b>break</b>;
<a name='L48'>  48     <b>case</b> <a href='../Y/548.html' title='Multiple used in 2 places.'>EyeCup_Delilah1A</a>:      <b>return</b> "Delilah 1 A";       <b>break</b>;
<a name='L49'>  49     <b>case</b> <a href='../Y/549.html' title='Multiple used in 2 places.'>EyeCup_Delilah2A</a>:      <b>return</b> "Delilah 2 A";       <b>break</b>;
<a name='L50'>  50     <b>case</b> <a href='../Y/550.html' title='Multiple used in 2 places.'>EyeCup_JamesA</a>:         <b>return</b> "James A";           <b>break</b>;
<a name='L51'>  51     <b>case</b> <a href='../Y/555.html' title='Multiple used in 2 places.'>EyeCup_SunMandalaA</a>:    <b>return</b> "Sun Mandala A";     <b>break</b>;
<a name='L52'>  52     <b>case</b> <a href='../Y/546.html' title='Multiple used in 5 places.'>EyeCup_DK2A</a>:           <b>return</b> "DK2 A";             <b>break</b>;
<a name='L53'>  53     <b>case</b> <a href='../Y/551.html' title='Multiple used in 4 places.'>EyeCup_LAST</a>:           <b>return</b> "LAST";              <b>break</b>;
<a name='L54'>  54     <b>default</b>: <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a> ( <b>false</b> ); <b>return</b> "Error"; <b>break</b>;
<a name='L55'>  55     <font color='red'>}</font>
<a name='L56'>  56 <font color='red'>}</font>
<a name='L57'>  57 
<a name='L58'>  58 <b>char</b> <b>const</b>* <a href='../S/115.html#L47' title='Refered from 47 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>GetDebugNameHmdType</a> ( <a href='../Y/935.html' title='Multiple used in 2 places.'>HmdTypeEnum</a> <a href='../Y/3421.html' title='Multiple used in 31 places.'>hmdType</a> )
<a name='L59'>  59 <font color='red'>{</font>
<a name='L60'>  60     <b>switch</b> ( <a href='../Y/3421.html' title='Multiple used in 31 places.'>hmdType</a> )
<a name='L61'>  61     <font color='red'>{</font>
<a name='L62'>  62     <b>case</b> <a href='../Y/944.html' title='Multiple used in 8 places.'>HmdType_None</a>:              <b>return</b> "None";                   <b>break</b>;
<a name='L63'>  63     <b>case</b> <a href='../Y/937.html' title='Multiple used in 10 places.'>HmdType_DK1</a>:               <b>return</b> "DK1";                    <b>break</b>;
<a name='L64'>  64     <b>case</b> <a href='../Y/942.html' title='Multiple used in 6 places.'>HmdType_DKProto</a>:           <b>return</b> "DK1 prototype";          <b>break</b>;
<a name='L65'>  65     <b>case</b> <a href='../Y/940.html' title='Multiple used in 5 places.'>HmdType_DKHDProto</a>:         <b>return</b> "DK HD prototype 1";      <b>break</b>;
<a name='L66'>  66     <b>case</b> <a href='../Y/941.html' title='Multiple used in 5 places.'>HmdType_DKHDProto566Mi</a>:    <b>return</b> "DK HD prototype 566 Mi"; <b>break</b>;
<a name='L67'>  67     <b>case</b> <a href='../Y/939.html' title='Multiple used in 6 places.'>HmdType_DKHD2Proto</a>:        <b>return</b> "DK HD prototype 585";    <b>break</b>;
<a name='L68'>  68     <b>case</b> <a href='../Y/936.html' title='Multiple used in 10 places.'>HmdType_CrystalCoveProto</a>:  <b>return</b> "Crystal Cove";           <b>break</b>;
<a name='L69'>  69     <b>case</b> <a href='../Y/938.html' title='Multiple used in 14 places.'>HmdType_DK2</a>:               <b>return</b> "DK2";                    <b>break</b>;
<a name='L70'>  70     <b>case</b> <a href='../Y/945.html' title='Multiple used in 5 places.'>HmdType_Unknown</a>:           <b>return</b> "Unknown";                <b>break</b>;
<a name='L71'>  71     <b>case</b> <a href='../Y/943.html' title='Multiple used in 2 places.'>HmdType_LAST</a>:              <b>return</b> "LAST";                   <b>break</b>;
<a name='L72'>  72     <b>default</b>: <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a> ( <b>false</b> ); <b>return</b> "Error"; <b>break</b>;
<a name='L73'>  73     <font color='red'>}</font>
<a name='L74'>  74 <font color='red'>}</font>
<a name='L75'>  75 
<a name='L76'>  76 
<a name='L77'>  77 <i><font color='green'>//-----------------------------------------------------------------------------------</font></i>
<a name='L78'>  78 <i><font color='green'>// **** Internal pipeline functions.</font></i>
<a name='L79'>  79 
<a name='L80'>  80 <b>struct</b> <a href='../R/193.html' title='Multiple refered from 6 places.'>DistortionAndFov</a>
<a name='L81'>  81 <font color='red'>{</font>
<a name='L82'>  82     <a href='../S/131.html#L237' title='Defined at 237 in ovr/sdk/src/OVR_Stereo.h.'>DistortionRenderDesc</a>    <a href='../Y/425.html' title='Multiple used in 49 places.'>Distortion</a>;
<a name='L83'>  83     <a href='../S/131.html#L65' title='Defined at 65 in ovr/sdk/src/OVR_Stereo.h.'>FovPort</a>                 <a href='../Y/626.html' title='Multiple used in 28 places.'>Fov</a>; 
<a name='L84'>  84 <font color='red'>}</font>;
<a name='L85'>  85 
<a name='L86'>  86 <b>static</b> <a href='../S/117.html#L80' title='Defined at 80 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>DistortionAndFov</a> <a href='../R/85.html' title='Multiple refered from 4 places.'>CalculateDistortionAndFovInternal</a> ( <a href='../Y/2138.html' title='Multiple used in 16 places.'>StereoEye</a> <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a>, <a href='../Y/927.html' title='Multiple used in 20 places.'>HmdRenderInfo</a> <b>const</b> &amp;<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>,
<a name='L87'>  87                                                             <a href='../Y/1271.html' title='Multiple used in 8 places.'>LensConfig</a> <b>const</b> *<a href='../Y/3954.html' title='Multiple used in 10 places.'>pLensOverride</a> = <a href='../Y/1448.html' title='Multiple used in 256 places.'>NULL</a>,
<a name='L88'>  88                                                             <a href='../Y/629.html' title='Multiple used in 10 places.'>FovPort</a> <b>const</b> *<a href='../Y/3986.html' title='Multiple used in 7 places.'>pTanHalfFovOverride</a> = <a href='../Y/1448.html' title='Multiple used in 256 places.'>NULL</a>,
<a name='L89'>  89                                                             <b>float</b> <a href='../Y/3153.html' title='Multiple used in 15 places.'>extraEyeRotationInRadians</a> = <a href='../Y/1496.html' title='Multiple used in 10 places.'>OVR_DEFAULT_EXTRA_EYE_ROTATION</a> )
<a name='L90'>  90 <font color='red'>{</font>
<a name='L91'>  91     <i><font color='green'>// pLensOverride can be NULL, which means no override.</font></i>
<a name='L92'>  92 
<a name='L93'>  93     <a href='../S/131.html#L237' title='Defined at 237 in ovr/sdk/src/OVR_Stereo.h.'>DistortionRenderDesc</a> <a href='../Y/3577.html' title='Multiple used in 18 places.'>localDistortion</a>  = <a href='../S/88.html#L1248' title='Defined at 1248 in ovr/sdk/src/OVR_Stereo.cpp.'>CalculateDistortionRenderDesc</a> ( <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a>, <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>, <a href='../Y/3954.html' title='Multiple used in 10 places.'>pLensOverride</a> );
<a name='L94'>  94     <a href='../S/131.html#L65' title='Defined at 65 in ovr/sdk/src/OVR_Stereo.h.'>FovPort</a>              <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>              = <a href='../S/88.html#L1364' title='Defined at 1364 in ovr/sdk/src/OVR_Stereo.cpp.'>CalculateFovFromHmdInfo</a> ( <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a>, <a href='../Y/3577.html' title='Multiple used in 18 places.'>localDistortion</a>, <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>, <a href='../Y/3153.html' title='Multiple used in 15 places.'>extraEyeRotationInRadians</a> );
<a name='L95'>  95     <i><font color='green'>// Here the app or the user would optionally clamp this visible fov to a smaller number if</font></i>
<a name='L96'>  96     <i><font color='green'>// they want more perf or resolution and are willing to give up FOV.</font></i>
<a name='L97'>  97     <i><font color='green'>// They may also choose to clamp UDLR differently e.g. to get cinemascope-style views.</font></i>
<a name='L98'>  98     <b>if</b> ( <a href='../Y/3986.html' title='Multiple used in 7 places.'>pTanHalfFovOverride</a> != <a href='../Y/1448.html' title='Multiple used in 256 places.'>NULL</a> )
<a name='L99'>  99     <font color='red'>{</font>
<a name='L100'> 100         <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a> = *<a href='../Y/3986.html' title='Multiple used in 7 places.'>pTanHalfFovOverride</a>;
<a name='L101'> 101     <font color='red'>}</font>
<a name='L102'> 102 
<a name='L103'> 103     <i><font color='green'>// Here we could call ClampToPhysicalScreenFov(), but we do want people</font></i>
<a name='L104'> 104     <i><font color='green'>// to be able to play with larger-than-screen views.</font></i>
<a name='L105'> 105     <i><font color='green'>// The calling app can always do the clamping itself.</font></i>
<a name='L106'> 106     <a href='../S/117.html#L80' title='Defined at 80 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>DistortionAndFov</a> <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>;
<a name='L107'> 107     <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/425.html' title='Multiple used in 49 places.'>Distortion</a> = <a href='../Y/3577.html' title='Multiple used in 18 places.'>localDistortion</a>;
<a name='L108'> 108     <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/626.html' title='Multiple used in 28 places.'>Fov</a>        = <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>;
<a name='L109'> 109 
<a name='L110'> 110     <b>return</b> <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>;
<a name='L111'> 111 <font color='red'>}</font>
<a name='L112'> 112 
<a name='L113'> 113 
<a name='L114'> 114 <b>static</b> <a href='../S/177.html#L681' title='Defined at 681 in ovr/sdk/src/Kernel/OVR_Math.h.'>Recti</a> <a href='../R/96.html' title='Multiple refered from 5 places.'>CalculateViewportInternal</a> ( <a href='../Y/2138.html' title='Multiple used in 16 places.'>StereoEye</a> <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a>,
<a name='L115'> 115                                             <a href='../Y/2104.html' title='Multiple used in 14 places.'>Sizei</a> <b>const</b> <a href='../Y/2681.html' title='Multiple used in 30 places.'>actualRendertargetSurfaceSize</a>,
<a name='L116'> 116                                             <a href='../Y/2104.html' title='Multiple used in 14 places.'>Sizei</a> <b>const</b> <a href='../Y/4283.html' title='Multiple used in 5 places.'>requestedRenderedPixelSize</a>,
<a name='L117'> 117                                             <b>bool</b> <a href='../Y/2746.html' title='Multiple used in 17 places.'>bRendertargetSharedByBothEyes</a>,
<a name='L118'> 118                                             <b>bool</b> <a href='../Y/2745.html' title='Multiple used in 7 places.'>bMonoRenderingMode</a> = <b>false</b> )
<a name='L119'> 119 <font color='red'>{</font>
<a name='L120'> 120     <a href='../S/177.html#L681' title='Defined at 681 in ovr/sdk/src/Kernel/OVR_Math.h.'>Recti</a> <a href='../Y/4275.html' title='Multiple used in 29 places.'>renderedViewport</a>;
<a name='L121'> 121     <b>if</b> ( <a href='../Y/2745.html' title='Multiple used in 7 places.'>bMonoRenderingMode</a> || !<a href='../Y/2746.html' title='Multiple used in 17 places.'>bRendertargetSharedByBothEyes</a> || (<a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a> == <a href='../Y/2140.html' title='Multiple used in 4 places.'>StereoEye_Center</a>) )
<a name='L122'> 122     <font color='red'>{</font>
<a name='L123'> 123         <i><font color='green'>// One eye per RT.</font></i>
<a name='L124'> 124         <a href='../Y/4275.html' title='Multiple used in 29 places.'>renderedViewport</a>.<a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a> = 0;
<a name='L125'> 125         <a href='../Y/4275.html' title='Multiple used in 29 places.'>renderedViewport</a>.<a href='../Y/4884.html' title='Multiple used in 286 places.'>y</a> = 0;
<a name='L126'> 126         <a href='../Y/4275.html' title='Multiple used in 29 places.'>renderedViewport</a>.<a href='../Y/4824.html' title='Multiple used in 151 places.'>w</a> = <a href='../S/176.html#L29' title='Defined at 29 in ovr/sdk/src/Kernel/OVR_Alg.cpp.'>Alg</a>::<a href='../Y/1422.html' title='Multiple used in 33 places.'>Min</a> ( <a href='../Y/2681.html' title='Multiple used in 30 places.'>actualRendertargetSurfaceSize</a>.<a href='../Y/4824.html' title='Multiple used in 151 places.'>w</a>, <a href='../Y/4283.html' title='Multiple used in 5 places.'>requestedRenderedPixelSize</a>.<a href='../Y/4824.html' title='Multiple used in 151 places.'>w</a> );
<a name='L127'> 127         <a href='../Y/4275.html' title='Multiple used in 29 places.'>renderedViewport</a>.<a href='../Y/3380.html' title='Multiple used in 93 places.'>h</a> = <a href='../S/176.html#L29' title='Defined at 29 in ovr/sdk/src/Kernel/OVR_Alg.cpp.'>Alg</a>::<a href='../Y/1422.html' title='Multiple used in 33 places.'>Min</a> ( <a href='../Y/2681.html' title='Multiple used in 30 places.'>actualRendertargetSurfaceSize</a>.<a href='../Y/3380.html' title='Multiple used in 93 places.'>h</a>, <a href='../Y/4283.html' title='Multiple used in 5 places.'>requestedRenderedPixelSize</a>.<a href='../Y/3380.html' title='Multiple used in 93 places.'>h</a> );
<a name='L128'> 128     <font color='red'>}</font>
<a name='L129'> 129     <b>else</b>
<a name='L130'> 130     <font color='red'>{</font>
<a name='L131'> 131         <i><font color='green'>// Both eyes share the RT.</font></i>
<a name='L132'> 132         <a href='../Y/4275.html' title='Multiple used in 29 places.'>renderedViewport</a>.<a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a> = 0;
<a name='L133'> 133         <a href='../Y/4275.html' title='Multiple used in 29 places.'>renderedViewport</a>.<a href='../Y/4884.html' title='Multiple used in 286 places.'>y</a> = 0;
<a name='L134'> 134         <a href='../Y/4275.html' title='Multiple used in 29 places.'>renderedViewport</a>.<a href='../Y/4824.html' title='Multiple used in 151 places.'>w</a> = <a href='../S/176.html#L29' title='Defined at 29 in ovr/sdk/src/Kernel/OVR_Alg.cpp.'>Alg</a>::<a href='../Y/1422.html' title='Multiple used in 33 places.'>Min</a> ( <a href='../Y/2681.html' title='Multiple used in 30 places.'>actualRendertargetSurfaceSize</a>.<a href='../Y/4824.html' title='Multiple used in 151 places.'>w</a>/2, <a href='../Y/4283.html' title='Multiple used in 5 places.'>requestedRenderedPixelSize</a>.<a href='../Y/4824.html' title='Multiple used in 151 places.'>w</a> );
<a name='L135'> 135         <a href='../Y/4275.html' title='Multiple used in 29 places.'>renderedViewport</a>.<a href='../Y/3380.html' title='Multiple used in 93 places.'>h</a> = <a href='../S/176.html#L29' title='Defined at 29 in ovr/sdk/src/Kernel/OVR_Alg.cpp.'>Alg</a>::<a href='../Y/1422.html' title='Multiple used in 33 places.'>Min</a> ( <a href='../Y/2681.html' title='Multiple used in 30 places.'>actualRendertargetSurfaceSize</a>.<a href='../Y/3380.html' title='Multiple used in 93 places.'>h</a>,  <a href='../Y/4283.html' title='Multiple used in 5 places.'>requestedRenderedPixelSize</a>.<a href='../Y/3380.html' title='Multiple used in 93 places.'>h</a> );
<a name='L136'> 136         <b>if</b> ( <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a> == <a href='../Y/2142.html' title='Multiple used in 24 places.'>StereoEye_Right</a> )
<a name='L137'> 137         <font color='red'>{</font>
<a name='L138'> 138             <a href='../Y/4275.html' title='Multiple used in 29 places.'>renderedViewport</a>.<a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a> = (<a href='../Y/2681.html' title='Multiple used in 30 places.'>actualRendertargetSurfaceSize</a>.<a href='../Y/4824.html' title='Multiple used in 151 places.'>w</a>+1)/2;      <i><font color='green'>// Round up, not down.</font></i>
<a name='L139'> 139         <font color='red'>}</font>
<a name='L140'> 140     <font color='red'>}</font>
<a name='L141'> 141     <b>return</b> <a href='../Y/4275.html' title='Multiple used in 29 places.'>renderedViewport</a>;
<a name='L142'> 142 <font color='red'>}</font>
<a name='L143'> 143 
<a name='L144'> 144 <b>static</b> <a href='../S/177.html#L681' title='Defined at 681 in ovr/sdk/src/Kernel/OVR_Math.h.'>Recti</a> <a href='../R/95.html' title='Multiple refered from 3 places.'>CalculateViewportDensityInternal</a> ( <a href='../Y/2138.html' title='Multiple used in 16 places.'>StereoEye</a> <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a>,
<a name='L145'> 145                                                    <a href='../Y/441.html' title='Multiple used in 13 places.'>DistortionRenderDesc</a> <b>const</b> &amp;<a href='../Y/3046.html' title='Multiple used in 54 places.'>distortion</a>,
<a name='L146'> 146                                                    <a href='../Y/629.html' title='Multiple used in 10 places.'>FovPort</a> <b>const</b> &amp;<a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>,
<a name='L147'> 147                                                    <a href='../Y/2104.html' title='Multiple used in 14 places.'>Sizei</a> <b>const</b> &amp;<a href='../Y/2681.html' title='Multiple used in 30 places.'>actualRendertargetSurfaceSize</a>,
<a name='L148'> 148                                                    <b>bool</b> <a href='../Y/2746.html' title='Multiple used in 17 places.'>bRendertargetSharedByBothEyes</a>,
<a name='L149'> 149                                                    <b>float</b> <a href='../Y/2985.html' title='Multiple used in 2 places.'>desiredPixelDensity</a> = 1.0f,
<a name='L150'> 150                                                    <b>bool</b> <a href='../Y/2745.html' title='Multiple used in 7 places.'>bMonoRenderingMode</a> = <b>false</b> )
<a name='L151'> 151 <font color='red'>{</font>
<a name='L152'> 152     <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a> ( <a href='../Y/2681.html' title='Multiple used in 30 places.'>actualRendertargetSurfaceSize</a>.<a href='../Y/4824.html' title='Multiple used in 151 places.'>w</a> &gt; 0 );
<a name='L153'> 153     <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a> ( <a href='../Y/2681.html' title='Multiple used in 30 places.'>actualRendertargetSurfaceSize</a>.<a href='../Y/3380.html' title='Multiple used in 93 places.'>h</a> &gt; 0 );
<a name='L154'> 154 
<a name='L155'> 155     <i><font color='green'>// What size RT do we need to get 1:1 mapping?</font></i>
<a name='L156'> 156     <a href='../S/177.html#L636' title='Defined at 636 in ovr/sdk/src/Kernel/OVR_Math.h.'>Sizei</a> <a href='../Y/3440.html' title='Multiple used in 6 places.'>idealPixelSize</a> = <a href='../S/88.html#L1473' title='Defined at 1473 in ovr/sdk/src/OVR_Stereo.cpp.'>CalculateIdealPixelSize</a> ( <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a>, <a href='../Y/3046.html' title='Multiple used in 54 places.'>distortion</a>, <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>, <a href='../Y/2985.html' title='Multiple used in 2 places.'>desiredPixelDensity</a> );
<a name='L157'> 157     <i><font color='green'>// ...but we might not actually get that size.</font></i>
<a name='L158'> 158     <b>return</b> <a href='../S/117.html#L114' title='Defined at 114 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>CalculateViewportInternal</a> ( <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a>,
<a name='L159'> 159                                        <a href='../Y/2681.html' title='Multiple used in 30 places.'>actualRendertargetSurfaceSize</a>,
<a name='L160'> 160                                        <a href='../Y/3440.html' title='Multiple used in 6 places.'>idealPixelSize</a>,
<a name='L161'> 161                                        <a href='../Y/2746.html' title='Multiple used in 17 places.'>bRendertargetSharedByBothEyes</a>, <a href='../Y/2745.html' title='Multiple used in 7 places.'>bMonoRenderingMode</a> );
<a name='L162'> 162 <font color='red'>}</font>
<a name='L163'> 163 
<a name='L164'> 164 <b>static</b> <a href='../S/115.html#L78' title='Defined at 78 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>ViewportScaleAndOffset</a> <a href='../R/97.html' title='Multiple refered from 5 places.'>CalculateViewportScaleAndOffsetInternal</a> (
<a name='L165'> 165                                                           <a href='../Y/1963.html' title='Multiple used in 5 places.'>ScaleAndOffset2D</a> <b>const</b> &amp;<a href='../Y/3174.html' title='Multiple used in 20 places.'>eyeToSourceNDC</a>,
<a name='L166'> 166                                                           <a href='../Y/1824.html' title='Multiple used in 9 places.'>Recti</a> <b>const</b> &amp;<a href='../Y/4275.html' title='Multiple used in 29 places.'>renderedViewport</a>,
<a name='L167'> 167                                                           <a href='../Y/2104.html' title='Multiple used in 14 places.'>Sizei</a> <b>const</b> &amp;<a href='../Y/2681.html' title='Multiple used in 30 places.'>actualRendertargetSurfaceSize</a> )
<a name='L168'> 168 <font color='red'>{</font>
<a name='L169'> 169     <a href='../S/115.html#L78' title='Defined at 78 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>ViewportScaleAndOffset</a> <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>;
<a name='L170'> 170     <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/1861.html' title='Multiple used in 8 places.'>RenderedViewport</a> = <a href='../Y/4275.html' title='Multiple used in 29 places.'>renderedViewport</a>;
<a name='L171'> 171     <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/568.html' title='Multiple used in 11 places.'>EyeToSourceUV</a> = <a href='../S/88.html#L1518' title='Defined at 1518 in ovr/sdk/src/OVR_Stereo.cpp.'>CreateUVScaleAndOffsetfromNDCScaleandOffset</a>(
<a name='L172'> 172                                             <a href='../Y/3174.html' title='Multiple used in 20 places.'>eyeToSourceNDC</a>, <a href='../Y/4275.html' title='Multiple used in 29 places.'>renderedViewport</a>, <a href='../Y/2681.html' title='Multiple used in 30 places.'>actualRendertargetSurfaceSize</a> );
<a name='L173'> 173     <b>return</b> <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>;
<a name='L174'> 174 <font color='red'>}</font>
<a name='L175'> 175 
<a name='L176'> 176 
<a name='L177'> 177 <b>static</b> <a href='../S/131.html#L409' title='Defined at 409 in ovr/sdk/src/OVR_Stereo.h.'>StereoEyeParams</a> <a href='../R/94.html' title='Multiple refered from 2 places.'>CalculateStereoEyeParamsInternal</a> ( <a href='../Y/2138.html' title='Multiple used in 16 places.'>StereoEye</a> <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a>, <a href='../Y/927.html' title='Multiple used in 20 places.'>HmdRenderInfo</a> <b>const</b> &amp;<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>,
<a name='L178'> 178                                                           <a href='../Y/441.html' title='Multiple used in 13 places.'>DistortionRenderDesc</a> <b>const</b> &amp;<a href='../Y/3046.html' title='Multiple used in 54 places.'>distortion</a>,
<a name='L179'> 179                                                           <a href='../Y/629.html' title='Multiple used in 10 places.'>FovPort</a> <b>const</b> &amp;<a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>,
<a name='L180'> 180                                                           <a href='../Y/2104.html' title='Multiple used in 14 places.'>Sizei</a> <b>const</b> &amp;<a href='../Y/2681.html' title='Multiple used in 30 places.'>actualRendertargetSurfaceSize</a>,
<a name='L181'> 181                                                           <a href='../Y/1824.html' title='Multiple used in 9 places.'>Recti</a> <b>const</b> &amp;<a href='../Y/4275.html' title='Multiple used in 29 places.'>renderedViewport</a>,
<a name='L182'> 182                                                           <b>bool</b> <a href='../Y/2747.html' title='Multiple used in 5 places.'>bRightHanded</a> = <b>true</b>, <b>float</b> <a href='../Y/4894.html' title='Multiple used in 17 places.'>zNear</a> = 0.01f, <b>float</b> <a href='../Y/4893.html' title='Multiple used in 18 places.'>zFar</a> = 10000.0f,
<a name='L183'> 183                                                           <b>bool</b> <a href='../Y/2745.html' title='Multiple used in 7 places.'>bMonoRenderingMode</a> = <b>false</b>,
<a name='L184'> 184                                                           <b>float</b> <a href='../Y/4900.html' title='Multiple used in 5 places.'>zoomFactor</a> = 1.0f )
<a name='L185'> 185 <font color='red'>{</font>
<a name='L186'> 186     <i><font color='green'>// Generate the projection matrix for intermediate rendertarget.</font></i>
<a name='L187'> 187     <i><font color='green'>// Z range can also be inserted later by the app (though not in this particular case)</font></i>
<a name='L188'> 188     <b>float</b> <a href='../Y/3244.html' title='Multiple used in 10 places.'>fovScale</a> = 1.0f / <a href='../Y/4900.html' title='Multiple used in 5 places.'>zoomFactor</a>;
<a name='L189'> 189     <a href='../S/131.html#L65' title='Defined at 65 in ovr/sdk/src/OVR_Stereo.h.'>FovPort</a> <a href='../Y/4901.html' title='Multiple used in 6 places.'>zoomedFov</a> = <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>;
<a name='L190'> 190     <a href='../Y/4901.html' title='Multiple used in 6 places.'>zoomedFov</a>.<a href='../Y/1266.html' title='Multiple used in 30 places.'>LeftTan</a>  *= <a href='../Y/3244.html' title='Multiple used in 10 places.'>fovScale</a>;
<a name='L191'> 191     <a href='../Y/4901.html' title='Multiple used in 6 places.'>zoomedFov</a>.<a href='../S/142.html#L51' title='Defined at 51 in ovr/sdk/src/OVR_CAPI.cpp.'>RightTan</a> *= <a href='../Y/3244.html' title='Multiple used in 10 places.'>fovScale</a>;
<a name='L192'> 192     <a href='../Y/4901.html' title='Multiple used in 6 places.'>zoomedFov</a>.<a href='../Y/2359.html' title='Multiple used in 30 places.'>UpTan</a>    *= <a href='../Y/3244.html' title='Multiple used in 10 places.'>fovScale</a>;
<a name='L193'> 193     <a href='../Y/4901.html' title='Multiple used in 6 places.'>zoomedFov</a>.<a href='../Y/467.html' title='Multiple used in 30 places.'>DownTan</a>  *= <a href='../Y/3244.html' title='Multiple used in 10 places.'>fovScale</a>;
<a name='L194'> 194     <a href='../S/177.html#L1834' title='Defined at 1834 in ovr/sdk/src/Kernel/OVR_Math.h.'>Matrix4f</a> <a href='../Y/4142.html' title='Multiple used in 32 places.'>projection</a> = <a href='../S/88.html#L1543' title='Defined at 1543 in ovr/sdk/src/OVR_Stereo.cpp.'>CreateProjection</a> ( <a href='../Y/2747.html' title='Multiple used in 5 places.'>bRightHanded</a>, <a href='../Y/4901.html' title='Multiple used in 6 places.'>zoomedFov</a>, <a href='../Y/4894.html' title='Multiple used in 17 places.'>zNear</a>, <a href='../Y/4893.html' title='Multiple used in 18 places.'>zFar</a> );
<a name='L195'> 195 
<a name='L196'> 196     <i><font color='green'>// Find the mapping from TanAngle space to target NDC space.</font></i>
<a name='L197'> 197     <i><font color='green'>// Note this does NOT take the zoom factor into account because</font></i>
<a name='L198'> 198     <i><font color='green'>// this is the mapping of actual physical eye FOV (and our eyes do not zoom!)</font></i>
<a name='L199'> 199     <i><font color='green'>// to screen space.</font></i>
<a name='L200'> 200     <a href='../S/131.html#L141' title='Defined at 141 in ovr/sdk/src/OVR_Stereo.h.'>ScaleAndOffset2D</a> <a href='../Y/3174.html' title='Multiple used in 20 places.'>eyeToSourceNDC</a> = <a href='../S/88.html#L1500' title='Defined at 1500 in ovr/sdk/src/OVR_Stereo.cpp.'>CreateNDCScaleAndOffsetFromFov</a> ( <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a> );
<a name='L201'> 201     
<a name='L202'> 202     <i><font color='green'>// The size of the final FB, which is fixed and determined by the physical size of the device display.</font></i>
<a name='L203'> 203     <a href='../S/177.html#L681' title='Defined at 681 in ovr/sdk/src/Kernel/OVR_Math.h.'>Recti</a> <a href='../Y/3045.html' title='Multiple used in 2 places.'>distortedViewport</a>   = <a href='../S/88.html#L1485' title='Defined at 1485 in ovr/sdk/src/OVR_Stereo.cpp.'>GetFramebufferViewport</a> ( <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a>, <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a> );
<a name='L204'> 204     <a href='../S/177.html#L554' title='Defined at 554 in ovr/sdk/src/Kernel/OVR_Math.h.'>Vector3f</a> <a href='../Y/4800.html' title='Multiple used in 8 places.'>virtualCameraOffset</a> = <a href='../S/117.html#L222' title='Defined at 222 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>CalculateEyeVirtualCameraOffset</a>(<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>, <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a>, <a href='../Y/2745.html' title='Multiple used in 7 places.'>bMonoRenderingMode</a>);
<a name='L205'> 205 
<a name='L206'> 206     <a href='../S/131.html#L409' title='Defined at 409 in ovr/sdk/src/OVR_Stereo.h.'>StereoEyeParams</a> <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>;
<a name='L207'> 207     <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/540.html' title='Multiple used in 9 places.'>Eye</a>                  = <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a>;
<a name='L208'> 208     <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/2409.html' title='Multiple used in 4 places.'>ViewAdjust</a>           = <a href='../S/177.html#L1834' title='Defined at 1834 in ovr/sdk/src/Kernel/OVR_Math.h.'>Matrix4f</a>::<a href='../Y/2305.html' title='Multiple used in 37 places.'>Translation</a>(<a href='../Y/4800.html' title='Multiple used in 8 places.'>virtualCameraOffset</a>);
<a name='L209'> 209     <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/425.html' title='Multiple used in 49 places.'>Distortion</a>           = <a href='../Y/3046.html' title='Multiple used in 54 places.'>distortion</a>;
<a name='L210'> 210     <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/454.html' title='Multiple used in 2 places.'>DistortionViewport</a>   = <a href='../Y/3045.html' title='Multiple used in 2 places.'>distortedViewport</a>;
<a name='L211'> 211     <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/626.html' title='Multiple used in 28 places.'>Fov</a>                  = <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>;
<a name='L212'> 212     <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/1860.html' title='Multiple used in 7 places.'>RenderedProjection</a>   = <a href='../Y/4142.html' title='Multiple used in 32 places.'>projection</a>;
<a name='L213'> 213     <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/567.html' title='Multiple used in 12 places.'>EyeToSourceNDC</a>       = <a href='../Y/3174.html' title='Multiple used in 20 places.'>eyeToSourceNDC</a>;
<a name='L214'> 214     <a href='../S/115.html#L78' title='Defined at 78 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>ViewportScaleAndOffset</a> <a href='../Y/4815.html' title='Multiple used in 3 places.'>vsao</a> = <a href='../S/117.html#L164' title='Defined at 164 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>CalculateViewportScaleAndOffsetInternal</a> ( <a href='../Y/3174.html' title='Multiple used in 20 places.'>eyeToSourceNDC</a>, <a href='../Y/4275.html' title='Multiple used in 29 places.'>renderedViewport</a>, <a href='../Y/2681.html' title='Multiple used in 30 places.'>actualRendertargetSurfaceSize</a> );
<a name='L215'> 215     <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/1861.html' title='Multiple used in 8 places.'>RenderedViewport</a>     = <a href='../Y/4815.html' title='Multiple used in 3 places.'>vsao</a>.<a href='../Y/1861.html' title='Multiple used in 8 places.'>RenderedViewport</a>;
<a name='L216'> 216     <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/568.html' title='Multiple used in 11 places.'>EyeToSourceUV</a>        = <a href='../Y/4815.html' title='Multiple used in 3 places.'>vsao</a>.<a href='../Y/568.html' title='Multiple used in 11 places.'>EyeToSourceUV</a>;
<a name='L217'> 217 
<a name='L218'> 218     <b>return</b> <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>;
<a name='L219'> 219 <font color='red'>}</font>
<a name='L220'> 220 
<a name='L221'> 221 
<a name='L222'> 222 <a href='../S/177.html#L554' title='Defined at 554 in ovr/sdk/src/Kernel/OVR_Math.h.'>Vector3f</a> <a href='../R/87.html' title='Multiple refered from 3 places.'>CalculateEyeVirtualCameraOffset</a>(<a href='../Y/927.html' title='Multiple used in 20 places.'>HmdRenderInfo</a> <b>const</b> &amp;<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>,
<a name='L223'> 223                                          <a href='../Y/2138.html' title='Multiple used in 16 places.'>StereoEye</a> <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a>, <b>bool</b> <a href='../Y/2770.html' title='Multiple used in 2 places.'>bmonoRenderingMode</a>)
<a name='L224'> 224 <font color='red'>{</font>
<a name='L225'> 225     <a href='../S/177.html#L554' title='Defined at 554 in ovr/sdk/src/Kernel/OVR_Math.h.'>Vector3f</a> <a href='../Y/4800.html' title='Multiple used in 8 places.'>virtualCameraOffset</a>(0);
<a name='L226'> 226 
<a name='L227'> 227     <b>if</b> (!<a href='../Y/2770.html' title='Multiple used in 2 places.'>bmonoRenderingMode</a>)
<a name='L228'> 228     <font color='red'>{</font>
<a name='L229'> 229         <b>float</b> <a href='../Y/3160.html' title='Multiple used in 3 places.'>eyeCenterRelief</a> = <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>.<a href='../Y/755.html' title='Multiple used in 3 places.'>GetEyeCenter</a>().<a href='../Y/1841.html' title='Multiple used in 24 places.'>ReliefInMeters</a>;
<a name='L230'> 230 
<a name='L231'> 231         <b>if</b> (<a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a> == <a href='../Y/2141.html' title='Multiple used in 13 places.'>StereoEye_Left</a>)
<a name='L232'> 232         <font color='red'>{</font>
<a name='L233'> 233             <a href='../Y/4800.html' title='Multiple used in 8 places.'>virtualCameraOffset</a>.<a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a> = <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>.<a href='../Y/557.html' title='Multiple used in 51 places.'>EyeLeft</a>.<a href='../Y/1473.html' title='Multiple used in 14 places.'>NoseToPupilInMeters</a>;
<a name='L234'> 234             <a href='../Y/4800.html' title='Multiple used in 8 places.'>virtualCameraOffset</a>.<a href='../Y/4892.html' title='Multiple used in 193 places.'>z</a> = <a href='../Y/3160.html' title='Multiple used in 3 places.'>eyeCenterRelief</a> - <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>.<a href='../Y/557.html' title='Multiple used in 51 places.'>EyeLeft</a>.<a href='../Y/1841.html' title='Multiple used in 24 places.'>ReliefInMeters</a>;
<a name='L235'> 235         <font color='red'>}</font>
<a name='L236'> 236         <b>else</b> <b>if</b> (<a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a> == <a href='../Y/2142.html' title='Multiple used in 24 places.'>StereoEye_Right</a>)
<a name='L237'> 237         <font color='red'>{</font>
<a name='L238'> 238             <a href='../Y/4800.html' title='Multiple used in 8 places.'>virtualCameraOffset</a>.<a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a> = -<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>.<a href='../Y/565.html' title='Multiple used in 20 places.'>EyeRight</a>.<a href='../Y/1473.html' title='Multiple used in 14 places.'>NoseToPupilInMeters</a>;
<a name='L239'> 239             <a href='../Y/4800.html' title='Multiple used in 8 places.'>virtualCameraOffset</a>.<a href='../Y/4892.html' title='Multiple used in 193 places.'>z</a> = <a href='../Y/3160.html' title='Multiple used in 3 places.'>eyeCenterRelief</a> - <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>.<a href='../Y/565.html' title='Multiple used in 20 places.'>EyeRight</a>.<a href='../Y/1841.html' title='Multiple used in 24 places.'>ReliefInMeters</a>;
<a name='L240'> 240         <font color='red'>}</font>
<a name='L241'> 241     <font color='red'>}</font>
<a name='L242'> 242 
<a name='L243'> 243     <b>return</b> <a href='../Y/4800.html' title='Multiple used in 8 places.'>virtualCameraOffset</a>;
<a name='L244'> 244 <font color='red'>}</font>
<a name='L245'> 245 
<a name='L246'> 246 
<a name='L247'> 247 <i><font color='green'>//-----------------------------------------------------------------------------------</font></i>
<a name='L248'> 248 <i><font color='green'>// **** Higher-level utility functions.</font></i>
<a name='L249'> 249 
<a name='L250'> 250 <a href='../S/177.html#L636' title='Defined at 636 in ovr/sdk/src/Kernel/OVR_Math.h.'>Sizei</a> <a href='../R/92.html' title='Multiple refered from 3 places.'>CalculateRecommendedTextureSize</a> ( <a href='../Y/927.html' title='Multiple used in 20 places.'>HmdRenderInfo</a> <b>const</b> &amp;<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>,
<a name='L251'> 251                                         <b>bool</b> <a href='../Y/2746.html' title='Multiple used in 17 places.'>bRendertargetSharedByBothEyes</a>,
<a name='L252'> 252                                         <b>float</b> <a href='../Y/4059.html' title='Multiple used in 6 places.'>pixelDensityInCenter</a> <i><font color='green'>/*= 1.0f*/</font></i> )
<a name='L253'> 253 <font color='red'>{</font>
<a name='L254'> 254     <a href='../S/177.html#L636' title='Defined at 636 in ovr/sdk/src/Kernel/OVR_Math.h.'>Sizei</a> <a href='../Y/3440.html' title='Multiple used in 6 places.'>idealPixelSize</a>[2];
<a name='L255'> 255     <b>for</b> ( <b>int</b> <a href='../Y/3165.html' title='Multiple used in 49 places.'>eyeNum</a> = 0; <a href='../Y/3165.html' title='Multiple used in 49 places.'>eyeNum</a> &lt; 2; <a href='../Y/3165.html' title='Multiple used in 49 places.'>eyeNum</a>++ )
<a name='L256'> 256     <font color='red'>{</font>
<a name='L257'> 257         <a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a> <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a> = ( <a href='../Y/3165.html' title='Multiple used in 49 places.'>eyeNum</a> == 0 ) ? <a href='../Y/2141.html' title='Multiple used in 13 places.'>StereoEye_Left</a> : <a href='../Y/2142.html' title='Multiple used in 24 places.'>StereoEye_Right</a>;
<a name='L258'> 258 
<a name='L259'> 259         <a href='../S/117.html#L80' title='Defined at 80 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>DistortionAndFov</a> <a href='../Y/3047.html' title='Multiple used in 14 places.'>distortionAndFov</a> = <a href='../S/117.html#L86' title='Defined at 86 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>CalculateDistortionAndFovInternal</a> ( <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a>, <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>, <a href='../Y/1448.html' title='Multiple used in 256 places.'>NULL</a>, <a href='../Y/1448.html' title='Multiple used in 256 places.'>NULL</a>, <a href='../Y/1496.html' title='Multiple used in 10 places.'>OVR_DEFAULT_EXTRA_EYE_ROTATION</a> );
<a name='L260'> 260 
<a name='L261'> 261         <a href='../Y/3440.html' title='Multiple used in 6 places.'>idealPixelSize</a>[<a href='../Y/3165.html' title='Multiple used in 49 places.'>eyeNum</a>] = <a href='../S/88.html#L1473' title='Defined at 1473 in ovr/sdk/src/OVR_Stereo.cpp.'>CalculateIdealPixelSize</a> ( <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a>,
<a name='L262'> 262                                         <a href='../Y/3047.html' title='Multiple used in 14 places.'>distortionAndFov</a>.<a href='../Y/425.html' title='Multiple used in 49 places.'>Distortion</a>,
<a name='L263'> 263                                         <a href='../Y/3047.html' title='Multiple used in 14 places.'>distortionAndFov</a>.<a href='../Y/626.html' title='Multiple used in 28 places.'>Fov</a>,
<a name='L264'> 264                                         <a href='../Y/4059.html' title='Multiple used in 6 places.'>pixelDensityInCenter</a> );
<a name='L265'> 265     <font color='red'>}</font>
<a name='L266'> 266 
<a name='L267'> 267     <a href='../S/177.html#L636' title='Defined at 636 in ovr/sdk/src/Kernel/OVR_Math.h.'>Sizei</a> <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>;
<a name='L268'> 268     <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/4824.html' title='Multiple used in 151 places.'>w</a> = <a href='../S/176.html#L29' title='Defined at 29 in ovr/sdk/src/Kernel/OVR_Alg.cpp.'>Alg</a>::<a href='../Y/1370.html' title='Multiple used in 38 places.'>Max</a> ( <a href='../Y/3440.html' title='Multiple used in 6 places.'>idealPixelSize</a>[0].<a href='../Y/4824.html' title='Multiple used in 151 places.'>w</a>, <a href='../Y/3440.html' title='Multiple used in 6 places.'>idealPixelSize</a>[1].<a href='../Y/4824.html' title='Multiple used in 151 places.'>w</a> );
<a name='L269'> 269     <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/3380.html' title='Multiple used in 93 places.'>h</a> = <a href='../S/176.html#L29' title='Defined at 29 in ovr/sdk/src/Kernel/OVR_Alg.cpp.'>Alg</a>::<a href='../Y/1370.html' title='Multiple used in 38 places.'>Max</a> ( <a href='../Y/3440.html' title='Multiple used in 6 places.'>idealPixelSize</a>[0].<a href='../Y/3380.html' title='Multiple used in 93 places.'>h</a>, <a href='../Y/3440.html' title='Multiple used in 6 places.'>idealPixelSize</a>[1].<a href='../Y/3380.html' title='Multiple used in 93 places.'>h</a> );
<a name='L270'> 270     <b>if</b> ( <a href='../Y/2746.html' title='Multiple used in 17 places.'>bRendertargetSharedByBothEyes</a> )
<a name='L271'> 271     <font color='red'>{</font>
<a name='L272'> 272         <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/4824.html' title='Multiple used in 151 places.'>w</a> *= 2;
<a name='L273'> 273     <font color='red'>}</font>
<a name='L274'> 274     <b>return</b> <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>;
<a name='L275'> 275 <font color='red'>}</font>
<a name='L276'> 276 
<a name='L277'> 277 <a href='../S/131.html#L409' title='Defined at 409 in ovr/sdk/src/OVR_Stereo.h.'>StereoEyeParams</a> <a href='../S/115.html#L62' title='Refered from 62 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>CalculateStereoEyeParams</a> ( <a href='../Y/927.html' title='Multiple used in 20 places.'>HmdRenderInfo</a> <b>const</b> &amp;<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>,
<a name='L278'> 278                                            <a href='../Y/2138.html' title='Multiple used in 16 places.'>StereoEye</a> <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a>,
<a name='L279'> 279                                            <a href='../Y/2104.html' title='Multiple used in 14 places.'>Sizei</a> <b>const</b> &amp;<a href='../Y/2681.html' title='Multiple used in 30 places.'>actualRendertargetSurfaceSize</a>,
<a name='L280'> 280                                            <b>bool</b> <a href='../Y/2746.html' title='Multiple used in 17 places.'>bRendertargetSharedByBothEyes</a>,
<a name='L281'> 281                                            <b>bool</b> <a href='../Y/2747.html' title='Multiple used in 5 places.'>bRightHanded</a> <i><font color='green'>/*= true*/</font></i>,
<a name='L282'> 282                                            <b>float</b> <a href='../Y/4894.html' title='Multiple used in 17 places.'>zNear</a> <i><font color='green'>/*= 0.01f*/</font></i>, <b>float</b> <a href='../Y/4893.html' title='Multiple used in 18 places.'>zFar</a> <i><font color='green'>/*= 10000.0f*/</font></i>,
<a name='L283'> 283                                                                                    <a href='../Y/2104.html' title='Multiple used in 14 places.'>Sizei</a> <b>const</b> *<a href='../Y/3966.html' title='Multiple used in 4 places.'>pOverrideRenderedPixelSize</a> <i><font color='green'>/* = NULL*/</font></i>,
<a name='L284'> 284                                            <a href='../Y/629.html' title='Multiple used in 10 places.'>FovPort</a> <b>const</b> *<a href='../Y/3965.html' title='Multiple used in 4 places.'>pOverrideFovport</a> <i><font color='green'>/*= NULL*/</font></i>,
<a name='L285'> 285                                            <b>float</b> <a href='../Y/4900.html' title='Multiple used in 5 places.'>zoomFactor</a> <i><font color='green'>/*= 1.0f*/</font></i> )
<a name='L286'> 286 <font color='red'>{</font>
<a name='L287'> 287     <a href='../S/117.html#L80' title='Defined at 80 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>DistortionAndFov</a> <a href='../Y/3047.html' title='Multiple used in 14 places.'>distortionAndFov</a> = <a href='../S/117.html#L86' title='Defined at 86 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>CalculateDistortionAndFovInternal</a> ( <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a>, <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>, <a href='../Y/1448.html' title='Multiple used in 256 places.'>NULL</a>, <a href='../Y/1448.html' title='Multiple used in 256 places.'>NULL</a>, <a href='../Y/1496.html' title='Multiple used in 10 places.'>OVR_DEFAULT_EXTRA_EYE_ROTATION</a> );
<a name='L288'> 288     <b>if</b> ( <a href='../Y/3965.html' title='Multiple used in 4 places.'>pOverrideFovport</a> != <a href='../Y/1448.html' title='Multiple used in 256 places.'>NULL</a> )
<a name='L289'> 289     <font color='red'>{</font>
<a name='L290'> 290         <a href='../Y/3047.html' title='Multiple used in 14 places.'>distortionAndFov</a>.<a href='../Y/626.html' title='Multiple used in 28 places.'>Fov</a> = *<a href='../Y/3965.html' title='Multiple used in 4 places.'>pOverrideFovport</a>;
<a name='L291'> 291     <font color='red'>}</font>
<a name='L292'> 292 
<a name='L293'> 293     <a href='../S/177.html#L681' title='Defined at 681 in ovr/sdk/src/Kernel/OVR_Math.h.'>Recti</a> <a href='../Y/4798.html' title='Multiple used in 4 places.'>viewport</a>;
<a name='L294'> 294     <b>if</b> ( <a href='../Y/3966.html' title='Multiple used in 4 places.'>pOverrideRenderedPixelSize</a> != <a href='../Y/1448.html' title='Multiple used in 256 places.'>NULL</a> )
<a name='L295'> 295     <font color='red'>{</font>
<a name='L296'> 296         <a href='../Y/4798.html' title='Multiple used in 4 places.'>viewport</a> = <a href='../S/117.html#L114' title='Defined at 114 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>CalculateViewportInternal</a> ( <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a>, <a href='../Y/2681.html' title='Multiple used in 30 places.'>actualRendertargetSurfaceSize</a>, *<a href='../Y/3966.html' title='Multiple used in 4 places.'>pOverrideRenderedPixelSize</a>, <a href='../Y/2746.html' title='Multiple used in 17 places.'>bRendertargetSharedByBothEyes</a>, <b>false</b> );
<a name='L297'> 297     <font color='red'>}</font>
<a name='L298'> 298     <b>else</b>
<a name='L299'> 299     <font color='red'>{</font>
<a name='L300'> 300         <a href='../Y/4798.html' title='Multiple used in 4 places.'>viewport</a> = <a href='../S/117.html#L144' title='Defined at 144 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>CalculateViewportDensityInternal</a> ( <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a>,
<a name='L301'> 301                                                       <a href='../Y/3047.html' title='Multiple used in 14 places.'>distortionAndFov</a>.<a href='../Y/425.html' title='Multiple used in 49 places.'>Distortion</a>,
<a name='L302'> 302                                                       <a href='../Y/3047.html' title='Multiple used in 14 places.'>distortionAndFov</a>.<a href='../Y/626.html' title='Multiple used in 28 places.'>Fov</a>,
<a name='L303'> 303                                                       <a href='../Y/2681.html' title='Multiple used in 30 places.'>actualRendertargetSurfaceSize</a>, <a href='../Y/2746.html' title='Multiple used in 17 places.'>bRendertargetSharedByBothEyes</a>, 1.0f, <b>false</b> );
<a name='L304'> 304     <font color='red'>}</font>
<a name='L305'> 305 
<a name='L306'> 306     <b>return</b> <a href='../S/117.html#L177' title='Defined at 177 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>CalculateStereoEyeParamsInternal</a> (
<a name='L307'> 307                                 <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a>, <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>,
<a name='L308'> 308                                 <a href='../Y/3047.html' title='Multiple used in 14 places.'>distortionAndFov</a>.<a href='../Y/425.html' title='Multiple used in 49 places.'>Distortion</a>,
<a name='L309'> 309                                 <a href='../Y/3047.html' title='Multiple used in 14 places.'>distortionAndFov</a>.<a href='../Y/626.html' title='Multiple used in 28 places.'>Fov</a>,
<a name='L310'> 310                                 <a href='../Y/2681.html' title='Multiple used in 30 places.'>actualRendertargetSurfaceSize</a>, <a href='../Y/4798.html' title='Multiple used in 4 places.'>viewport</a>,
<a name='L311'> 311                                 <a href='../Y/2747.html' title='Multiple used in 5 places.'>bRightHanded</a>, <a href='../Y/4894.html' title='Multiple used in 17 places.'>zNear</a>, <a href='../Y/4893.html' title='Multiple used in 18 places.'>zFar</a>, <b>false</b>, <a href='../Y/4900.html' title='Multiple used in 5 places.'>zoomFactor</a> );
<a name='L312'> 312 <font color='red'>}</font>
<a name='L313'> 313 
<a name='L314'> 314 
<a name='L315'> 315 <a href='../S/131.html#L65' title='Defined at 65 in ovr/sdk/src/OVR_Stereo.h.'>FovPort</a> <a href='../S/115.html#L58' title='Refered from 58 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>CalculateRecommendedFov</a> ( <a href='../Y/927.html' title='Multiple used in 20 places.'>HmdRenderInfo</a> <b>const</b> &amp;<a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>,
<a name='L316'> 316                                   <a href='../Y/2138.html' title='Multiple used in 16 places.'>StereoEye</a> <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a>,
<a name='L317'> 317                                   <b>bool</b> <a href='../Y/2744.html' title='Multiple used in 3 places.'>bMakeFovSymmetrical</a> <i><font color='green'>/* = false */</font></i> )
<a name='L318'> 318 <font color='red'>{</font>
<a name='L319'> 319     <a href='../S/117.html#L80' title='Defined at 80 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>DistortionAndFov</a> <a href='../Y/3047.html' title='Multiple used in 14 places.'>distortionAndFov</a> = <a href='../S/117.html#L86' title='Defined at 86 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>CalculateDistortionAndFovInternal</a> ( <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a>, <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>, <a href='../Y/1448.html' title='Multiple used in 256 places.'>NULL</a>, <a href='../Y/1448.html' title='Multiple used in 256 places.'>NULL</a>, <a href='../Y/1496.html' title='Multiple used in 10 places.'>OVR_DEFAULT_EXTRA_EYE_ROTATION</a> );
<a name='L320'> 320     <a href='../S/131.html#L65' title='Defined at 65 in ovr/sdk/src/OVR_Stereo.h.'>FovPort</a> <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a> = <a href='../Y/3047.html' title='Multiple used in 14 places.'>distortionAndFov</a>.<a href='../Y/626.html' title='Multiple used in 28 places.'>Fov</a>;
<a name='L321'> 321     <b>if</b> ( <a href='../Y/2744.html' title='Multiple used in 3 places.'>bMakeFovSymmetrical</a> )
<a name='L322'> 322     <font color='red'>{</font>
<a name='L323'> 323         <i><font color='green'>// Deal with engines that cannot support an off-center projection.</font></i>
<a name='L324'> 324         <i><font color='green'>// Unfortunately this means they will be rendering pixels that the user can't actually see.</font></i>
<a name='L325'> 325         <b>float</b> <a href='../Y/3245.html' title='Multiple used in 3 places.'>fovTanH</a> = <a href='../S/176.html#L29' title='Defined at 29 in ovr/sdk/src/Kernel/OVR_Alg.cpp.'>Alg</a>::<a href='../Y/1370.html' title='Multiple used in 38 places.'>Max</a> ( <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>.<a href='../Y/1266.html' title='Multiple used in 30 places.'>LeftTan</a>, <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>.<a href='../S/142.html#L51' title='Defined at 51 in ovr/sdk/src/OVR_CAPI.cpp.'>RightTan</a> );
<a name='L326'> 326         <b>float</b> <a href='../Y/3246.html' title='Multiple used in 3 places.'>fovTanV</a> = <a href='../S/176.html#L29' title='Defined at 29 in ovr/sdk/src/Kernel/OVR_Alg.cpp.'>Alg</a>::<a href='../Y/1370.html' title='Multiple used in 38 places.'>Max</a> ( <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>.<a href='../Y/2359.html' title='Multiple used in 30 places.'>UpTan</a>, <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>.<a href='../Y/467.html' title='Multiple used in 30 places.'>DownTan</a> );
<a name='L327'> 327         <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>.<a href='../Y/1266.html' title='Multiple used in 30 places.'>LeftTan</a> = <a href='../Y/3245.html' title='Multiple used in 3 places.'>fovTanH</a>;
<a name='L328'> 328         <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>.<a href='../S/142.html#L51' title='Defined at 51 in ovr/sdk/src/OVR_CAPI.cpp.'>RightTan</a> = <a href='../Y/3245.html' title='Multiple used in 3 places.'>fovTanH</a>;
<a name='L329'> 329         <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>.<a href='../Y/2359.html' title='Multiple used in 30 places.'>UpTan</a> = <a href='../Y/3246.html' title='Multiple used in 3 places.'>fovTanV</a>;
<a name='L330'> 330         <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>.<a href='../Y/467.html' title='Multiple used in 30 places.'>DownTan</a> = <a href='../Y/3246.html' title='Multiple used in 3 places.'>fovTanV</a>;
<a name='L331'> 331     <font color='red'>}</font>
<a name='L332'> 332     <b>return</b> <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>;
<a name='L333'> 333 <font color='red'>}</font>
<a name='L334'> 334 
<a name='L335'> 335 <a href='../S/115.html#L78' title='Defined at 78 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>ViewportScaleAndOffset</a> <a href='../S/115.html#L87' title='Refered from 87 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>ModifyRenderViewport</a> ( <a href='../Y/2139.html' title='Multiple used in 9 places.'>StereoEyeParams</a> <b>const</b> &amp;<a href='../Y/3999.html' title='Multiple used in 29 places.'>params</a>,
<a name='L336'> 336                                               <a href='../Y/2104.html' title='Multiple used in 14 places.'>Sizei</a> <b>const</b> &amp;<a href='../Y/2681.html' title='Multiple used in 30 places.'>actualRendertargetSurfaceSize</a>,
<a name='L337'> 337                                               <a href='../Y/1824.html' title='Multiple used in 9 places.'>Recti</a> <b>const</b> &amp;<a href='../Y/4269.html' title='Multiple used in 10 places.'>renderViewport</a> )
<a name='L338'> 338 <font color='red'>{</font>
<a name='L339'> 339     <b>return</b> <a href='../S/117.html#L164' title='Defined at 164 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>CalculateViewportScaleAndOffsetInternal</a> ( <a href='../Y/3999.html' title='Multiple used in 29 places.'>params</a>.<a href='../Y/567.html' title='Multiple used in 12 places.'>EyeToSourceNDC</a>, <a href='../Y/4269.html' title='Multiple used in 10 places.'>renderViewport</a>, <a href='../Y/2681.html' title='Multiple used in 30 places.'>actualRendertargetSurfaceSize</a> );
<a name='L340'> 340 <font color='red'>}</font>
<a name='L341'> 341 
<a name='L342'> 342 <a href='../S/115.html#L78' title='Defined at 78 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>ViewportScaleAndOffset</a> <a href='../S/115.html#L91' title='Refered from 91 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>ModifyRenderSize</a> ( <a href='../Y/2139.html' title='Multiple used in 9 places.'>StereoEyeParams</a> <b>const</b> &amp;<a href='../Y/3999.html' title='Multiple used in 29 places.'>params</a>,
<a name='L343'> 343                                           <a href='../Y/2104.html' title='Multiple used in 14 places.'>Sizei</a> <b>const</b> &amp;<a href='../Y/2681.html' title='Multiple used in 30 places.'>actualRendertargetSurfaceSize</a>,
<a name='L344'> 344                                           <a href='../Y/2104.html' title='Multiple used in 14 places.'>Sizei</a> <b>const</b> &amp;<a href='../Y/4282.html' title='Multiple used in 3 places.'>requestedRenderSize</a>,
<a name='L345'> 345                                           <b>bool</b> <a href='../Y/2746.html' title='Multiple used in 17 places.'>bRendertargetSharedByBothEyes</a> <i><font color='green'>/*= false*/</font></i> )
<a name='L346'> 346 <font color='red'>{</font>
<a name='L347'> 347     <a href='../S/177.html#L681' title='Defined at 681 in ovr/sdk/src/Kernel/OVR_Math.h.'>Recti</a> <a href='../Y/4269.html' title='Multiple used in 10 places.'>renderViewport</a> = <a href='../S/117.html#L114' title='Defined at 114 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>CalculateViewportInternal</a> ( <a href='../Y/3999.html' title='Multiple used in 29 places.'>params</a>.<a href='../Y/540.html' title='Multiple used in 9 places.'>Eye</a>, <a href='../Y/2681.html' title='Multiple used in 30 places.'>actualRendertargetSurfaceSize</a>, <a href='../Y/4282.html' title='Multiple used in 3 places.'>requestedRenderSize</a>, <a href='../Y/2746.html' title='Multiple used in 17 places.'>bRendertargetSharedByBothEyes</a>, <b>false</b> );
<a name='L348'> 348     <b>return</b> <a href='../S/117.html#L164' title='Defined at 164 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>CalculateViewportScaleAndOffsetInternal</a> ( <a href='../Y/3999.html' title='Multiple used in 29 places.'>params</a>.<a href='../Y/567.html' title='Multiple used in 12 places.'>EyeToSourceNDC</a>, <a href='../Y/4269.html' title='Multiple used in 10 places.'>renderViewport</a>, <a href='../Y/2681.html' title='Multiple used in 30 places.'>actualRendertargetSurfaceSize</a> );
<a name='L349'> 349 <font color='red'>}</font>
<a name='L350'> 350 
<a name='L351'> 351 <a href='../S/115.html#L78' title='Defined at 78 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>ViewportScaleAndOffset</a> <a href='../S/115.html#L96' title='Refered from 96 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>ModifyRenderDensity</a> ( <a href='../Y/2139.html' title='Multiple used in 9 places.'>StereoEyeParams</a> <b>const</b> &amp;<a href='../Y/3999.html' title='Multiple used in 29 places.'>params</a>,
<a name='L352'> 352                                              <a href='../Y/2104.html' title='Multiple used in 14 places.'>Sizei</a> <b>const</b> &amp;<a href='../Y/2681.html' title='Multiple used in 30 places.'>actualRendertargetSurfaceSize</a>,
<a name='L353'> 353                                              <b>float</b> <a href='../Y/4058.html' title='Multiple used in 3 places.'>pixelDensity</a> <i><font color='green'>/*= 1.0f*/</font></i>,
<a name='L354'> 354                                              <b>bool</b> <a href='../Y/2746.html' title='Multiple used in 17 places.'>bRendertargetSharedByBothEyes</a> <i><font color='green'>/*= false*/</font></i> )
<a name='L355'> 355 <font color='red'>{</font>
<a name='L356'> 356     <a href='../S/177.html#L681' title='Defined at 681 in ovr/sdk/src/Kernel/OVR_Math.h.'>Recti</a> <a href='../Y/4269.html' title='Multiple used in 10 places.'>renderViewport</a> = <a href='../S/117.html#L144' title='Defined at 144 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>CalculateViewportDensityInternal</a> ( <a href='../Y/3999.html' title='Multiple used in 29 places.'>params</a>.<a href='../Y/540.html' title='Multiple used in 9 places.'>Eye</a>, <a href='../Y/3999.html' title='Multiple used in 29 places.'>params</a>.<a href='../Y/425.html' title='Multiple used in 49 places.'>Distortion</a>, <a href='../Y/3999.html' title='Multiple used in 29 places.'>params</a>.<a href='../Y/626.html' title='Multiple used in 28 places.'>Fov</a>, <a href='../Y/2681.html' title='Multiple used in 30 places.'>actualRendertargetSurfaceSize</a>, <a href='../Y/2746.html' title='Multiple used in 17 places.'>bRendertargetSharedByBothEyes</a>, <a href='../Y/4058.html' title='Multiple used in 3 places.'>pixelDensity</a>, <b>false</b> );
<a name='L357'> 357     <b>return</b> <a href='../S/117.html#L164' title='Defined at 164 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>CalculateViewportScaleAndOffsetInternal</a> ( <a href='../Y/3999.html' title='Multiple used in 29 places.'>params</a>.<a href='../Y/567.html' title='Multiple used in 12 places.'>EyeToSourceNDC</a>, <a href='../Y/4269.html' title='Multiple used in 10 places.'>renderViewport</a>, <a href='../Y/2681.html' title='Multiple used in 30 places.'>actualRendertargetSurfaceSize</a> );
<a name='L358'> 358 <font color='red'>}</font>
<a name='L359'> 359 
<a name='L360'> 360 
<a name='L361'> 361 <i><font color='green'>//-----------------------------------------------------------------------------------</font></i>
<a name='L362'> 362 <i><font color='green'>// **** StereoConfig Implementation</font></i>
<a name='L363'> 363 
<a name='L364'> 364 <a href='../Y/2137.html' title='Multiple used in 19 places.'>StereoConfig</a>::StereoConfig(StereoMode <a href='../Y/3697.html' title='Multiple used in 33 places.'>mode</a>)
<a name='L365'> 365     : <a href='../Y/1433.html' title='Multiple used in 11 places.'>Mode</a>(<a href='../Y/3697.html' title='Multiple used in 33 places.'>mode</a>),
<a name='L366'> 366       <a href='../R/187.html' title='Multiple refered from 14 places.'>DirtyFlag</a>(<b>true</b>)
<a name='L367'> 367 <font color='red'>{</font>
<a name='L368'> 368     <i><font color='green'>// Initialize "fake" default HMD values for testing without HMD plugged in.</font></i>
<a name='L369'> 369     <i><font color='green'>// These default values match those returned by DK1</font></i>
<a name='L370'> 370     <i><font color='green'>// (at least they did at time of writing - certainly good enough for debugging)</font></i>
<a name='L371'> 371     <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/934.html' title='Multiple used in 18 places.'>HmdType</a>                                         = <a href='../Y/944.html' title='Multiple used in 8 places.'>HmdType_None</a>;
<a name='L372'> 372     <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/1868.html' title='Multiple used in 26 places.'>ResolutionInPixels</a>                              = <a href='../S/177.html#L636' title='Defined at 636 in ovr/sdk/src/Kernel/OVR_Math.h.'>Sizei</a>(1280, 800);
<a name='L373'> 373     <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/1973.html' title='Multiple used in 32 places.'>ScreenSizeInMeters</a>                              = <a href='../S/177.html#L638' title='Defined at 638 in ovr/sdk/src/Kernel/OVR_Math.h.'>Sizef</a>(0.1498f, 0.0936f);
<a name='L374'> 374     <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/1970.html' title='Multiple used in 13 places.'>ScreenGapSizeInMeters</a>                           = 0.0f;
<a name='L375'> 375     <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/193.html' title='Multiple used in 12 places.'>CenterFromTopInMeters</a>                           = 0.0468f;
<a name='L376'> 376     <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/1277.html' title='Multiple used in 19 places.'>LensSeparationInMeters</a>                          = 0.0635f;
<a name='L377'> 377     <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/1272.html' title='Multiple used in 8 places.'>LensDiameterInMeters</a>                            = 0.035f;
<a name='L378'> 378     <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/1278.html' title='Multiple used in 10 places.'>LensSurfaceToMidplateInMeters</a>                   = 0.025f;
<a name='L379'> 379     <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/556.html' title='Multiple used in 26 places.'>EyeCups</a>                                         = <a href='../Y/543.html' title='Multiple used in 11 places.'>EyeCup_DK1A</a>;
<a name='L380'> 380     <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/2089.html' title='Multiple used in 117 places.'>Shutter</a>.<a href='../D/1210.html' title='Multiple defined in 21 places.'>Type</a>                                    = <a href='../Y/933.html' title='Multiple used in 8 places.'>HmdShutter_RollingTopToBottom</a>;
<a name='L381'> 381     <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/2089.html' title='Multiple used in 117 places.'>Shutter</a>.<a href='../Y/2422.html' title='Multiple used in 31 places.'>VsyncToNextVsync</a>                        = ( 1.0f / 60.0f );
<a name='L382'> 382     <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/2089.html' title='Multiple used in 117 places.'>Shutter</a>.<a href='../Y/2421.html' title='Multiple used in 19 places.'>VsyncToFirstScanline</a>                    = 0.000052f;
<a name='L383'> 383     <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/2089.html' title='Multiple used in 117 places.'>Shutter</a>.<a href='../Y/610.html' title='Multiple used in 21 places.'>FirstScanlineToLastScanline</a>             = 0.016580f;
<a name='L384'> 384     <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/2089.html' title='Multiple used in 117 places.'>Shutter</a>.<a href='../Y/1671.html' title='Multiple used in 21 places.'>PixelSettleTime</a>                         = 0.015f;
<a name='L385'> 385     <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/2089.html' title='Multiple used in 117 places.'>Shutter</a>.<a href='../Y/1668.html' title='Multiple used in 21 places.'>PixelPersistence</a>                        = ( 1.0f / 60.0f );
<a name='L386'> 386     <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/557.html' title='Multiple used in 51 places.'>EyeLeft</a>.<a href='../Y/425.html' title='Multiple used in 49 places.'>Distortion</a>.<a href='../S/88.html#L374' title='Defined at 374 in ovr/sdk/src/OVR_Stereo.cpp.'>SetToIdentity</a>();
<a name='L387'> 387     <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/557.html' title='Multiple used in 51 places.'>EyeLeft</a>.<a href='../Y/425.html' title='Multiple used in 49 places.'>Distortion</a>.<a href='../Y/1420.html' title='Multiple used in 25 places.'>MetersPerTanAngleAtCenter</a>    = 0.043875f;
<a name='L388'> 388     <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/557.html' title='Multiple used in 51 places.'>EyeLeft</a>.<a href='../Y/425.html' title='Multiple used in 49 places.'>Distortion</a>.<a href='../Y/513.html' title='Multiple used in 18 places.'>Eqn</a>                          = <a href='../Y/459.html' title='Multiple used in 11 places.'>Distortion_RecipPoly4</a>;
<a name='L389'> 389     <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/557.html' title='Multiple used in 51 places.'>EyeLeft</a>.<a href='../Y/425.html' title='Multiple used in 49 places.'>Distortion</a>.<a href='../Y/1066.html' title='Multiple used in 147 places.'>K</a>[0]                         = 1.0f;
<a name='L390'> 390     <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/557.html' title='Multiple used in 51 places.'>EyeLeft</a>.<a href='../Y/425.html' title='Multiple used in 49 places.'>Distortion</a>.<a href='../Y/1066.html' title='Multiple used in 147 places.'>K</a>[1]                         = -0.3999f;
<a name='L391'> 391     <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/557.html' title='Multiple used in 51 places.'>EyeLeft</a>.<a href='../Y/425.html' title='Multiple used in 49 places.'>Distortion</a>.<a href='../Y/1066.html' title='Multiple used in 147 places.'>K</a>[2]                         = 0.2408f;
<a name='L392'> 392     <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/557.html' title='Multiple used in 51 places.'>EyeLeft</a>.<a href='../Y/425.html' title='Multiple used in 49 places.'>Distortion</a>.<a href='../Y/1066.html' title='Multiple used in 147 places.'>K</a>[3]                         = -0.4589f;
<a name='L393'> 393     <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/557.html' title='Multiple used in 51 places.'>EyeLeft</a>.<a href='../Y/425.html' title='Multiple used in 49 places.'>Distortion</a>.<a href='../Y/1379.html' title='Multiple used in 22 places.'>MaxR</a>                         = 1.0f;
<a name='L394'> 394         <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/557.html' title='Multiple used in 51 places.'>EyeLeft</a>.<a href='../Y/425.html' title='Multiple used in 49 places.'>Distortion</a>.<a href='../Y/199.html' title='Multiple used in 45 places.'>ChromaticAberration</a>[0]           = 0.006f;
<a name='L395'> 395         <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/557.html' title='Multiple used in 51 places.'>EyeLeft</a>.<a href='../Y/425.html' title='Multiple used in 49 places.'>Distortion</a>.<a href='../Y/199.html' title='Multiple used in 45 places.'>ChromaticAberration</a>[1]           = 0.0f;
<a name='L396'> 396         <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/557.html' title='Multiple used in 51 places.'>EyeLeft</a>.<a href='../Y/425.html' title='Multiple used in 49 places.'>Distortion</a>.<a href='../Y/199.html' title='Multiple used in 45 places.'>ChromaticAberration</a>[2]           = -0.014f;
<a name='L397'> 397         <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/557.html' title='Multiple used in 51 places.'>EyeLeft</a>.<a href='../Y/425.html' title='Multiple used in 49 places.'>Distortion</a>.<a href='../Y/199.html' title='Multiple used in 45 places.'>ChromaticAberration</a>[3]           = 0.0f;
<a name='L398'> 398     <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/557.html' title='Multiple used in 51 places.'>EyeLeft</a>.<a href='../Y/1473.html' title='Multiple used in 14 places.'>NoseToPupilInMeters</a>                     = 0.62f;
<a name='L399'> 399     <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/557.html' title='Multiple used in 51 places.'>EyeLeft</a>.<a href='../Y/1841.html' title='Multiple used in 24 places.'>ReliefInMeters</a>                          = 0.013f;
<a name='L400'> 400     <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/565.html' title='Multiple used in 20 places.'>EyeRight</a> = <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/557.html' title='Multiple used in 51 places.'>EyeLeft</a>;
<a name='L401'> 401 
<a name='L402'> 402     <a href='../Y/2068.html' title='Multiple used in 6 places.'>SetViewportMode</a> = <a href='../Y/1923.html' title='Multiple used in 4 places.'>SVPM_Density</a>;
<a name='L403'> 403     <a href='../Y/2069.html' title='Multiple used in 4 places.'>SetViewportPixelsPerDisplayPixel</a> = 1.0f;
<a name='L404'> 404     <i><font color='green'>// Not used in this mode, but init them anyway.</font></i>
<a name='L405'> 405     <a href='../Y/2070.html' title='Multiple used in 7 places.'>SetViewportSize</a>[0] = <a href='../S/177.html#L636' title='Defined at 636 in ovr/sdk/src/Kernel/OVR_Math.h.'>Sizei</a>(0,0);
<a name='L406'> 406     <a href='../Y/2070.html' title='Multiple used in 7 places.'>SetViewportSize</a>[1] = <a href='../S/177.html#L636' title='Defined at 636 in ovr/sdk/src/Kernel/OVR_Math.h.'>Sizei</a>(0,0);
<a name='L407'> 407     <a href='../Y/2067.html' title='Multiple used in 7 places.'>SetViewport</a>[0] = <a href='../S/177.html#L681' title='Defined at 681 in ovr/sdk/src/Kernel/OVR_Math.h.'>Recti</a>(0,0,0,0);
<a name='L408'> 408     <a href='../Y/2067.html' title='Multiple used in 7 places.'>SetViewport</a>[1] = <a href='../S/177.html#L681' title='Defined at 681 in ovr/sdk/src/Kernel/OVR_Math.h.'>Recti</a>(0,0,0,0);
<a name='L409'> 409 
<a name='L410'> 410     <a href='../Y/1560.html' title='Multiple used in 5 places.'>OverrideLens</a> = <b>false</b>;
<a name='L411'> 411     <a href='../Y/1561.html' title='Multiple used in 5 places.'>OverrideTanHalfFov</a> = <b>false</b>;
<a name='L412'> 412     <a href='../Y/1562.html' title='Multiple used in 12 places.'>OverrideZeroIpd</a> = <b>false</b>;
<a name='L413'> 413     <a href='../Y/539.html' title='Multiple used in 4 places.'>ExtraEyeRotationInRadians</a> = <a href='../Y/1496.html' title='Multiple used in 10 places.'>OVR_DEFAULT_EXTRA_EYE_ROTATION</a>;
<a name='L414'> 414     <a href='../Y/1044.html' title='Multiple used in 6 places.'>IsRendertargetSharedByBothEyes</a> = <b>true</b>;
<a name='L415'> 415     <a href='../Y/1879.html' title='Multiple used in 5 places.'>RightHandedProjection</a> = <b>true</b>;
<a name='L416'> 416 
<a name='L417'> 417     <i><font color='green'>// This should cause an assert if the app does not call SetRendertargetSize()</font></i>
<a name='L418'> 418     <a href='../Y/1863.html' title='Multiple used in 10 places.'>RendertargetSize</a> = <a href='../S/177.html#L636' title='Defined at 636 in ovr/sdk/src/Kernel/OVR_Math.h.'>Sizei</a> ( 0, 0 );
<a name='L419'> 419 
<a name='L420'> 420     <a href='../Y/2513.html' title='Multiple used in 5 places.'>ZNear</a> = 0.01f;
<a name='L421'> 421     <a href='../Y/2512.html' title='Multiple used in 5 places.'>ZFar</a> = 10000.0f;
<a name='L422'> 422 
<a name='L423'> 423     <a href='../S/117.html#L432' title='Defined at 432 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>Set2DAreaFov</a>(<a href='../Y/361.html' title='Multiple used in 7 places.'>DegreeToRad</a>(85.0f));
<a name='L424'> 424 <font color='red'>}</font>
<a name='L425'> 425 
<a name='L426'> 426 <b>void</b> <a href='../Y/2137.html' title='Multiple used in 19 places.'>StereoConfig</a>::<a href='../S/115.html#L151' title='Refered from 151 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>SetHmdRenderInfo</a>(<b>const</b> <a href='../Y/927.html' title='Multiple used in 20 places.'>HmdRenderInfo</a>&amp; <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>)
<a name='L427'> 427 <font color='red'>{</font>
<a name='L428'> 428     <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a> = <a href='../Y/3413.html' title='Multiple used in 210 places.'>hmd</a>;
<a name='L429'> 429     <a href='../S/117.html#L366' title='Defined at 366 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>DirtyFlag</a> = <b>true</b>;
<a name='L430'> 430 <font color='red'>}</font>
<a name='L431'> 431 
<a name='L432'> 432 <b>void</b> <a href='../Y/2137.html' title='Multiple used in 19 places.'>StereoConfig</a>::<a href='../R/965.html' title='Multiple refered from 2 places.'>Set2DAreaFov</a>(<b>float</b> <a href='../Y/3243.html' title='Multiple used in 3 places.'>fovRadians</a>)
<a name='L433'> 433 <font color='red'>{</font>
<a name='L434'> 434     <a href='../Y/61.html' title='Multiple used in 3 places.'>Area2DFov</a> = <a href='../Y/3243.html' title='Multiple used in 3 places.'>fovRadians</a>;
<a name='L435'> 435     <a href='../S/117.html#L366' title='Defined at 366 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>DirtyFlag</a> = <b>true</b>;
<a name='L436'> 436 <font color='red'>}</font>
<a name='L437'> 437 
<a name='L438'> 438 <b>const</b> <a href='../S/115.html#L119' title='Defined at 119 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>StereoEyeParamsWithOrtho</a>&amp; <a href='../Y/2137.html' title='Multiple used in 19 places.'>StereoConfig</a>::<a href='../S/115.html#L164' title='Refered from 164 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>GetEyeRenderParams</a>(<a href='../Y/2138.html' title='Multiple used in 16 places.'>StereoEye</a> <a href='../Y/3157.html' title='Multiple used in 64 places.'>eye</a>)
<a name='L439'> 439 <font color='red'>{</font>
<a name='L440'> 440     <b>if</b> ( <a href='../S/117.html#L366' title='Defined at 366 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>DirtyFlag</a> )
<a name='L441'> 441     <font color='red'>{</font>
<a name='L442'> 442         <a href='../S/117.html#L529' title='Defined at 529 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>UpdateComputedState</a>();
<a name='L443'> 443     <font color='red'>}</font>
<a name='L444'> 444 
<a name='L445'> 445     <b>static</b> <b>const</b> <a href='../D/1212.html' title='Multiple defined in 3 places.'>UByte</a> <a href='../Y/3166.html' title='Multiple used in 3 places.'>eyeParamIndices</a>[3] = <font color='red'>{</font> 0, 0, 1 <font color='red'>}</font>;
<a name='L446'> 446 
<a name='L447'> 447     <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a>(<a href='../Y/3157.html' title='Multiple used in 64 places.'>eye</a> &lt; <b>sizeof</b>(<a href='../Y/3166.html' title='Multiple used in 3 places.'>eyeParamIndices</a>));
<a name='L448'> 448     <b>return</b> <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[<a href='../Y/3166.html' title='Multiple used in 3 places.'>eyeParamIndices</a>[<a href='../Y/3157.html' title='Multiple used in 64 places.'>eye</a>]];
<a name='L449'> 449 <font color='red'>}</font>
<a name='L450'> 450 
<a name='L451'> 451 <b>void</b> <a href='../Y/2137.html' title='Multiple used in 19 places.'>StereoConfig</a>::<a href='../S/115.html#L195' title='Refered from 195 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>SetLensOverride</a> ( <a href='../Y/1271.html' title='Multiple used in 8 places.'>LensConfig</a> <b>const</b> *<a href='../Y/3955.html' title='Multiple used in 5 places.'>pLensOverrideLeft</a>  <i><font color='green'>/*= NULL*/</font></i>,
<a name='L452'> 452                                      <a href='../Y/1271.html' title='Multiple used in 8 places.'>LensConfig</a> <b>const</b> *<a href='../Y/3956.html' title='Multiple used in 4 places.'>pLensOverrideRight</a> <i><font color='green'>/*= NULL*/</font></i> )
<a name='L453'> 453 <font color='red'>{</font>
<a name='L454'> 454     <b>if</b> ( <a href='../Y/3955.html' title='Multiple used in 5 places.'>pLensOverrideLeft</a> == <a href='../Y/1448.html' title='Multiple used in 256 places.'>NULL</a> )
<a name='L455'> 455     <font color='red'>{</font>
<a name='L456'> 456         <a href='../Y/1560.html' title='Multiple used in 5 places.'>OverrideLens</a> = <b>false</b>;
<a name='L457'> 457     <font color='red'>}</font>
<a name='L458'> 458     <b>else</b>
<a name='L459'> 459     <font color='red'>{</font>
<a name='L460'> 460         <a href='../Y/1560.html' title='Multiple used in 5 places.'>OverrideLens</a> = <b>true</b>;
<a name='L461'> 461         <a href='../Y/1274.html' title='Multiple used in 3 places.'>LensOverrideLeft</a> = *<a href='../Y/3955.html' title='Multiple used in 5 places.'>pLensOverrideLeft</a>;
<a name='L462'> 462         <a href='../Y/1275.html' title='Multiple used in 4 places.'>LensOverrideRight</a> = *<a href='../Y/3955.html' title='Multiple used in 5 places.'>pLensOverrideLeft</a>;
<a name='L463'> 463         <b>if</b> ( <a href='../Y/3956.html' title='Multiple used in 4 places.'>pLensOverrideRight</a> != <a href='../Y/1448.html' title='Multiple used in 256 places.'>NULL</a> )
<a name='L464'> 464         <font color='red'>{</font>
<a name='L465'> 465             <a href='../Y/1275.html' title='Multiple used in 4 places.'>LensOverrideRight</a> = *<a href='../Y/3956.html' title='Multiple used in 4 places.'>pLensOverrideRight</a>;
<a name='L466'> 466         <font color='red'>}</font>
<a name='L467'> 467     <font color='red'>}</font>
<a name='L468'> 468     <a href='../S/117.html#L366' title='Defined at 366 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>DirtyFlag</a> = <b>true</b>;
<a name='L469'> 469 <font color='red'>}</font>
<a name='L470'> 470 
<a name='L471'> 471 <b>void</b> <a href='../Y/2137.html' title='Multiple used in 19 places.'>StereoConfig</a>::<a href='../S/115.html#L160' title='Refered from 160 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>SetRendertargetSize</a> (<a href='../Y/2099.html' title='Multiple used in 162 places.'>Size</a>&lt;<b>int</b>&gt; <b>const</b> <a href='../Y/4278.html' title='Multiple used in 3 places.'>rendertargetSize</a>,
<a name='L472'> 472                                         <b>bool</b> <a href='../Y/4276.html' title='Multiple used in 3 places.'>rendertargetIsSharedByBothEyes</a> )
<a name='L473'> 473 <font color='red'>{</font>
<a name='L474'> 474     <a href='../Y/1863.html' title='Multiple used in 10 places.'>RendertargetSize</a> = <a href='../Y/4278.html' title='Multiple used in 3 places.'>rendertargetSize</a>;
<a name='L475'> 475     <a href='../Y/1044.html' title='Multiple used in 6 places.'>IsRendertargetSharedByBothEyes</a> = <a href='../Y/4276.html' title='Multiple used in 3 places.'>rendertargetIsSharedByBothEyes</a>;
<a name='L476'> 476     <a href='../S/117.html#L366' title='Defined at 366 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>DirtyFlag</a> = <b>true</b>;
<a name='L477'> 477 <font color='red'>}</font>
<a name='L478'> 478 
<a name='L479'> 479 <b>void</b> <a href='../Y/2137.html' title='Multiple used in 19 places.'>StereoConfig</a>::<a href='../R/992.html' title='Multiple refered from 2 places.'>SetFov</a> ( <a href='../Y/629.html' title='Multiple used in 10 places.'>FovPort</a> <b>const</b> *<a href='../Y/4047.html' title='Multiple used in 5 places.'>pfovLeft</a>  <i><font color='green'>/*= NULL*/</font></i>,
<a name='L480'> 480                             <a href='../Y/629.html' title='Multiple used in 10 places.'>FovPort</a> <b>const</b> *<a href='../Y/4048.html' title='Multiple used in 4 places.'>pfovRight</a> <i><font color='green'>/*= NULL*/</font></i> )
<a name='L481'> 481 <font color='red'>{</font>
<a name='L482'> 482     <a href='../S/117.html#L366' title='Defined at 366 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>DirtyFlag</a> = <b>true</b>;
<a name='L483'> 483     <b>if</b> ( <a href='../Y/4047.html' title='Multiple used in 5 places.'>pfovLeft</a> == <a href='../Y/1448.html' title='Multiple used in 256 places.'>NULL</a> )
<a name='L484'> 484     <font color='red'>{</font>
<a name='L485'> 485         <a href='../Y/1561.html' title='Multiple used in 5 places.'>OverrideTanHalfFov</a> = <b>false</b>;
<a name='L486'> 486     <font color='red'>}</font>
<a name='L487'> 487     <b>else</b>
<a name='L488'> 488     <font color='red'>{</font>
<a name='L489'> 489         <a href='../Y/1561.html' title='Multiple used in 5 places.'>OverrideTanHalfFov</a> = <b>true</b>;
<a name='L490'> 490         <a href='../Y/627.html' title='Multiple used in 3 places.'>FovOverrideLeft</a>  = *<a href='../Y/4047.html' title='Multiple used in 5 places.'>pfovLeft</a>;
<a name='L491'> 491         <a href='../Y/628.html' title='Multiple used in 4 places.'>FovOverrideRight</a> = *<a href='../Y/4047.html' title='Multiple used in 5 places.'>pfovLeft</a>;
<a name='L492'> 492         <b>if</b> ( <a href='../Y/4048.html' title='Multiple used in 4 places.'>pfovRight</a> != <a href='../Y/1448.html' title='Multiple used in 256 places.'>NULL</a> )
<a name='L493'> 493         <font color='red'>{</font>
<a name='L494'> 494             <a href='../Y/628.html' title='Multiple used in 4 places.'>FovOverrideRight</a> = *<a href='../Y/4048.html' title='Multiple used in 4 places.'>pfovRight</a>;
<a name='L495'> 495         <font color='red'>}</font>
<a name='L496'> 496     <font color='red'>}</font>
<a name='L497'> 497 <font color='red'>}</font>
<a name='L498'> 498 
<a name='L499'> 499 
<a name='L500'> 500 <b>void</b> <a href='../Y/2137.html' title='Multiple used in 19 places.'>StereoConfig</a>::<a href='../S/115.html#L222' title='Refered from 222 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>SetZeroVirtualIpdOverride</a> ( <b>bool</b> <a href='../Y/3108.html' title='Multiple used in 3 places.'>enableOverride</a> )
<a name='L501'> 501 <font color='red'>{</font>
<a name='L502'> 502     <a href='../S/117.html#L366' title='Defined at 366 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>DirtyFlag</a> = <b>true</b>;
<a name='L503'> 503     <a href='../Y/1562.html' title='Multiple used in 12 places.'>OverrideZeroIpd</a> = <a href='../Y/3108.html' title='Multiple used in 3 places.'>enableOverride</a>;
<a name='L504'> 504 <font color='red'>}</font>
<a name='L505'> 505 
<a name='L506'> 506 
<a name='L507'> 507 <b>void</b> <a href='../Y/2137.html' title='Multiple used in 19 places.'>StereoConfig</a>::<a href='../S/115.html#L225' title='Refered from 225 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>SetZClipPlanesAndHandedness</a> ( <b>float</b> <a href='../Y/4894.html' title='Multiple used in 17 places.'>zNear</a> <i><font color='green'>/*= 0.01f*/</font></i>, <b>float</b> <a href='../Y/4893.html' title='Multiple used in 18 places.'>zFar</a> <i><font color='green'>/*= 10000.0f*/</font></i>, <b>bool</b> <a href='../Y/4313.html' title='Multiple used in 3 places.'>rightHandedProjection</a> <i><font color='green'>/*= true*/</font></i> )
<a name='L508'> 508 <font color='red'>{</font>
<a name='L509'> 509     <a href='../S/117.html#L366' title='Defined at 366 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>DirtyFlag</a> = <b>true</b>;
<a name='L510'> 510     <a href='../Y/2513.html' title='Multiple used in 5 places.'>ZNear</a> = <a href='../Y/4894.html' title='Multiple used in 17 places.'>zNear</a>;
<a name='L511'> 511     <a href='../Y/2512.html' title='Multiple used in 5 places.'>ZFar</a> = <a href='../Y/4893.html' title='Multiple used in 18 places.'>zFar</a>;
<a name='L512'> 512     <a href='../Y/1879.html' title='Multiple used in 5 places.'>RightHandedProjection</a> = <a href='../Y/4313.html' title='Multiple used in 3 places.'>rightHandedProjection</a>;
<a name='L513'> 513 <font color='red'>}</font>
<a name='L514'> 514 
<a name='L515'> 515 <b>void</b> <a href='../Y/2137.html' title='Multiple used in 19 places.'>StereoConfig</a>::<a href='../S/115.html#L229' title='Refered from 229 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>SetExtraEyeRotation</a> ( <b>float</b> <a href='../Y/3153.html' title='Multiple used in 15 places.'>extraEyeRotationInRadians</a> )
<a name='L516'> 516 <font color='red'>{</font>
<a name='L517'> 517     <a href='../S/117.html#L366' title='Defined at 366 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>DirtyFlag</a> = <b>true</b>;
<a name='L518'> 518     <a href='../Y/539.html' title='Multiple used in 4 places.'>ExtraEyeRotationInRadians</a> = <a href='../Y/3153.html' title='Multiple used in 15 places.'>extraEyeRotationInRadians</a>;
<a name='L519'> 519 <font color='red'>}</font>
<a name='L520'> 520 
<a name='L521'> 521 <a href='../S/177.html#L636' title='Defined at 636 in ovr/sdk/src/Kernel/OVR_Math.h.'>Sizei</a> <a href='../Y/2137.html' title='Multiple used in 19 places.'>StereoConfig</a>::<a href='../R/92.html' title='Multiple refered from 3 places.'>CalculateRecommendedTextureSize</a> ( <b>bool</b> <a href='../Y/4277.html' title='Multiple used in 3 places.'>rendertargetSharedByBothEyes</a>,
<a name='L522'> 522                                                       <b>float</b> <a href='../Y/4059.html' title='Multiple used in 6 places.'>pixelDensityInCenter</a> <i><font color='green'>/*= 1.0f*/</font></i> )
<a name='L523'> 523 <font color='red'>{</font>
<a name='L524'> 524     <b>return</b> <a href='../S/117.html#L30' title='Defined at 30 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>Render</a>::<a href='../D/98.html' title='Multiple defined in 2 places.'>CalculateRecommendedTextureSize</a> ( <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>, <a href='../Y/4277.html' title='Multiple used in 3 places.'>rendertargetSharedByBothEyes</a>, <a href='../Y/4059.html' title='Multiple used in 6 places.'>pixelDensityInCenter</a> );
<a name='L525'> 525 <font color='red'>}</font>
<a name='L526'> 526 
<a name='L527'> 527 
<a name='L528'> 528 
<a name='L529'> 529 <b>void</b> <a href='../Y/2137.html' title='Multiple used in 19 places.'>StereoConfig</a>::<a href='../R/1158.html' title='Multiple refered from 2 places.'>UpdateComputedState</a>()
<a name='L530'> 530 <font color='red'>{</font>
<a name='L531'> 531     <b>int</b> <a href='../Y/3778.html' title='Multiple used in 5 places.'>numEyes</a> = 2;
<a name='L532'> 532     <a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a> <a href='../Y/3177.html' title='Multiple used in 6 places.'>eyeTypes</a>[2];
<a name='L533'> 533 
<a name='L534'> 534     <b>switch</b> ( <a href='../Y/1433.html' title='Multiple used in 11 places.'>Mode</a> )
<a name='L535'> 535     <font color='red'>{</font>
<a name='L536'> 536     <b>case</b> <a href='../Y/2145.html' title='Multiple used in 2 places.'>Stereo_None</a>:
<a name='L537'> 537         <a href='../Y/3778.html' title='Multiple used in 5 places.'>numEyes</a>         = 1;
<a name='L538'> 538         <a href='../Y/3177.html' title='Multiple used in 6 places.'>eyeTypes</a>[0]     = <a href='../Y/2140.html' title='Multiple used in 4 places.'>StereoEye_Center</a>;
<a name='L539'> 539         <b>break</b>;
<a name='L540'> 540 
<a name='L541'> 541     <b>case</b> <a href='../Y/2144.html' title='Multiple used in 3 places.'>Stereo_LeftRight_Multipass</a>:
<a name='L542'> 542         <a href='../Y/3778.html' title='Multiple used in 5 places.'>numEyes</a>         = 2;
<a name='L543'> 543         <a href='../Y/3177.html' title='Multiple used in 6 places.'>eyeTypes</a>[0]     = <a href='../Y/2141.html' title='Multiple used in 13 places.'>StereoEye_Left</a>;
<a name='L544'> 544         <a href='../Y/3177.html' title='Multiple used in 6 places.'>eyeTypes</a>[1]     = <a href='../Y/2142.html' title='Multiple used in 24 places.'>StereoEye_Right</a>;
<a name='L545'> 545         <b>break</b>;
<a name='L546'> 546 
<a name='L547'> 547     <b>default</b>:        
<a name='L548'> 548         <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a>( <b>false</b> ); <b>break</b>;
<a name='L549'> 549     <font color='red'>}</font>
<a name='L550'> 550 
<a name='L551'> 551     <i><font color='green'>// If either of these fire, you've probably forgotten to call SetRendertargetSize()</font></i>
<a name='L552'> 552     <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a> ( <a href='../Y/1863.html' title='Multiple used in 10 places.'>RendertargetSize</a>.<a href='../Y/4824.html' title='Multiple used in 151 places.'>w</a> &gt; 0 );
<a name='L553'> 553     <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a> ( <a href='../Y/1863.html' title='Multiple used in 10 places.'>RendertargetSize</a>.<a href='../Y/3380.html' title='Multiple used in 93 places.'>h</a> &gt; 0 );
<a name='L554'> 554 
<a name='L555'> 555     <b>for</b> ( <b>int</b> <a href='../Y/3165.html' title='Multiple used in 49 places.'>eyeNum</a> = 0; <a href='../Y/3165.html' title='Multiple used in 49 places.'>eyeNum</a> &lt; <a href='../Y/3778.html' title='Multiple used in 5 places.'>numEyes</a>; <a href='../Y/3165.html' title='Multiple used in 49 places.'>eyeNum</a>++ )
<a name='L556'> 556     <font color='red'>{</font>
<a name='L557'> 557         <a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a> <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a> = <a href='../Y/3177.html' title='Multiple used in 6 places.'>eyeTypes</a>[<a href='../Y/3165.html' title='Multiple used in 49 places.'>eyeNum</a>];
<a name='L558'> 558         <a href='../S/131.html#L174' title='Defined at 174 in ovr/sdk/src/OVR_Stereo.h.'>LensConfig</a> *<a href='../Y/3954.html' title='Multiple used in 10 places.'>pLensOverride</a> = <a href='../Y/1448.html' title='Multiple used in 256 places.'>NULL</a>;
<a name='L559'> 559         <b>if</b> ( <a href='../Y/1560.html' title='Multiple used in 5 places.'>OverrideLens</a> )
<a name='L560'> 560         <font color='red'>{</font>
<a name='L561'> 561             <b>if</b> ( <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a> == <a href='../Y/2142.html' title='Multiple used in 24 places.'>StereoEye_Right</a> )
<a name='L562'> 562             <font color='red'>{</font>
<a name='L563'> 563                 <a href='../Y/3954.html' title='Multiple used in 10 places.'>pLensOverride</a> = &amp;<a href='../Y/1275.html' title='Multiple used in 4 places.'>LensOverrideRight</a>;
<a name='L564'> 564             <font color='red'>}</font>
<a name='L565'> 565             <b>else</b>
<a name='L566'> 566             <font color='red'>{</font>
<a name='L567'> 567                 <a href='../Y/3954.html' title='Multiple used in 10 places.'>pLensOverride</a> = &amp;<a href='../Y/1274.html' title='Multiple used in 3 places.'>LensOverrideLeft</a>;
<a name='L568'> 568             <font color='red'>}</font>
<a name='L569'> 569         <font color='red'>}</font>
<a name='L570'> 570 
<a name='L571'> 571         <a href='../S/131.html#L65' title='Defined at 65 in ovr/sdk/src/OVR_Stereo.h.'>FovPort</a> *<a href='../Y/3986.html' title='Multiple used in 7 places.'>pTanHalfFovOverride</a> = <a href='../Y/1448.html' title='Multiple used in 256 places.'>NULL</a>;
<a name='L572'> 572         <b>if</b> ( <a href='../Y/1561.html' title='Multiple used in 5 places.'>OverrideTanHalfFov</a> )
<a name='L573'> 573         <font color='red'>{</font>
<a name='L574'> 574             <b>if</b> ( <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a> == <a href='../Y/2142.html' title='Multiple used in 24 places.'>StereoEye_Right</a> )
<a name='L575'> 575             <font color='red'>{</font>
<a name='L576'> 576                 <a href='../Y/3986.html' title='Multiple used in 7 places.'>pTanHalfFovOverride</a> = &amp;<a href='../Y/628.html' title='Multiple used in 4 places.'>FovOverrideRight</a>;
<a name='L577'> 577             <font color='red'>}</font>
<a name='L578'> 578             <b>else</b>
<a name='L579'> 579             <font color='red'>{</font>
<a name='L580'> 580                 <a href='../Y/3986.html' title='Multiple used in 7 places.'>pTanHalfFovOverride</a> = &amp;<a href='../Y/627.html' title='Multiple used in 3 places.'>FovOverrideLeft</a>;
<a name='L581'> 581             <font color='red'>}</font>
<a name='L582'> 582         <font color='red'>}</font>
<a name='L583'> 583 
<a name='L584'> 584         <a href='../S/117.html#L80' title='Defined at 80 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>DistortionAndFov</a> <a href='../Y/3047.html' title='Multiple used in 14 places.'>distortionAndFov</a> =
<a name='L585'> 585             <a href='../S/117.html#L86' title='Defined at 86 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>CalculateDistortionAndFovInternal</a> ( <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a>, <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>,
<a name='L586'> 586                                                 <a href='../Y/3954.html' title='Multiple used in 10 places.'>pLensOverride</a>, <a href='../Y/3986.html' title='Multiple used in 7 places.'>pTanHalfFovOverride</a>,
<a name='L587'> 587                                                 <a href='../Y/539.html' title='Multiple used in 4 places.'>ExtraEyeRotationInRadians</a> );
<a name='L588'> 588 
<a name='L589'> 589         <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[<a href='../Y/3165.html' title='Multiple used in 49 places.'>eyeNum</a>].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/425.html' title='Multiple used in 49 places.'>Distortion</a> = <a href='../Y/3047.html' title='Multiple used in 14 places.'>distortionAndFov</a>.<a href='../Y/425.html' title='Multiple used in 49 places.'>Distortion</a>;
<a name='L590'> 590         <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[<a href='../Y/3165.html' title='Multiple used in 49 places.'>eyeNum</a>].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/626.html' title='Multiple used in 28 places.'>Fov</a>        = <a href='../Y/3047.html' title='Multiple used in 14 places.'>distortionAndFov</a>.<a href='../Y/626.html' title='Multiple used in 28 places.'>Fov</a>;
<a name='L591'> 591     <font color='red'>}</font>
<a name='L592'> 592 
<a name='L593'> 593     <b>if</b> ( <a href='../Y/1562.html' title='Multiple used in 12 places.'>OverrideZeroIpd</a> )
<a name='L594'> 594     <font color='red'>{</font>
<a name='L595'> 595         <i><font color='green'>// Take the union of the calculated eye FOVs.</font></i>
<a name='L596'> 596         <a href='../S/131.html#L65' title='Defined at 65 in ovr/sdk/src/OVR_Stereo.h.'>FovPort</a> <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>;
<a name='L597'> 597         <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>.<a href='../Y/2359.html' title='Multiple used in 30 places.'>UpTan</a>    = <a href='../S/176.html#L29' title='Defined at 29 in ovr/sdk/src/Kernel/OVR_Alg.cpp.'>Alg</a>::<a href='../Y/1370.html' title='Multiple used in 38 places.'>Max</a> ( <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[0].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/626.html' title='Multiple used in 28 places.'>Fov</a>.<a href='../Y/2359.html' title='Multiple used in 30 places.'>UpTan</a>   , <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[1].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/626.html' title='Multiple used in 28 places.'>Fov</a>.<a href='../Y/2359.html' title='Multiple used in 30 places.'>UpTan</a>    );
<a name='L598'> 598         <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>.<a href='../Y/467.html' title='Multiple used in 30 places.'>DownTan</a>  = <a href='../S/176.html#L29' title='Defined at 29 in ovr/sdk/src/Kernel/OVR_Alg.cpp.'>Alg</a>::<a href='../Y/1370.html' title='Multiple used in 38 places.'>Max</a> ( <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[0].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/626.html' title='Multiple used in 28 places.'>Fov</a>.<a href='../Y/467.html' title='Multiple used in 30 places.'>DownTan</a> , <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[1].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/626.html' title='Multiple used in 28 places.'>Fov</a>.<a href='../Y/467.html' title='Multiple used in 30 places.'>DownTan</a>  );
<a name='L599'> 599         <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>.<a href='../Y/1266.html' title='Multiple used in 30 places.'>LeftTan</a>  = <a href='../S/176.html#L29' title='Defined at 29 in ovr/sdk/src/Kernel/OVR_Alg.cpp.'>Alg</a>::<a href='../Y/1370.html' title='Multiple used in 38 places.'>Max</a> ( <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[0].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/626.html' title='Multiple used in 28 places.'>Fov</a>.<a href='../Y/1266.html' title='Multiple used in 30 places.'>LeftTan</a> , <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[1].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/626.html' title='Multiple used in 28 places.'>Fov</a>.<a href='../Y/1266.html' title='Multiple used in 30 places.'>LeftTan</a>  );
<a name='L600'> 600         <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>.<a href='../S/142.html#L51' title='Defined at 51 in ovr/sdk/src/OVR_CAPI.cpp.'>RightTan</a> = <a href='../S/176.html#L29' title='Defined at 29 in ovr/sdk/src/Kernel/OVR_Alg.cpp.'>Alg</a>::<a href='../Y/1370.html' title='Multiple used in 38 places.'>Max</a> ( <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[0].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/626.html' title='Multiple used in 28 places.'>Fov</a>.<a href='../S/142.html#L51' title='Defined at 51 in ovr/sdk/src/OVR_CAPI.cpp.'>RightTan</a>, <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[1].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/626.html' title='Multiple used in 28 places.'>Fov</a>.<a href='../S/142.html#L51' title='Defined at 51 in ovr/sdk/src/OVR_CAPI.cpp.'>RightTan</a> );
<a name='L601'> 601         <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[0].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/626.html' title='Multiple used in 28 places.'>Fov</a> = <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>;
<a name='L602'> 602         <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[1].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/626.html' title='Multiple used in 28 places.'>Fov</a> = <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>;
<a name='L603'> 603     <font color='red'>}</font>
<a name='L604'> 604 
<a name='L605'> 605     <b>for</b> ( <b>int</b> <a href='../Y/3165.html' title='Multiple used in 49 places.'>eyeNum</a> = 0; <a href='../Y/3165.html' title='Multiple used in 49 places.'>eyeNum</a> &lt; <a href='../Y/3778.html' title='Multiple used in 5 places.'>numEyes</a>; <a href='../Y/3165.html' title='Multiple used in 49 places.'>eyeNum</a>++ )
<a name='L606'> 606     <font color='red'>{</font>
<a name='L607'> 607         <a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a> <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a> = <a href='../Y/3177.html' title='Multiple used in 6 places.'>eyeTypes</a>[<a href='../Y/3165.html' title='Multiple used in 49 places.'>eyeNum</a>];
<a name='L608'> 608 
<a name='L609'> 609         <a href='../S/131.html#L237' title='Defined at 237 in ovr/sdk/src/OVR_Stereo.h.'>DistortionRenderDesc</a> <a href='../Y/3577.html' title='Multiple used in 18 places.'>localDistortion</a> = <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[<a href='../Y/3165.html' title='Multiple used in 49 places.'>eyeNum</a>].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/425.html' title='Multiple used in 49 places.'>Distortion</a>;
<a name='L610'> 610         <a href='../S/131.html#L65' title='Defined at 65 in ovr/sdk/src/OVR_Stereo.h.'>FovPort</a>              <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>             = <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[<a href='../Y/3165.html' title='Multiple used in 49 places.'>eyeNum</a>].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/626.html' title='Multiple used in 28 places.'>Fov</a>;
<a name='L611'> 611 
<a name='L612'> 612         <i><font color='green'>// Use a placeholder - will be overridden later.</font></i>
<a name='L613'> 613         <a href='../S/177.html#L681' title='Defined at 681 in ovr/sdk/src/Kernel/OVR_Math.h.'>Recti</a> <a href='../Y/4562.html' title='Multiple used in 2 places.'>tempViewport</a> = <a href='../S/177.html#L681' title='Defined at 681 in ovr/sdk/src/Kernel/OVR_Math.h.'>Recti</a> ( 0, 0, 1, 1 );
<a name='L614'> 614 
<a name='L615'> 615         <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[<a href='../Y/3165.html' title='Multiple used in 49 places.'>eyeNum</a>].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a> = <a href='../S/117.html#L177' title='Defined at 177 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>CalculateStereoEyeParamsInternal</a> (
<a name='L616'> 616                                         <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a>, <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>, <a href='../Y/3577.html' title='Multiple used in 18 places.'>localDistortion</a>, <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>,
<a name='L617'> 617                                         <a href='../Y/1863.html' title='Multiple used in 10 places.'>RendertargetSize</a>, <a href='../Y/4562.html' title='Multiple used in 2 places.'>tempViewport</a>,
<a name='L618'> 618                                         <a href='../Y/1879.html' title='Multiple used in 5 places.'>RightHandedProjection</a>, <a href='../Y/2513.html' title='Multiple used in 5 places.'>ZNear</a>, <a href='../Y/2512.html' title='Multiple used in 5 places.'>ZFar</a>,
<a name='L619'> 619                                         <a href='../Y/1562.html' title='Multiple used in 12 places.'>OverrideZeroIpd</a> );
<a name='L620'> 620 
<a name='L621'> 621         <i><font color='green'>// We want to create a virtual 2D surface we can draw debug text messages to.</font></i>
<a name='L622'> 622         <i><font color='green'>// We'd like it to be a fixed distance (OrthoDistance) away,</font></i>
<a name='L623'> 623         <i><font color='green'>// and to cover a specific FOV (Area2DFov). We need to find the projection matrix for this,</font></i>
<a name='L624'> 624         <i><font color='green'>// and also to know how large it is in pixels to achieve a 1:1 mapping at the center of the screen.</font></i>
<a name='L625'> 625         <b>float</b> <a href='../Y/3823.html' title='Multiple used in 5 places.'>orthoDistance</a> = 0.8f;
<a name='L626'> 626         <b>float</b> <a href='../Y/3824.html' title='Multiple used in 3 places.'>orthoHalfFov</a> = <a href='../Y/4557.html' title='Multiple used in 5 places.'>tanf</a> ( <a href='../Y/61.html' title='Multiple used in 3 places.'>Area2DFov</a> * 0.5f );
<a name='L627'> 627         <a href='../S/177.html#L382' title='Defined at 382 in ovr/sdk/src/Kernel/OVR_Math.h.'>Vector2f</a> <a href='../Y/4727.html' title='Multiple used in 2 places.'>unityOrthoPixelSize</a> = <a href='../Y/3577.html' title='Multiple used in 18 places.'>localDistortion</a>.<a href='../Y/1672.html' title='Multiple used in 7 places.'>PixelsPerTanAngleAtCenter</a> * ( <a href='../Y/3824.html' title='Multiple used in 3 places.'>orthoHalfFov</a> * 2.0f );
<a name='L628'> 628         <b>float</b> <a href='../Y/3578.html' title='Multiple used in 3 places.'>localInterpupillaryDistance</a> = <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/557.html' title='Multiple used in 51 places.'>EyeLeft</a>.<a href='../Y/1473.html' title='Multiple used in 14 places.'>NoseToPupilInMeters</a> + <a href='../Y/923.html' title='Multiple used in 37 places.'>Hmd</a>.<a href='../Y/565.html' title='Multiple used in 20 places.'>EyeRight</a>.<a href='../Y/1473.html' title='Multiple used in 14 places.'>NoseToPupilInMeters</a>;
<a name='L629'> 629         <b>if</b> ( <a href='../Y/1562.html' title='Multiple used in 12 places.'>OverrideZeroIpd</a> )
<a name='L630'> 630         <font color='red'>{</font>
<a name='L631'> 631             <a href='../Y/3578.html' title='Multiple used in 3 places.'>localInterpupillaryDistance</a> = 0.0f;
<a name='L632'> 632         <font color='red'>}</font>
<a name='L633'> 633         <a href='../S/177.html#L1834' title='Defined at 1834 in ovr/sdk/src/Kernel/OVR_Math.h.'>Matrix4f</a> <a href='../Y/3822.html' title='Multiple used in 42 places.'>ortho</a> = <a href='../S/88.html#L1588' title='Defined at 1588 in ovr/sdk/src/OVR_Stereo.cpp.'>CreateOrthoSubProjection</a> ( <b>true</b>, <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a>,
<a name='L634'> 634                                                     <a href='../Y/3824.html' title='Multiple used in 3 places.'>orthoHalfFov</a>, <a href='../Y/3824.html' title='Multiple used in 3 places.'>orthoHalfFov</a>,
<a name='L635'> 635                                                     <a href='../Y/4727.html' title='Multiple used in 2 places.'>unityOrthoPixelSize</a>.<a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a>, <a href='../Y/4727.html' title='Multiple used in 2 places.'>unityOrthoPixelSize</a>.<a href='../Y/4884.html' title='Multiple used in 286 places.'>y</a>,
<a name='L636'> 636                                                     <a href='../Y/3823.html' title='Multiple used in 5 places.'>orthoDistance</a>, <a href='../Y/3578.html' title='Multiple used in 3 places.'>localInterpupillaryDistance</a>,
<a name='L637'> 637                                                     <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[<a href='../Y/3165.html' title='Multiple used in 49 places.'>eyeNum</a>].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/1860.html' title='Multiple used in 7 places.'>RenderedProjection</a> );
<a name='L638'> 638         <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[<a href='../Y/3165.html' title='Multiple used in 49 places.'>eyeNum</a>].<a href='../Y/1555.html' title='Multiple used in 6 places.'>OrthoProjection</a> = <a href='../Y/3822.html' title='Multiple used in 42 places.'>ortho</a>;
<a name='L639'> 639     <font color='red'>}</font>
<a name='L640'> 640 
<a name='L641'> 641     <i><font color='green'>// ...and now set up the viewport, scale &amp; offset the way the app wanted.</font></i>
<a name='L642'> 642     <a href='../S/117.html#L671' title='Defined at 671 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>setupViewportScaleAndOffsets</a>();
<a name='L643'> 643 
<a name='L644'> 644     <b>if</b> ( <a href='../Y/1562.html' title='Multiple used in 12 places.'>OverrideZeroIpd</a> )
<a name='L645'> 645     <font color='red'>{</font>
<a name='L646'> 646         <i><font color='green'>// Monocular rendering has some fragile parts... don't break any by accident.</font></i>
<a name='L647'> 647         <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a> ( <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[0].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/626.html' title='Multiple used in 28 places.'>Fov</a>.<a href='../Y/2359.html' title='Multiple used in 30 places.'>UpTan</a>                   == <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[1].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/626.html' title='Multiple used in 28 places.'>Fov</a>.<a href='../Y/2359.html' title='Multiple used in 30 places.'>UpTan</a>    );
<a name='L648'> 648         <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a> ( <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[0].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/626.html' title='Multiple used in 28 places.'>Fov</a>.<a href='../Y/467.html' title='Multiple used in 30 places.'>DownTan</a>                 == <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[1].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/626.html' title='Multiple used in 28 places.'>Fov</a>.<a href='../Y/467.html' title='Multiple used in 30 places.'>DownTan</a>  );
<a name='L649'> 649         <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a> ( <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[0].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/626.html' title='Multiple used in 28 places.'>Fov</a>.<a href='../Y/1266.html' title='Multiple used in 30 places.'>LeftTan</a>                 == <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[1].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/626.html' title='Multiple used in 28 places.'>Fov</a>.<a href='../Y/1266.html' title='Multiple used in 30 places.'>LeftTan</a>  );
<a name='L650'> 650         <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a> ( <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[0].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/626.html' title='Multiple used in 28 places.'>Fov</a>.<a href='../S/142.html#L51' title='Defined at 51 in ovr/sdk/src/OVR_CAPI.cpp.'>RightTan</a>                == <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[1].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/626.html' title='Multiple used in 28 places.'>Fov</a>.<a href='../S/142.html#L51' title='Defined at 51 in ovr/sdk/src/OVR_CAPI.cpp.'>RightTan</a> );
<a name='L651'> 651         <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a> ( <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[0].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/1860.html' title='Multiple used in 7 places.'>RenderedProjection</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[0][0]  == <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[1].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/1860.html' title='Multiple used in 7 places.'>RenderedProjection</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[0][0] );
<a name='L652'> 652         <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a> ( <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[0].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/1860.html' title='Multiple used in 7 places.'>RenderedProjection</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[1][1]  == <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[1].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/1860.html' title='Multiple used in 7 places.'>RenderedProjection</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[1][1] );
<a name='L653'> 653         <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a> ( <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[0].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/1860.html' title='Multiple used in 7 places.'>RenderedProjection</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[0][2]  == <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[1].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/1860.html' title='Multiple used in 7 places.'>RenderedProjection</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[0][2] );
<a name='L654'> 654         <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a> ( <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[0].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/1860.html' title='Multiple used in 7 places.'>RenderedProjection</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[1][2]  == <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[1].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/1860.html' title='Multiple used in 7 places.'>RenderedProjection</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[1][2] );
<a name='L655'> 655         <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a> ( <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[0].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/1861.html' title='Multiple used in 8 places.'>RenderedViewport</a>            == <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[1].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/1861.html' title='Multiple used in 8 places.'>RenderedViewport</a>      );
<a name='L656'> 656         <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a> ( <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[0].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/568.html' title='Multiple used in 11 places.'>EyeToSourceUV</a>.<a href='../Y/1534.html' title='Multiple used in 38 places.'>Offset</a>        == <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[1].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/568.html' title='Multiple used in 11 places.'>EyeToSourceUV</a>.<a href='../Y/1534.html' title='Multiple used in 38 places.'>Offset</a>  );
<a name='L657'> 657         <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a> ( <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[0].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/568.html' title='Multiple used in 11 places.'>EyeToSourceUV</a>.<a href='../Y/1962.html' title='Multiple used in 16 places.'>Scale</a>         == <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[1].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/568.html' title='Multiple used in 11 places.'>EyeToSourceUV</a>.<a href='../Y/1962.html' title='Multiple used in 16 places.'>Scale</a>   );
<a name='L658'> 658         <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a> ( <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[0].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/567.html' title='Multiple used in 12 places.'>EyeToSourceNDC</a>.<a href='../Y/1534.html' title='Multiple used in 38 places.'>Offset</a>       == <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[1].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/567.html' title='Multiple used in 12 places.'>EyeToSourceNDC</a>.<a href='../Y/1534.html' title='Multiple used in 38 places.'>Offset</a> );
<a name='L659'> 659         <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a> ( <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[0].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/567.html' title='Multiple used in 12 places.'>EyeToSourceNDC</a>.<a href='../Y/1962.html' title='Multiple used in 16 places.'>Scale</a>        == <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[1].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/567.html' title='Multiple used in 12 places.'>EyeToSourceNDC</a>.<a href='../Y/1962.html' title='Multiple used in 16 places.'>Scale</a>  );
<a name='L660'> 660         <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a> ( <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[0].<a href='../Y/1555.html' title='Multiple used in 6 places.'>OrthoProjection</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[0][0]               == <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[1].<a href='../Y/1555.html' title='Multiple used in 6 places.'>OrthoProjection</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[0][0] );
<a name='L661'> 661         <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a> ( <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[0].<a href='../Y/1555.html' title='Multiple used in 6 places.'>OrthoProjection</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[1][1]               == <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[1].<a href='../Y/1555.html' title='Multiple used in 6 places.'>OrthoProjection</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[1][1] );
<a name='L662'> 662         <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a> ( <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[0].<a href='../Y/1555.html' title='Multiple used in 6 places.'>OrthoProjection</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[0][2]               == <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[1].<a href='../Y/1555.html' title='Multiple used in 6 places.'>OrthoProjection</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[0][2] );
<a name='L663'> 663         <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a> ( <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[0].<a href='../Y/1555.html' title='Multiple used in 6 places.'>OrthoProjection</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[1][2]               == <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[1].<a href='../Y/1555.html' title='Multiple used in 6 places.'>OrthoProjection</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[1][2] );
<a name='L664'> 664     <font color='red'>}</font>
<a name='L665'> 665 
<a name='L666'> 666     <a href='../S/117.html#L366' title='Defined at 366 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>DirtyFlag</a> = <b>false</b>;
<a name='L667'> 667 <font color='red'>}</font>
<a name='L668'> 668 
<a name='L669'> 669 
<a name='L670'> 670 
<a name='L671'> 671 <a href='../S/115.html#L125' title='Defined at 125 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>ViewportScaleAndOffsetBothEyes</a> <a href='../Y/2137.html' title='Multiple used in 19 places.'>StereoConfig</a>::<a href='../R/1464.html' title='Multiple refered from 5 places.'>setupViewportScaleAndOffsets</a>()
<a name='L672'> 672 <font color='red'>{</font>
<a name='L673'> 673     <b>for</b> ( <b>int</b> <a href='../Y/3165.html' title='Multiple used in 49 places.'>eyeNum</a> = 0; <a href='../Y/3165.html' title='Multiple used in 49 places.'>eyeNum</a> &lt; 2; <a href='../Y/3165.html' title='Multiple used in 49 places.'>eyeNum</a>++ )
<a name='L674'> 674     <font color='red'>{</font>
<a name='L675'> 675         <a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a> <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a> = ( <a href='../Y/3165.html' title='Multiple used in 49 places.'>eyeNum</a> == 0 ) ? <a href='../Y/2141.html' title='Multiple used in 13 places.'>StereoEye_Left</a> : <a href='../Y/2142.html' title='Multiple used in 24 places.'>StereoEye_Right</a>;
<a name='L676'> 676 
<a name='L677'> 677         <a href='../S/131.html#L237' title='Defined at 237 in ovr/sdk/src/OVR_Stereo.h.'>DistortionRenderDesc</a> <a href='../Y/3577.html' title='Multiple used in 18 places.'>localDistortion</a> = <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[<a href='../Y/3165.html' title='Multiple used in 49 places.'>eyeNum</a>].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/425.html' title='Multiple used in 49 places.'>Distortion</a>;
<a name='L678'> 678         <a href='../S/131.html#L65' title='Defined at 65 in ovr/sdk/src/OVR_Stereo.h.'>FovPort</a>              <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>             = <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[<a href='../Y/3165.html' title='Multiple used in 49 places.'>eyeNum</a>].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/626.html' title='Multiple used in 28 places.'>Fov</a>;
<a name='L679'> 679 
<a name='L680'> 680         <a href='../S/177.html#L681' title='Defined at 681 in ovr/sdk/src/Kernel/OVR_Math.h.'>Recti</a> <a href='../Y/4275.html' title='Multiple used in 29 places.'>renderedViewport</a>;
<a name='L681'> 681         <b>switch</b> ( <a href='../Y/2068.html' title='Multiple used in 6 places.'>SetViewportMode</a> )
<a name='L682'> 682         <font color='red'>{</font>
<a name='L683'> 683         <b>case</b> <a href='../Y/1923.html' title='Multiple used in 4 places.'>SVPM_Density</a>:
<a name='L684'> 684             <a href='../Y/4275.html' title='Multiple used in 29 places.'>renderedViewport</a> = <a href='../S/117.html#L144' title='Defined at 144 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>CalculateViewportDensityInternal</a> (
<a name='L685'> 685                                     <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a>, <a href='../Y/3577.html' title='Multiple used in 18 places.'>localDistortion</a>, <a href='../Y/3241.html' title='Multiple used in 61 places.'>fov</a>,
<a name='L686'> 686                                     <a href='../Y/1863.html' title='Multiple used in 10 places.'>RendertargetSize</a>, <a href='../Y/1044.html' title='Multiple used in 6 places.'>IsRendertargetSharedByBothEyes</a>,
<a name='L687'> 687                                     <a href='../Y/2069.html' title='Multiple used in 4 places.'>SetViewportPixelsPerDisplayPixel</a>, <a href='../Y/1562.html' title='Multiple used in 12 places.'>OverrideZeroIpd</a> );
<a name='L688'> 688             <b>break</b>;
<a name='L689'> 689         <b>case</b> <a href='../Y/1924.html' title='Multiple used in 3 places.'>SVPM_Size</a>:
<a name='L690'> 690             <b>if</b> ( ( <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a> == <a href='../Y/2142.html' title='Multiple used in 24 places.'>StereoEye_Right</a> ) &amp;&amp; !<a href='../Y/1562.html' title='Multiple used in 12 places.'>OverrideZeroIpd</a> )
<a name='L691'> 691             <font color='red'>{</font>
<a name='L692'> 692                 <a href='../Y/4275.html' title='Multiple used in 29 places.'>renderedViewport</a> = <a href='../S/117.html#L114' title='Defined at 114 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>CalculateViewportInternal</a> (
<a name='L693'> 693                                         <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a>, <a href='../Y/1863.html' title='Multiple used in 10 places.'>RendertargetSize</a>,
<a name='L694'> 694                                         <a href='../Y/2070.html' title='Multiple used in 7 places.'>SetViewportSize</a>[1],
<a name='L695'> 695                                         <a href='../Y/1044.html' title='Multiple used in 6 places.'>IsRendertargetSharedByBothEyes</a>, <a href='../Y/1562.html' title='Multiple used in 12 places.'>OverrideZeroIpd</a> );
<a name='L696'> 696             <font color='red'>}</font>
<a name='L697'> 697             <b>else</b>
<a name='L698'> 698             <font color='red'>{</font>
<a name='L699'> 699                 <a href='../Y/4275.html' title='Multiple used in 29 places.'>renderedViewport</a> = <a href='../S/117.html#L114' title='Defined at 114 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>CalculateViewportInternal</a> (
<a name='L700'> 700                                         <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a>, <a href='../Y/1863.html' title='Multiple used in 10 places.'>RendertargetSize</a>,
<a name='L701'> 701                                         <a href='../Y/2070.html' title='Multiple used in 7 places.'>SetViewportSize</a>[0],
<a name='L702'> 702                                         <a href='../Y/1044.html' title='Multiple used in 6 places.'>IsRendertargetSharedByBothEyes</a>, <a href='../Y/1562.html' title='Multiple used in 12 places.'>OverrideZeroIpd</a> );
<a name='L703'> 703             <font color='red'>}</font>
<a name='L704'> 704             <b>break</b>;
<a name='L705'> 705         <b>case</b> <a href='../Y/1925.html' title='Multiple used in 3 places.'>SVPM_Viewport</a>:
<a name='L706'> 706             <b>if</b> ( ( <a href='../Y/3176.html' title='Multiple used in 76 places.'>eyeType</a> == <a href='../Y/2142.html' title='Multiple used in 24 places.'>StereoEye_Right</a> ) &amp;&amp; !<a href='../Y/1562.html' title='Multiple used in 12 places.'>OverrideZeroIpd</a> )
<a name='L707'> 707             <font color='red'>{</font>
<a name='L708'> 708                 <a href='../Y/4275.html' title='Multiple used in 29 places.'>renderedViewport</a> = <a href='../Y/2067.html' title='Multiple used in 7 places.'>SetViewport</a>[1];
<a name='L709'> 709             <font color='red'>}</font>
<a name='L710'> 710             <b>else</b>
<a name='L711'> 711             <font color='red'>{</font>
<a name='L712'> 712                 <a href='../Y/4275.html' title='Multiple used in 29 places.'>renderedViewport</a> = <a href='../Y/2067.html' title='Multiple used in 7 places.'>SetViewport</a>[0];
<a name='L713'> 713             <font color='red'>}</font>
<a name='L714'> 714             <b>break</b>;
<a name='L715'> 715         <b>default</b>: <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a> ( <b>false</b> ); <b>break</b>;
<a name='L716'> 716         <font color='red'>}</font>
<a name='L717'> 717 
<a name='L718'> 718         <a href='../S/115.html#L78' title='Defined at 78 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>ViewportScaleAndOffset</a> <a href='../Y/4809.html' title='Multiple used in 3 places.'>vpsao</a> = <a href='../S/117.html#L164' title='Defined at 164 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>CalculateViewportScaleAndOffsetInternal</a> (
<a name='L719'> 719                                                 <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[<a href='../Y/3165.html' title='Multiple used in 49 places.'>eyeNum</a>].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/567.html' title='Multiple used in 12 places.'>EyeToSourceNDC</a>,
<a name='L720'> 720                                                 <a href='../Y/4275.html' title='Multiple used in 29 places.'>renderedViewport</a>,
<a name='L721'> 721                                                 <a href='../Y/1863.html' title='Multiple used in 10 places.'>RendertargetSize</a> );
<a name='L722'> 722         <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[<a href='../Y/3165.html' title='Multiple used in 49 places.'>eyeNum</a>].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/1861.html' title='Multiple used in 8 places.'>RenderedViewport</a> = <a href='../Y/4809.html' title='Multiple used in 3 places.'>vpsao</a>.<a href='../Y/1861.html' title='Multiple used in 8 places.'>RenderedViewport</a>;
<a name='L723'> 723         <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[<a href='../Y/3165.html' title='Multiple used in 49 places.'>eyeNum</a>].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/568.html' title='Multiple used in 11 places.'>EyeToSourceUV</a>    = <a href='../Y/4809.html' title='Multiple used in 3 places.'>vpsao</a>.<a href='../Y/568.html' title='Multiple used in 11 places.'>EyeToSourceUV</a>;
<a name='L724'> 724     <font color='red'>}</font>
<a name='L725'> 725 
<a name='L726'> 726     <a href='../S/115.html#L125' title='Defined at 125 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>ViewportScaleAndOffsetBothEyes</a> <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>;
<a name='L727'> 727     <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/1265.html' title='Multiple used in 3 places.'>Left</a>.<a href='../Y/568.html' title='Multiple used in 11 places.'>EyeToSourceUV</a>     = <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[0].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/568.html' title='Multiple used in 11 places.'>EyeToSourceUV</a>;
<a name='L728'> 728     <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/1265.html' title='Multiple used in 3 places.'>Left</a>.<a href='../Y/1861.html' title='Multiple used in 8 places.'>RenderedViewport</a>  = <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[0].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/1861.html' title='Multiple used in 8 places.'>RenderedViewport</a>;
<a name='L729'> 729     <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/1878.html' title='Multiple used in 3 places.'>Right</a>.<a href='../Y/568.html' title='Multiple used in 11 places.'>EyeToSourceUV</a>    = <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[1].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/568.html' title='Multiple used in 11 places.'>EyeToSourceUV</a>;
<a name='L730'> 730     <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/1878.html' title='Multiple used in 3 places.'>Right</a>.<a href='../Y/1861.html' title='Multiple used in 8 places.'>RenderedViewport</a> = <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[1].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/1861.html' title='Multiple used in 8 places.'>RenderedViewport</a>;
<a name='L731'> 731     <b>return</b> <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>;
<a name='L732'> 732 <font color='red'>}</font>
<a name='L733'> 733 
<a name='L734'> 734 <i><font color='green'>// Specify a pixel density - how many rendered pixels per pixel in the physical display.</font></i>
<a name='L735'> 735 <a href='../S/115.html#L125' title='Defined at 125 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>ViewportScaleAndOffsetBothEyes</a> <a href='../Y/2137.html' title='Multiple used in 19 places.'>StereoConfig</a>::<a href='../S/115.html#L256' title='Refered from 256 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>SetRenderDensity</a> ( <b>float</b> <a href='../Y/4065.html' title='Multiple used in 13 places.'>pixelsPerDisplayPixel</a> )
<a name='L736'> 736 <font color='red'>{</font>
<a name='L737'> 737     <a href='../Y/2068.html' title='Multiple used in 6 places.'>SetViewportMode</a>  = <a href='../Y/1923.html' title='Multiple used in 4 places.'>SVPM_Density</a>;
<a name='L738'> 738     <a href='../Y/2069.html' title='Multiple used in 4 places.'>SetViewportPixelsPerDisplayPixel</a> = <a href='../Y/4065.html' title='Multiple used in 13 places.'>pixelsPerDisplayPixel</a>;
<a name='L739'> 739     <b>return</b> <a href='../S/117.html#L671' title='Defined at 671 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>setupViewportScaleAndOffsets</a>();
<a name='L740'> 740 <font color='red'>}</font>
<a name='L741'> 741 
<a name='L742'> 742 <i><font color='green'>// Supply the size directly. Will be clamped to the physical rendertarget size.</font></i>
<a name='L743'> 743 <a href='../S/115.html#L125' title='Defined at 125 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>ViewportScaleAndOffsetBothEyes</a> <a href='../Y/2137.html' title='Multiple used in 19 places.'>StereoConfig</a>::<a href='../S/115.html#L259' title='Refered from 259 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>SetRenderSize</a> ( <a href='../Y/2104.html' title='Multiple used in 14 places.'>Sizei</a> <b>const</b> &amp;<a href='../Y/4265.html' title='Multiple used in 3 places.'>renderSizeLeft</a>, <a href='../Y/2104.html' title='Multiple used in 14 places.'>Sizei</a> <b>const</b> &amp;<a href='../Y/4266.html' title='Multiple used in 3 places.'>renderSizeRight</a> )
<a name='L744'> 744 <font color='red'>{</font>
<a name='L745'> 745     <a href='../Y/2068.html' title='Multiple used in 6 places.'>SetViewportMode</a>  = <a href='../Y/1924.html' title='Multiple used in 3 places.'>SVPM_Size</a>;
<a name='L746'> 746     <a href='../Y/2070.html' title='Multiple used in 7 places.'>SetViewportSize</a>[0] = <a href='../Y/4265.html' title='Multiple used in 3 places.'>renderSizeLeft</a>;
<a name='L747'> 747     <a href='../Y/2070.html' title='Multiple used in 7 places.'>SetViewportSize</a>[1] = <a href='../Y/4266.html' title='Multiple used in 3 places.'>renderSizeRight</a>;
<a name='L748'> 748     <b>return</b> <a href='../S/117.html#L671' title='Defined at 671 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>setupViewportScaleAndOffsets</a>();
<a name='L749'> 749 <font color='red'>}</font>
<a name='L750'> 750 
<a name='L751'> 751 <i><font color='green'>// Supply the viewport directly. This is not clamped to the physical rendertarget - careful now!</font></i>
<a name='L752'> 752 <a href='../S/115.html#L125' title='Defined at 125 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>ViewportScaleAndOffsetBothEyes</a> <a href='../Y/2137.html' title='Multiple used in 19 places.'>StereoConfig</a>::<a href='../S/115.html#L262' title='Refered from 262 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>SetRenderViewport</a> ( <a href='../Y/1824.html' title='Multiple used in 9 places.'>Recti</a> <b>const</b> &amp;<a href='../Y/4270.html' title='Multiple used in 3 places.'>renderViewportLeft</a>, <a href='../Y/1824.html' title='Multiple used in 9 places.'>Recti</a> <b>const</b> &amp;<a href='../Y/4271.html' title='Multiple used in 3 places.'>renderViewportRight</a> )
<a name='L753'> 753 <font color='red'>{</font>
<a name='L754'> 754     <a href='../Y/2068.html' title='Multiple used in 6 places.'>SetViewportMode</a>  = <a href='../Y/1925.html' title='Multiple used in 3 places.'>SVPM_Viewport</a>;
<a name='L755'> 755     <a href='../Y/2067.html' title='Multiple used in 7 places.'>SetViewport</a>[0] = <a href='../Y/4270.html' title='Multiple used in 3 places.'>renderViewportLeft</a>;
<a name='L756'> 756     <a href='../Y/2067.html' title='Multiple used in 7 places.'>SetViewport</a>[1] = <a href='../Y/4271.html' title='Multiple used in 3 places.'>renderViewportRight</a>;
<a name='L757'> 757     <b>return</b> <a href='../S/117.html#L671' title='Defined at 671 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>setupViewportScaleAndOffsets</a>();
<a name='L758'> 758 <font color='red'>}</font>
<a name='L759'> 759 
<a name='L760'> 760 <a href='../S/177.html#L1834' title='Defined at 1834 in ovr/sdk/src/Kernel/OVR_Math.h.'>Matrix4f</a> <a href='../Y/2137.html' title='Multiple used in 19 places.'>StereoConfig</a>::<a href='../S/115.html#L242' title='Refered from 242 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>GetProjectionWithZoom</a> ( <a href='../Y/2138.html' title='Multiple used in 16 places.'>StereoEye</a> <a href='../Y/3157.html' title='Multiple used in 64 places.'>eye</a>, <b>float</b> <a href='../Y/3247.html' title='Multiple used in 3 places.'>fovZoom</a> ) <b>const</b>
<a name='L761'> 761 <font color='red'>{</font>
<a name='L762'> 762     <b>int</b> <a href='../Y/3165.html' title='Multiple used in 49 places.'>eyeNum</a> = ( <a href='../Y/3157.html' title='Multiple used in 64 places.'>eye</a> == <a href='../Y/2142.html' title='Multiple used in 24 places.'>StereoEye_Right</a> ) ? 1 : 0;
<a name='L763'> 763     <b>float</b> <a href='../Y/3244.html' title='Multiple used in 10 places.'>fovScale</a> = 1.0f / <a href='../Y/3247.html' title='Multiple used in 3 places.'>fovZoom</a>;
<a name='L764'> 764     <a href='../S/131.html#L65' title='Defined at 65 in ovr/sdk/src/OVR_Stereo.h.'>FovPort</a> <a href='../Y/3242.html' title='Multiple used in 20 places.'>fovPort</a> = <a href='../Y/562.html' title='Multiple used in 42 places.'>EyeRenderParams</a>[<a href='../Y/3165.html' title='Multiple used in 49 places.'>eyeNum</a>].<a href='../S/131.html#L44' title='Defined at 44 in ovr/sdk/src/OVR_Stereo.h.'>StereoEye</a>.<a href='../Y/626.html' title='Multiple used in 28 places.'>Fov</a>;
<a name='L765'> 765     <a href='../Y/3242.html' title='Multiple used in 20 places.'>fovPort</a>.<a href='../Y/1266.html' title='Multiple used in 30 places.'>LeftTan</a>  *= <a href='../Y/3244.html' title='Multiple used in 10 places.'>fovScale</a>;
<a name='L766'> 766     <a href='../Y/3242.html' title='Multiple used in 20 places.'>fovPort</a>.<a href='../S/142.html#L51' title='Defined at 51 in ovr/sdk/src/OVR_CAPI.cpp.'>RightTan</a> *= <a href='../Y/3244.html' title='Multiple used in 10 places.'>fovScale</a>;
<a name='L767'> 767     <a href='../Y/3242.html' title='Multiple used in 20 places.'>fovPort</a>.<a href='../Y/2359.html' title='Multiple used in 30 places.'>UpTan</a>    *= <a href='../Y/3244.html' title='Multiple used in 10 places.'>fovScale</a>;
<a name='L768'> 768     <a href='../Y/3242.html' title='Multiple used in 20 places.'>fovPort</a>.<a href='../Y/467.html' title='Multiple used in 30 places.'>DownTan</a>  *= <a href='../Y/3244.html' title='Multiple used in 10 places.'>fovScale</a>;
<a name='L769'> 769     <b>return</b> <a href='../S/88.html#L1543' title='Defined at 1543 in ovr/sdk/src/OVR_Stereo.cpp.'>CreateProjection</a> ( <a href='../Y/1879.html' title='Multiple used in 5 places.'>RightHandedProjection</a>, <a href='../Y/3242.html' title='Multiple used in 20 places.'>fovPort</a>, <a href='../Y/2513.html' title='Multiple used in 5 places.'>ZNear</a>, <a href='../Y/2512.html' title='Multiple used in 5 places.'>ZFar</a> );
<a name='L770'> 770 <font color='red'>}</font>
<a name='L771'> 771 
<a name='L772'> 772 
<a name='L773'> 773 
<a name='L774'> 774 
<a name='L775'> 775 <i><font color='green'>//-----------------------------------------------------------------------------------</font></i>
<a name='L776'> 776 <i><font color='green'>// *****  Distortion Mesh Rendering</font></i>
<a name='L777'> 777 
<a name='L778'> 778 
<a name='L779'> 779 <i><font color='green'>// Pow2 for the Morton order to work!</font></i>
<a name='L780'> 780 <i><font color='green'>// 4 is too low - it is easy to see the "wobbles" in the HMD.</font></i>
<a name='L781'> 781 <i><font color='green'>// 5 is realllly close but you can see pixel differences with even/odd frame checking.</font></i>
<a name='L782'> 782 <i><font color='green'>// 6 is indistinguishable on a monitor on even/odd frames.</font></i>
<a name='L783'> 783 <b>static</b> <b>const</b> <b>int</b> <a href='../Y/327.html' title='Multiple used in 2 places.'>DMA_GridSizeLog2</a>   = 6;
<a name='L784'> 784 <b>static</b> <b>const</b> <b>int</b> <a href='../Y/326.html' title='Multiple used in 17 places.'>DMA_GridSize</a>       = 1&lt;&lt;<a href='../Y/327.html' title='Multiple used in 2 places.'>DMA_GridSizeLog2</a>;
<a name='L785'> 785 <b>static</b> <b>const</b> <b>int</b> <a href='../Y/329.html' title='Multiple used in 2 places.'>DMA_NumVertsPerEye</a> = (<a href='../Y/326.html' title='Multiple used in 17 places.'>DMA_GridSize</a>+1)*(<a href='../Y/326.html' title='Multiple used in 17 places.'>DMA_GridSize</a>+1);
<a name='L786'> 786 <b>static</b> <b>const</b> <b>int</b> <a href='../Y/328.html' title='Multiple used in 2 places.'>DMA_NumTrisPerEye</a>  = (<a href='../Y/326.html' title='Multiple used in 17 places.'>DMA_GridSize</a>)*(<a href='../Y/326.html' title='Multiple used in 17 places.'>DMA_GridSize</a>)*2;
<a name='L787'> 787 
<a name='L788'> 788 
<a name='L789'> 789 
<a name='L790'> 790 <b>void</b> <a href='../R/201.html' title='Multiple refered from 2 places.'>DistortionMeshDestroy</a> ( <a href='../Y/439.html' title='Multiple used in 3 places.'>DistortionMeshVertexData</a> *<a href='../Y/3993.html' title='Multiple used in 6 places.'>pVertices</a>, <a href='../Y/2327.html' title='Multiple used in 17 places.'>UInt16</a> *<a href='../Y/3988.html' title='Multiple used in 6 places.'>pTriangleMeshIndices</a> )
<a name='L791'> 791 <font color='red'>{</font>
<a name='L792'> 792     <a href='../S/182.html#L313' title='Defined at 313 in ovr/sdk/src/Kernel/OVR_Allocator.h.'>OVR_FREE</a> ( <a href='../Y/3993.html' title='Multiple used in 6 places.'>pVertices</a> );
<a name='L793'> 793     <a href='../S/182.html#L313' title='Defined at 313 in ovr/sdk/src/Kernel/OVR_Allocator.h.'>OVR_FREE</a> ( <a href='../Y/3988.html' title='Multiple used in 6 places.'>pTriangleMeshIndices</a> );
<a name='L794'> 794 <font color='red'>}</font>
<a name='L795'> 795 
<a name='L796'> 796 <b>void</b> <a href='../R/200.html' title='Multiple refered from 4 places.'>DistortionMeshCreate</a> ( <a href='../Y/439.html' title='Multiple used in 3 places.'>DistortionMeshVertexData</a> **<a href='../Y/4098.html' title='Multiple used in 22 places.'>ppVertices</a>, <a href='../Y/2327.html' title='Multiple used in 17 places.'>UInt16</a> **<a href='../Y/4097.html' title='Multiple used in 22 places.'>ppTriangleListIndices</a>,
<a name='L797'> 797                             <b>int</b> *<a href='../Y/3963.html' title='Multiple used in 16 places.'>pNumVertices</a>, <b>int</b> *<a href='../Y/3962.html' title='Multiple used in 16 places.'>pNumTriangles</a>,
<a name='L798'> 798                             <b>const</b> <a href='../Y/2139.html' title='Multiple used in 9 places.'>StereoEyeParams</a> &amp;<a href='../Y/4479.html' title='Multiple used in 8 places.'>stereoParams</a>, <b>const</b> <a href='../Y/927.html' title='Multiple used in 20 places.'>HmdRenderInfo</a> &amp;<a href='../Y/3420.html' title='Multiple used in 30 places.'>hmdRenderInfo</a> )
<a name='L799'> 799 <font color='red'>{</font>
<a name='L800'> 800     <b>bool</b>    <a href='../Y/4309.html' title='Multiple used in 14 places.'>rightEye</a>      = ( <a href='../Y/4479.html' title='Multiple used in 8 places.'>stereoParams</a>.<a href='../Y/540.html' title='Multiple used in 9 places.'>Eye</a> == <a href='../Y/2142.html' title='Multiple used in 24 places.'>StereoEye_Right</a> );
<a name='L801'> 801     <b>int</b>     <a href='../Y/4791.html' title='Multiple used in 9 places.'>vertexCount</a>   = 0;
<a name='L802'> 802     <b>int</b>     <a href='../Y/4656.html' title='Multiple used in 9 places.'>triangleCount</a> = 0;
<a name='L803'> 803 
<a name='L804'> 804     <i><font color='green'>// Generate mesh into allocated data and return result.</font></i>
<a name='L805'> 805     <a href='../D/207.html' title='Multiple defined in 2 places.'>DistortionMeshCreate</a>(<a href='../Y/4098.html' title='Multiple used in 22 places.'>ppVertices</a>, <a href='../Y/4097.html' title='Multiple used in 22 places.'>ppTriangleListIndices</a>, &amp;<a href='../Y/4791.html' title='Multiple used in 9 places.'>vertexCount</a>, &amp;<a href='../Y/4656.html' title='Multiple used in 9 places.'>triangleCount</a>,
<a name='L806'> 806                          <a href='../Y/4309.html' title='Multiple used in 14 places.'>rightEye</a>, <a href='../Y/3420.html' title='Multiple used in 30 places.'>hmdRenderInfo</a>, <a href='../Y/4479.html' title='Multiple used in 8 places.'>stereoParams</a>.<a href='../Y/425.html' title='Multiple used in 49 places.'>Distortion</a>, <a href='../Y/4479.html' title='Multiple used in 8 places.'>stereoParams</a>.<a href='../Y/567.html' title='Multiple used in 12 places.'>EyeToSourceNDC</a>);
<a name='L807'> 807     
<a name='L808'> 808     *<a href='../Y/3963.html' title='Multiple used in 16 places.'>pNumVertices</a>  = <a href='../Y/4791.html' title='Multiple used in 9 places.'>vertexCount</a>;
<a name='L809'> 809     *<a href='../Y/3962.html' title='Multiple used in 16 places.'>pNumTriangles</a> = <a href='../Y/4656.html' title='Multiple used in 9 places.'>triangleCount</a>;
<a name='L810'> 810 <font color='red'>}</font>
<a name='L811'> 811 
<a name='L812'> 812 
<a name='L813'> 813 <i><font color='green'>// Generate distortion mesh for a eye.</font></i>
<a name='L814'> 814 <b>void</b> <a href='../R/200.html' title='Multiple refered from 4 places.'>DistortionMeshCreate</a>( <a href='../Y/439.html' title='Multiple used in 3 places.'>DistortionMeshVertexData</a> **<a href='../Y/4098.html' title='Multiple used in 22 places.'>ppVertices</a>, <a href='../Y/2327.html' title='Multiple used in 17 places.'>UInt16</a> **<a href='../Y/4097.html' title='Multiple used in 22 places.'>ppTriangleListIndices</a>,
<a name='L815'> 815                            <b>int</b> *<a href='../Y/3963.html' title='Multiple used in 16 places.'>pNumVertices</a>, <b>int</b> *<a href='../Y/3962.html' title='Multiple used in 16 places.'>pNumTriangles</a>,
<a name='L816'> 816                            <b>bool</b> <a href='../Y/4309.html' title='Multiple used in 14 places.'>rightEye</a>,
<a name='L817'> 817                            <b>const</b> <a href='../Y/927.html' title='Multiple used in 20 places.'>HmdRenderInfo</a> &amp;<a href='../Y/3420.html' title='Multiple used in 30 places.'>hmdRenderInfo</a>, 
<a name='L818'> 818                            <b>const</b> <a href='../Y/441.html' title='Multiple used in 13 places.'>DistortionRenderDesc</a> &amp;<a href='../Y/3046.html' title='Multiple used in 54 places.'>distortion</a>, <b>const</b> <a href='../Y/1963.html' title='Multiple used in 5 places.'>ScaleAndOffset2D</a> &amp;<a href='../Y/3174.html' title='Multiple used in 20 places.'>eyeToSourceNDC</a> )
<a name='L819'> 819 <font color='red'>{</font>
<a name='L820'> 820     *<a href='../Y/3963.html' title='Multiple used in 16 places.'>pNumVertices</a>  = <a href='../Y/329.html' title='Multiple used in 2 places.'>DMA_NumVertsPerEye</a>;
<a name='L821'> 821     *<a href='../Y/3962.html' title='Multiple used in 16 places.'>pNumTriangles</a> = <a href='../Y/328.html' title='Multiple used in 2 places.'>DMA_NumTrisPerEye</a>;
<a name='L822'> 822 
<a name='L823'> 823     *<a href='../Y/4098.html' title='Multiple used in 22 places.'>ppVertices</a> = (<a href='../S/115.html#L320' title='Defined at 320 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>DistortionMeshVertexData</a>*)
<a name='L824'> 824                       <a href='../D/657.html' title='Multiple defined in 2 places.'>OVR_ALLOC</a>( <b>sizeof</b>(<a href='../S/115.html#L320' title='Defined at 320 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>DistortionMeshVertexData</a>) * (*<a href='../Y/3963.html' title='Multiple used in 16 places.'>pNumVertices</a>) );
<a name='L825'> 825     *<a href='../Y/4097.html' title='Multiple used in 22 places.'>ppTriangleListIndices</a>  = (<a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a>*) <a href='../D/657.html' title='Multiple defined in 2 places.'>OVR_ALLOC</a>( <b>sizeof</b>(<a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a>) * (*<a href='../Y/3962.html' title='Multiple used in 16 places.'>pNumTriangles</a>) * 3 );
<a name='L826'> 826 
<a name='L827'> 827     <b>if</b> (!*<a href='../Y/4098.html' title='Multiple used in 22 places.'>ppVertices</a> || !*<a href='../Y/4097.html' title='Multiple used in 22 places.'>ppTriangleListIndices</a>)
<a name='L828'> 828     <font color='red'>{</font>
<a name='L829'> 829         <b>if</b> (*<a href='../Y/4098.html' title='Multiple used in 22 places.'>ppVertices</a>)
<a name='L830'> 830         <font color='red'>{</font>
<a name='L831'> 831             <a href='../S/182.html#L313' title='Defined at 313 in ovr/sdk/src/Kernel/OVR_Allocator.h.'>OVR_FREE</a>(*<a href='../Y/4098.html' title='Multiple used in 22 places.'>ppVertices</a>);
<a name='L832'> 832         <font color='red'>}</font>
<a name='L833'> 833         <b>if</b> (*<a href='../Y/4097.html' title='Multiple used in 22 places.'>ppTriangleListIndices</a>)
<a name='L834'> 834         <font color='red'>{</font>
<a name='L835'> 835             <a href='../S/182.html#L313' title='Defined at 313 in ovr/sdk/src/Kernel/OVR_Allocator.h.'>OVR_FREE</a>(*<a href='../Y/4097.html' title='Multiple used in 22 places.'>ppTriangleListIndices</a>);
<a name='L836'> 836         <font color='red'>}</font>
<a name='L837'> 837         *<a href='../Y/4098.html' title='Multiple used in 22 places.'>ppVertices</a>             = <a href='../Y/1448.html' title='Multiple used in 256 places.'>NULL</a>;
<a name='L838'> 838         *<a href='../Y/4097.html' title='Multiple used in 22 places.'>ppTriangleListIndices</a>  = <a href='../Y/1448.html' title='Multiple used in 256 places.'>NULL</a>;
<a name='L839'> 839         *<a href='../Y/3962.html' title='Multiple used in 16 places.'>pNumTriangles</a>          = 0;
<a name='L840'> 840         *<a href='../Y/3963.html' title='Multiple used in 16 places.'>pNumVertices</a>           = 0;
<a name='L841'> 841         <b>return</b>;
<a name='L842'> 842     <font color='red'>}</font>
<a name='L843'> 843 
<a name='L844'> 844     <i><font color='green'>// When does the fade-to-black edge start? Chosen heuristically.</font></i>
<a name='L845'> 845     <b>const</b> <b>float</b> <a href='../Y/3195.html' title='Multiple used in 3 places.'>fadeOutBorderFraction</a> = 0.075f;
<a name='L846'> 846       
<a name='L847'> 847     
<a name='L848'> 848     <i><font color='green'>// Populate vertex buffer info</font></i>
<a name='L849'> 849     <b>float</b> <a href='../Y/4878.html' title='Multiple used in 5 places.'>xOffset</a> = 0.0f;
<a name='L850'> 850     <b>float</b> <a href='../Y/4683.html' title='Multiple used in 5 places.'>uOffset</a> = 0.0f;
<a name='L851'> 851     <a href='../D/810.html' title='Multiple defined in 2 places.'>OVR_UNUSED</a>(<a href='../Y/4683.html' title='Multiple used in 5 places.'>uOffset</a>);
<a name='L852'> 852 
<a name='L853'> 853     <b>if</b> (<a href='../Y/4309.html' title='Multiple used in 14 places.'>rightEye</a>)
<a name='L854'> 854     <font color='red'>{</font>
<a name='L855'> 855         <a href='../Y/4878.html' title='Multiple used in 5 places.'>xOffset</a> = 1.0f;
<a name='L856'> 856         <a href='../Y/4683.html' title='Multiple used in 5 places.'>uOffset</a> = 0.5f;
<a name='L857'> 857     <font color='red'>}</font>
<a name='L858'> 858 
<a name='L859'> 859     <i><font color='green'>// First pass - build up raw vertex data.</font></i>
<a name='L860'> 860     <a href='../S/115.html#L320' title='Defined at 320 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>DistortionMeshVertexData</a>* <a href='../Y/4018.html' title='Multiple used in 25 places.'>pcurVert</a> = *<a href='../Y/4098.html' title='Multiple used in 22 places.'>ppVertices</a>;
<a name='L861'> 861 
<a name='L862'> 862     <b>for</b> ( <b>int</b> <a href='../Y/4884.html' title='Multiple used in 286 places.'>y</a> = 0; <a href='../Y/4884.html' title='Multiple used in 286 places.'>y</a> &lt;= <a href='../Y/326.html' title='Multiple used in 17 places.'>DMA_GridSize</a>; <a href='../Y/4884.html' title='Multiple used in 286 places.'>y</a>++ )
<a name='L863'> 863     <font color='red'>{</font>
<a name='L864'> 864         <b>for</b> ( <b>int</b> <a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a> = 0; <a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a> &lt;= <a href='../Y/326.html' title='Multiple used in 17 places.'>DMA_GridSize</a>; <a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a>++ )
<a name='L865'> 865         <font color='red'>{</font>
<a name='L866'> 866 
<a name='L867'> 867             <a href='../S/177.html#L382' title='Defined at 382 in ovr/sdk/src/Kernel/OVR_Math.h.'>Vector2f</a> <a href='../Y/4431.html' title='Multiple used in 14 places.'>sourceCoordNDC</a>;
<a name='L868'> 868             <i><font color='green'>// NDC texture coords [-1,+1]</font></i>
<a name='L869'> 869             <a href='../Y/4431.html' title='Multiple used in 14 places.'>sourceCoordNDC</a>.<a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a> = 2.0f * ( (<b>float</b>)<a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a> / (<b>float</b>)<a href='../Y/326.html' title='Multiple used in 17 places.'>DMA_GridSize</a> ) - 1.0f;
<a name='L870'> 870             <a href='../Y/4431.html' title='Multiple used in 14 places.'>sourceCoordNDC</a>.<a href='../Y/4884.html' title='Multiple used in 286 places.'>y</a> = 2.0f * ( (<b>float</b>)<a href='../Y/4884.html' title='Multiple used in 286 places.'>y</a> / (<b>float</b>)<a href='../Y/326.html' title='Multiple used in 17 places.'>DMA_GridSize</a> ) - 1.0f;
<a name='L871'> 871             <a href='../S/177.html#L382' title='Defined at 382 in ovr/sdk/src/Kernel/OVR_Math.h.'>Vector2f</a> <a href='../Y/4547.html' title='Multiple used in 31 places.'>tanEyeAngle</a> = <a href='../S/88.html#L1788' title='Defined at 1788 in ovr/sdk/src/OVR_Stereo.cpp.'>TransformRendertargetNDCToTanFovSpace</a> ( <a href='../Y/3174.html' title='Multiple used in 20 places.'>eyeToSourceNDC</a>, <a href='../Y/4431.html' title='Multiple used in 14 places.'>sourceCoordNDC</a> );
<a name='L872'> 872 
<a name='L873'> 873             <i><font color='green'>// This is the function that does the really heavy lifting.</font></i>
<a name='L874'> 874             <a href='../S/177.html#L382' title='Defined at 382 in ovr/sdk/src/Kernel/OVR_Math.h.'>Vector2f</a> <a href='../Y/4362.html' title='Multiple used in 10 places.'>screenNDC</a> = <a href='../S/88.html#L1766' title='Defined at 1766 in ovr/sdk/src/OVR_Stereo.cpp.'>TransformTanFovSpaceToScreenNDC</a> ( <a href='../Y/3046.html' title='Multiple used in 54 places.'>distortion</a>, <a href='../Y/4547.html' title='Multiple used in 31 places.'>tanEyeAngle</a>, <b>false</b> );
<a name='L875'> 875 
<a name='L876'> 876             <i><font color='green'>// We then need RGB UVs. Since chromatic aberration is generated from screen coords, not</font></i>
<a name='L877'> 877             <i><font color='green'>// directly from texture NDCs, we can't just use tanEyeAngle, we need to go the long way round.</font></i>
<a name='L878'> 878             <a href='../S/177.html#L382' title='Defined at 382 in ovr/sdk/src/Kernel/OVR_Math.h.'>Vector2f</a> <a href='../Y/4553.html' title='Multiple used in 3 places.'>tanEyeAnglesR</a>, <a href='../Y/4552.html' title='Multiple used in 3 places.'>tanEyeAnglesG</a>, <a href='../Y/4551.html' title='Multiple used in 3 places.'>tanEyeAnglesB</a>;
<a name='L879'> 879             <a href='../S/88.html#L1691' title='Defined at 1691 in ovr/sdk/src/OVR_Stereo.cpp.'>TransformScreenNDCToTanFovSpaceChroma</a> ( &amp;<a href='../Y/4553.html' title='Multiple used in 3 places.'>tanEyeAnglesR</a>, &amp;<a href='../Y/4552.html' title='Multiple used in 3 places.'>tanEyeAnglesG</a>, &amp;<a href='../Y/4551.html' title='Multiple used in 3 places.'>tanEyeAnglesB</a>,
<a name='L880'> 880                                                     <a href='../Y/3046.html' title='Multiple used in 54 places.'>distortion</a>, <a href='../Y/4362.html' title='Multiple used in 10 places.'>screenNDC</a> );
<a name='L881'> 881                         
<a name='L882'> 882                         <a href='../Y/4018.html' title='Multiple used in 25 places.'>pcurVert</a>-&gt;<a href='../Y/2191.html' title='Multiple used in 3 places.'>TanEyeAnglesR</a> = <a href='../Y/4553.html' title='Multiple used in 3 places.'>tanEyeAnglesR</a>;
<a name='L883'> 883                         <a href='../Y/4018.html' title='Multiple used in 25 places.'>pcurVert</a>-&gt;<a href='../Y/2190.html' title='Multiple used in 3 places.'>TanEyeAnglesG</a> = <a href='../Y/4552.html' title='Multiple used in 3 places.'>tanEyeAnglesG</a>;
<a name='L884'> 884                         <a href='../Y/4018.html' title='Multiple used in 25 places.'>pcurVert</a>-&gt;<a href='../Y/2189.html' title='Multiple used in 3 places.'>TanEyeAnglesB</a> = <a href='../Y/4551.html' title='Multiple used in 3 places.'>tanEyeAnglesB</a>;
<a name='L885'> 885                         
<a name='L886'> 886 
<a name='L887'> 887             <a href='../S/85.html#L95' title='Defined at 95 in ovr/sdk/src/OVR_DeviceConstants.h.'>HmdShutterTypeEnum</a> <a href='../Y/4399.html' title='Multiple used in 9 places.'>shutterType</a> = <a href='../Y/3420.html' title='Multiple used in 30 places.'>hmdRenderInfo</a>.<a href='../Y/2089.html' title='Multiple used in 117 places.'>Shutter</a>.<a href='../D/1210.html' title='Multiple defined in 21 places.'>Type</a>;
<a name='L888'> 888             <b>switch</b> ( <a href='../Y/4399.html' title='Multiple used in 9 places.'>shutterType</a> )
<a name='L889'> 889             <font color='red'>{</font>
<a name='L890'> 890             <b>case</b> <a href='../Y/929.html' title='Multiple used in 5 places.'>HmdShutter_Global</a>:
<a name='L891'> 891                 <a href='../Y/4018.html' title='Multiple used in 25 places.'>pcurVert</a>-&gt;<a href='../Y/2266.html' title='Multiple used in 15 places.'>TimewarpLerp</a> = 0.0f;
<a name='L892'> 892                 <b>break</b>;
<a name='L893'> 893             <b>case</b> <a href='../Y/931.html' title='Multiple used in 4 places.'>HmdShutter_RollingLeftToRight</a>:
<a name='L894'> 894                 <i><font color='green'>// Retrace is left to right - left eye goes 0.0 -&gt; 0.5, then right goes 0.5 -&gt; 1.0</font></i>
<a name='L895'> 895                 <a href='../Y/4018.html' title='Multiple used in 25 places.'>pcurVert</a>-&gt;<a href='../Y/2266.html' title='Multiple used in 15 places.'>TimewarpLerp</a> = <a href='../Y/4362.html' title='Multiple used in 10 places.'>screenNDC</a>.<a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a> * 0.25f + 0.25f;
<a name='L896'> 896                 <b>if</b> (<a href='../Y/4309.html' title='Multiple used in 14 places.'>rightEye</a>)
<a name='L897'> 897                 <font color='red'>{</font>
<a name='L898'> 898                     <a href='../Y/4018.html' title='Multiple used in 25 places.'>pcurVert</a>-&gt;<a href='../Y/2266.html' title='Multiple used in 15 places.'>TimewarpLerp</a> += 0.5f;
<a name='L899'> 899                 <font color='red'>}</font>
<a name='L900'> 900                 <b>break</b>;
<a name='L901'> 901             <b>case</b> <a href='../Y/932.html' title='Multiple used in 12 places.'>HmdShutter_RollingRightToLeft</a>:
<a name='L902'> 902                 <i><font color='green'>// Retrace is right to left - right eye goes 0.0 -&gt; 0.5, then left goes 0.5 -&gt; 1.0</font></i>
<a name='L903'> 903                 <a href='../Y/4018.html' title='Multiple used in 25 places.'>pcurVert</a>-&gt;<a href='../Y/2266.html' title='Multiple used in 15 places.'>TimewarpLerp</a> = 0.75f - <a href='../Y/4362.html' title='Multiple used in 10 places.'>screenNDC</a>.<a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a> * 0.25f;
<a name='L904'> 904                 <b>if</b> (<a href='../Y/4309.html' title='Multiple used in 14 places.'>rightEye</a>)
<a name='L905'> 905                 <font color='red'>{</font>
<a name='L906'> 906                     <a href='../Y/4018.html' title='Multiple used in 25 places.'>pcurVert</a>-&gt;<a href='../Y/2266.html' title='Multiple used in 15 places.'>TimewarpLerp</a> -= 0.5f;
<a name='L907'> 907                 <font color='red'>}</font>
<a name='L908'> 908                 <b>break</b>;
<a name='L909'> 909             <b>case</b> <a href='../Y/933.html' title='Multiple used in 8 places.'>HmdShutter_RollingTopToBottom</a>:
<a name='L910'> 910                 <i><font color='green'>// Retrace is top to bottom on both eyes at the same time.</font></i>
<a name='L911'> 911                 <a href='../Y/4018.html' title='Multiple used in 25 places.'>pcurVert</a>-&gt;<a href='../Y/2266.html' title='Multiple used in 15 places.'>TimewarpLerp</a> = <a href='../Y/4362.html' title='Multiple used in 10 places.'>screenNDC</a>.<a href='../Y/4884.html' title='Multiple used in 286 places.'>y</a> * 0.5f + 0.5f;
<a name='L912'> 912                 <b>break</b>;
<a name='L913'> 913             <b>default</b>: <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a> ( <b>false</b> ); <b>break</b>;
<a name='L914'> 914             <font color='red'>}</font>
<a name='L915'> 915 
<a name='L916'> 916             <i><font color='green'>// Fade out at texture edges.</font></i>
<a name='L917'> 917             <b>float</b> <a href='../Y/3093.html' title='Multiple used in 3 places.'>edgeFadeIn</a>       = ( 1.0f / <a href='../Y/3195.html' title='Multiple used in 3 places.'>fadeOutBorderFraction</a> ) *
<a name='L918'> 918                                      ( 1.0f - <a href='../S/176.html#L29' title='Defined at 29 in ovr/sdk/src/Kernel/OVR_Alg.cpp.'>Alg</a>::<a href='../Y/1370.html' title='Multiple used in 38 places.'>Max</a> ( <a href='../S/176.html#L29' title='Defined at 29 in ovr/sdk/src/Kernel/OVR_Alg.cpp.'>Alg</a>::<a href='../Y/14.html' title='Multiple used in 18 places.'>Abs</a> ( <a href='../Y/4431.html' title='Multiple used in 14 places.'>sourceCoordNDC</a>.<a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a> ), <a href='../S/176.html#L29' title='Defined at 29 in ovr/sdk/src/Kernel/OVR_Alg.cpp.'>Alg</a>::<a href='../Y/14.html' title='Multiple used in 18 places.'>Abs</a> ( <a href='../Y/4431.html' title='Multiple used in 14 places.'>sourceCoordNDC</a>.<a href='../Y/4884.html' title='Multiple used in 286 places.'>y</a> ) ) );
<a name='L919'> 919             <i><font color='green'>// Also fade out at screen edges.</font></i>
<a name='L920'> 920             <b>float</b> <a href='../Y/3094.html' title='Multiple used in 2 places.'>edgeFadeInScreen</a> = ( 2.0f / <a href='../Y/3195.html' title='Multiple used in 3 places.'>fadeOutBorderFraction</a> ) *
<a name='L921'> 921                                      ( 1.0f - <a href='../S/176.html#L29' title='Defined at 29 in ovr/sdk/src/Kernel/OVR_Alg.cpp.'>Alg</a>::<a href='../Y/1370.html' title='Multiple used in 38 places.'>Max</a> ( <a href='../S/176.html#L29' title='Defined at 29 in ovr/sdk/src/Kernel/OVR_Alg.cpp.'>Alg</a>::<a href='../Y/14.html' title='Multiple used in 18 places.'>Abs</a> ( <a href='../Y/4362.html' title='Multiple used in 10 places.'>screenNDC</a>.<a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a> ), <a href='../S/176.html#L29' title='Defined at 29 in ovr/sdk/src/Kernel/OVR_Alg.cpp.'>Alg</a>::<a href='../Y/14.html' title='Multiple used in 18 places.'>Abs</a> ( <a href='../Y/4362.html' title='Multiple used in 10 places.'>screenNDC</a>.<a href='../Y/4884.html' title='Multiple used in 286 places.'>y</a> ) ) );
<a name='L922'> 922             <a href='../Y/3093.html' title='Multiple used in 3 places.'>edgeFadeIn</a> = <a href='../S/176.html#L29' title='Defined at 29 in ovr/sdk/src/Kernel/OVR_Alg.cpp.'>Alg</a>::<a href='../Y/1422.html' title='Multiple used in 33 places.'>Min</a> ( <a href='../Y/3094.html' title='Multiple used in 2 places.'>edgeFadeInScreen</a>, <a href='../Y/3093.html' title='Multiple used in 3 places.'>edgeFadeIn</a> );
<a name='L923'> 923 
<a name='L924'> 924             <i><font color='green'>// Don't let verts overlap to the other eye.</font></i>
<a name='L925'> 925             <a href='../Y/4362.html' title='Multiple used in 10 places.'>screenNDC</a>.<a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a> = <a href='../S/176.html#L29' title='Defined at 29 in ovr/sdk/src/Kernel/OVR_Alg.cpp.'>Alg</a>::<a href='../Y/1370.html' title='Multiple used in 38 places.'>Max</a> ( -1.0f, <a href='../S/176.html#L29' title='Defined at 29 in ovr/sdk/src/Kernel/OVR_Alg.cpp.'>Alg</a>::<a href='../Y/1422.html' title='Multiple used in 33 places.'>Min</a> ( <a href='../Y/4362.html' title='Multiple used in 10 places.'>screenNDC</a>.<a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a>, 1.0f ) );
<a name='L926'> 926             <a href='../Y/4362.html' title='Multiple used in 10 places.'>screenNDC</a>.<a href='../Y/4884.html' title='Multiple used in 286 places.'>y</a> = <a href='../S/176.html#L29' title='Defined at 29 in ovr/sdk/src/Kernel/OVR_Alg.cpp.'>Alg</a>::<a href='../Y/1370.html' title='Multiple used in 38 places.'>Max</a> ( -1.0f, <a href='../S/176.html#L29' title='Defined at 29 in ovr/sdk/src/Kernel/OVR_Alg.cpp.'>Alg</a>::<a href='../Y/1422.html' title='Multiple used in 33 places.'>Min</a> ( <a href='../Y/4362.html' title='Multiple used in 10 places.'>screenNDC</a>.<a href='../Y/4884.html' title='Multiple used in 286 places.'>y</a>, 1.0f ) );
<a name='L927'> 927 
<a name='L928'> 928             <a href='../Y/4018.html' title='Multiple used in 25 places.'>pcurVert</a>-&gt;<a href='../Y/2076.html' title='Multiple used in 3 places.'>Shade</a> = <a href='../S/176.html#L29' title='Defined at 29 in ovr/sdk/src/Kernel/OVR_Alg.cpp.'>Alg</a>::<a href='../Y/1370.html' title='Multiple used in 38 places.'>Max</a> ( 0.0f, <a href='../S/176.html#L29' title='Defined at 29 in ovr/sdk/src/Kernel/OVR_Alg.cpp.'>Alg</a>::<a href='../Y/1422.html' title='Multiple used in 33 places.'>Min</a> ( <a href='../Y/3093.html' title='Multiple used in 3 places.'>edgeFadeIn</a>, 1.0f ) );
<a name='L929'> 929             <a href='../Y/4018.html' title='Multiple used in 25 places.'>pcurVert</a>-&gt;<a href='../Y/1972.html' title='Multiple used in 7 places.'>ScreenPosNDC</a>.<a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a> = 0.5f * <a href='../Y/4362.html' title='Multiple used in 10 places.'>screenNDC</a>.<a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a> - 0.5f + <a href='../Y/4878.html' title='Multiple used in 5 places.'>xOffset</a>;
<a name='L930'> 930             <a href='../Y/4018.html' title='Multiple used in 25 places.'>pcurVert</a>-&gt;<a href='../Y/1972.html' title='Multiple used in 7 places.'>ScreenPosNDC</a>.<a href='../Y/4884.html' title='Multiple used in 286 places.'>y</a> = -<a href='../Y/4362.html' title='Multiple used in 10 places.'>screenNDC</a>.<a href='../Y/4884.html' title='Multiple used in 286 places.'>y</a>;
<a name='L931'> 931 
<a name='L932'> 932             <a href='../Y/4018.html' title='Multiple used in 25 places.'>pcurVert</a>++;
<a name='L933'> 933         <font color='red'>}</font>
<a name='L934'> 934     <font color='red'>}</font>
<a name='L935'> 935 
<a name='L936'> 936 
<a name='L937'> 937     <i><font color='green'>// Populate index buffer info  </font></i>
<a name='L938'> 938     <a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a> *<a href='../Y/4017.html' title='Multiple used in 26 places.'>pcurIndex</a> = *<a href='../Y/4097.html' title='Multiple used in 22 places.'>ppTriangleListIndices</a>;
<a name='L939'> 939 
<a name='L940'> 940     <b>for</b> ( <b>int</b> <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> = 0; <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &lt; <a href='../Y/326.html' title='Multiple used in 17 places.'>DMA_GridSize</a> * <a href='../Y/326.html' title='Multiple used in 17 places.'>DMA_GridSize</a>; <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a>++ )
<a name='L941'> 941     <font color='red'>{</font>
<a name='L942'> 942         <i><font color='green'>// Use a Morton order to help locality of FB, texture and vertex cache.</font></i>
<a name='L943'> 943         <i><font color='green'>// (0.325ms raster order -&gt; 0.257ms Morton order)</font></i>
<a name='L944'> 944         <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a> ( <a href='../Y/326.html' title='Multiple used in 17 places.'>DMA_GridSize</a> &lt;= 256 );
<a name='L945'> 945         <b>int</b> <a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a> = ( ( <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &amp; 0x0001 ) &gt;&gt; 0 ) |
<a name='L946'> 946                 ( ( <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &amp; 0x0004 ) &gt;&gt; 1 ) |
<a name='L947'> 947                 ( ( <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &amp; 0x0010 ) &gt;&gt; 2 ) |
<a name='L948'> 948                 ( ( <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &amp; 0x0040 ) &gt;&gt; 3 ) |
<a name='L949'> 949                 ( ( <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &amp; 0x0100 ) &gt;&gt; 4 ) |
<a name='L950'> 950                 ( ( <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &amp; 0x0400 ) &gt;&gt; 5 ) |
<a name='L951'> 951                 ( ( <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &amp; 0x1000 ) &gt;&gt; 6 ) |
<a name='L952'> 952                 ( ( <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &amp; 0x4000 ) &gt;&gt; 7 );
<a name='L953'> 953         <b>int</b> <a href='../Y/4884.html' title='Multiple used in 286 places.'>y</a> = ( ( <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &amp; 0x0002 ) &gt;&gt; 1 ) |
<a name='L954'> 954                 ( ( <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &amp; 0x0008 ) &gt;&gt; 2 ) |
<a name='L955'> 955                 ( ( <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &amp; 0x0020 ) &gt;&gt; 3 ) |
<a name='L956'> 956                 ( ( <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &amp; 0x0080 ) &gt;&gt; 4 ) |
<a name='L957'> 957                 ( ( <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &amp; 0x0200 ) &gt;&gt; 5 ) |
<a name='L958'> 958                 ( ( <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &amp; 0x0800 ) &gt;&gt; 6 ) |
<a name='L959'> 959                 ( ( <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &amp; 0x2000 ) &gt;&gt; 7 ) |
<a name='L960'> 960                 ( ( <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &amp; 0x8000 ) &gt;&gt; 8 );
<a name='L961'> 961         <b>int</b> <a href='../Y/612.html' title='Multiple used in 26 places.'>FirstVertex</a> = <a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a> * (<a href='../Y/326.html' title='Multiple used in 17 places.'>DMA_GridSize</a>+1) + <a href='../Y/4884.html' title='Multiple used in 286 places.'>y</a>;
<a name='L962'> 962         <i><font color='green'>// Another twist - we want the top-left and bottom-right quadrants to</font></i>
<a name='L963'> 963         <i><font color='green'>// have the triangles split one way, the other two split the other.</font></i>
<a name='L964'> 964         <i><font color='green'>// +---+---+---+---+</font></i>
<a name='L965'> 965         <i><font color='green'>// |  /|  /|\  |\  |</font></i>
<a name='L966'> 966         <i><font color='green'>// | / | / | \ | \ |</font></i>
<a name='L967'> 967         <i><font color='green'>// |/  |/  |  \|  \|</font></i>
<a name='L968'> 968         <i><font color='green'>// +---+---+---+---+</font></i>
<a name='L969'> 969         <i><font color='green'>// |  /|  /|\  |\  |</font></i>
<a name='L970'> 970         <i><font color='green'>// | / | / | \ | \ |</font></i>
<a name='L971'> 971         <i><font color='green'>// |/  |/  |  \|  \|</font></i>
<a name='L972'> 972         <i><font color='green'>// +---+---+---+---+</font></i>
<a name='L973'> 973         <i><font color='green'>// |\  |\  |  /|  /|</font></i>
<a name='L974'> 974         <i><font color='green'>// | \ | \ | / | / |</font></i>
<a name='L975'> 975         <i><font color='green'>// |  \|  \|/  |/  |</font></i>
<a name='L976'> 976         <i><font color='green'>// +---+---+---+---+</font></i>
<a name='L977'> 977         <i><font color='green'>// |\  |\  |  /|  /|</font></i>
<a name='L978'> 978         <i><font color='green'>// | \ | \ | / | / |</font></i>
<a name='L979'> 979         <i><font color='green'>// |  \|  \|/  |/  |</font></i>
<a name='L980'> 980         <i><font color='green'>// +---+---+---+---+</font></i>
<a name='L981'> 981         <i><font color='green'>// This way triangle edges don't span long distances over the distortion function,</font></i>
<a name='L982'> 982         <i><font color='green'>// so linear interpolation works better &amp; we can use fewer tris.</font></i>
<a name='L983'> 983         <b>if</b> ( ( <a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a> &lt; <a href='../Y/326.html' title='Multiple used in 17 places.'>DMA_GridSize</a>/2 ) != ( <a href='../Y/4884.html' title='Multiple used in 286 places.'>y</a> &lt; <a href='../Y/326.html' title='Multiple used in 17 places.'>DMA_GridSize</a>/2 ) )       <i><font color='green'>// != is logical XOR</font></i>
<a name='L984'> 984         <font color='red'>{</font>
<a name='L985'> 985             *<a href='../Y/4017.html' title='Multiple used in 26 places.'>pcurIndex</a>++ = (<a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a>)<a href='../Y/612.html' title='Multiple used in 26 places.'>FirstVertex</a>;
<a name='L986'> 986             *<a href='../Y/4017.html' title='Multiple used in 26 places.'>pcurIndex</a>++ = (<a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a>)<a href='../Y/612.html' title='Multiple used in 26 places.'>FirstVertex</a>+1;
<a name='L987'> 987             *<a href='../Y/4017.html' title='Multiple used in 26 places.'>pcurIndex</a>++ = (<a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a>)<a href='../Y/612.html' title='Multiple used in 26 places.'>FirstVertex</a>+(<a href='../Y/326.html' title='Multiple used in 17 places.'>DMA_GridSize</a>+1)+1;
<a name='L988'> 988 
<a name='L989'> 989             *<a href='../Y/4017.html' title='Multiple used in 26 places.'>pcurIndex</a>++ = (<a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a>)<a href='../Y/612.html' title='Multiple used in 26 places.'>FirstVertex</a>+(<a href='../Y/326.html' title='Multiple used in 17 places.'>DMA_GridSize</a>+1)+1;
<a name='L990'> 990             *<a href='../Y/4017.html' title='Multiple used in 26 places.'>pcurIndex</a>++ = (<a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a>)<a href='../Y/612.html' title='Multiple used in 26 places.'>FirstVertex</a>+(<a href='../Y/326.html' title='Multiple used in 17 places.'>DMA_GridSize</a>+1);
<a name='L991'> 991             *<a href='../Y/4017.html' title='Multiple used in 26 places.'>pcurIndex</a>++ = (<a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a>)<a href='../Y/612.html' title='Multiple used in 26 places.'>FirstVertex</a>;
<a name='L992'> 992         <font color='red'>}</font>
<a name='L993'> 993         <b>else</b>
<a name='L994'> 994         <font color='red'>{</font>
<a name='L995'> 995             *<a href='../Y/4017.html' title='Multiple used in 26 places.'>pcurIndex</a>++ = (<a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a>)<a href='../Y/612.html' title='Multiple used in 26 places.'>FirstVertex</a>;
<a name='L996'> 996             *<a href='../Y/4017.html' title='Multiple used in 26 places.'>pcurIndex</a>++ = (<a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a>)<a href='../Y/612.html' title='Multiple used in 26 places.'>FirstVertex</a>+1;
<a name='L997'> 997             *<a href='../Y/4017.html' title='Multiple used in 26 places.'>pcurIndex</a>++ = (<a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a>)<a href='../Y/612.html' title='Multiple used in 26 places.'>FirstVertex</a>+(<a href='../Y/326.html' title='Multiple used in 17 places.'>DMA_GridSize</a>+1);
<a name='L998'> 998 
<a name='L999'> 999             *<a href='../Y/4017.html' title='Multiple used in 26 places.'>pcurIndex</a>++ = (<a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a>)<a href='../Y/612.html' title='Multiple used in 26 places.'>FirstVertex</a>+1;
<a name='L1000'>1000             *<a href='../Y/4017.html' title='Multiple used in 26 places.'>pcurIndex</a>++ = (<a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a>)<a href='../Y/612.html' title='Multiple used in 26 places.'>FirstVertex</a>+(<a href='../Y/326.html' title='Multiple used in 17 places.'>DMA_GridSize</a>+1)+1;
<a name='L1001'>1001             *<a href='../Y/4017.html' title='Multiple used in 26 places.'>pcurIndex</a>++ = (<a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a>)<a href='../Y/612.html' title='Multiple used in 26 places.'>FirstVertex</a>+(<a href='../Y/326.html' title='Multiple used in 17 places.'>DMA_GridSize</a>+1);
<a name='L1002'>1002         <font color='red'>}</font>
<a name='L1003'>1003     <font color='red'>}</font>
<a name='L1004'>1004 <font color='red'>}</font>
<a name='L1005'>1005 
<a name='L1006'>1006 <i><font color='green'>//-----------------------------------------------------------------------------------</font></i>
<a name='L1007'>1007 <i><font color='green'>// *****  Heightmap Mesh Rendering</font></i>
<a name='L1008'>1008 
<a name='L1009'>1009 
<a name='L1010'>1010 <b>static</b> <b>const</b> <b>int</b> <a href='../Y/868.html' title='Multiple used in 2 places.'>HMA_GridSizeLog2</a>   = 7;
<a name='L1011'>1011 <b>static</b> <b>const</b> <b>int</b> <a href='../Y/867.html' title='Multiple used in 17 places.'>HMA_GridSize</a>       = 1&lt;&lt;<a href='../Y/868.html' title='Multiple used in 2 places.'>HMA_GridSizeLog2</a>;
<a name='L1012'>1012 <b>static</b> <b>const</b> <b>int</b> <a href='../Y/870.html' title='Multiple used in 2 places.'>HMA_NumVertsPerEye</a> = (<a href='../Y/867.html' title='Multiple used in 17 places.'>HMA_GridSize</a>+1)*(<a href='../Y/867.html' title='Multiple used in 17 places.'>HMA_GridSize</a>+1);
<a name='L1013'>1013 <b>static</b> <b>const</b> <b>int</b> <a href='../Y/869.html' title='Multiple used in 2 places.'>HMA_NumTrisPerEye</a>  = (<a href='../Y/867.html' title='Multiple used in 17 places.'>HMA_GridSize</a>)*(<a href='../Y/867.html' title='Multiple used in 17 places.'>HMA_GridSize</a>)*2;
<a name='L1014'>1014 
<a name='L1015'>1015 
<a name='L1016'>1016 <b>void</b> <a href='../S/115.html#L381' title='Refered from 381 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>HeightmapMeshDestroy</a> ( <a href='../Y/919.html' title='Multiple used in 3 places.'>HeightmapMeshVertexData</a> *<a href='../Y/3993.html' title='Multiple used in 6 places.'>pVertices</a>, <a href='../Y/2327.html' title='Multiple used in 17 places.'>UInt16</a> *<a href='../Y/3988.html' title='Multiple used in 6 places.'>pTriangleMeshIndices</a> )
<a name='L1017'>1017 <font color='red'>{</font>
<a name='L1018'>1018     <a href='../S/182.html#L313' title='Defined at 313 in ovr/sdk/src/Kernel/OVR_Allocator.h.'>OVR_FREE</a> ( <a href='../Y/3993.html' title='Multiple used in 6 places.'>pVertices</a> );
<a name='L1019'>1019     <a href='../S/182.html#L313' title='Defined at 313 in ovr/sdk/src/Kernel/OVR_Allocator.h.'>OVR_FREE</a> ( <a href='../Y/3988.html' title='Multiple used in 6 places.'>pTriangleMeshIndices</a> );
<a name='L1020'>1020 <font color='red'>}</font>
<a name='L1021'>1021 
<a name='L1022'>1022 <b>void</b> <a href='../R/441.html' title='Multiple refered from 3 places.'>HeightmapMeshCreate</a> ( <a href='../Y/919.html' title='Multiple used in 3 places.'>HeightmapMeshVertexData</a> **<a href='../Y/4098.html' title='Multiple used in 22 places.'>ppVertices</a>, <a href='../Y/2327.html' title='Multiple used in 17 places.'>UInt16</a> **<a href='../Y/4097.html' title='Multiple used in 22 places.'>ppTriangleListIndices</a>,
<a name='L1023'>1023     <b>int</b> *<a href='../Y/3963.html' title='Multiple used in 16 places.'>pNumVertices</a>, <b>int</b> *<a href='../Y/3962.html' title='Multiple used in 16 places.'>pNumTriangles</a>,
<a name='L1024'>1024     <b>const</b> <a href='../Y/2139.html' title='Multiple used in 9 places.'>StereoEyeParams</a> &amp;<a href='../Y/4479.html' title='Multiple used in 8 places.'>stereoParams</a>, <b>const</b> <a href='../Y/927.html' title='Multiple used in 20 places.'>HmdRenderInfo</a> &amp;<a href='../Y/3420.html' title='Multiple used in 30 places.'>hmdRenderInfo</a> )
<a name='L1025'>1025 <font color='red'>{</font>
<a name='L1026'>1026     <b>bool</b>    <a href='../Y/4309.html' title='Multiple used in 14 places.'>rightEye</a>      = ( <a href='../Y/4479.html' title='Multiple used in 8 places.'>stereoParams</a>.<a href='../Y/540.html' title='Multiple used in 9 places.'>Eye</a> == <a href='../Y/2142.html' title='Multiple used in 24 places.'>StereoEye_Right</a> );
<a name='L1027'>1027     <b>int</b>     <a href='../Y/4791.html' title='Multiple used in 9 places.'>vertexCount</a>   = 0;
<a name='L1028'>1028     <b>int</b>     <a href='../Y/4656.html' title='Multiple used in 9 places.'>triangleCount</a> = 0;
<a name='L1029'>1029 
<a name='L1030'>1030     <i><font color='green'>// Generate mesh into allocated data and return result.</font></i>
<a name='L1031'>1031     <a href='../D/458.html' title='Multiple defined in 2 places.'>HeightmapMeshCreate</a>(<a href='../Y/4098.html' title='Multiple used in 22 places.'>ppVertices</a>, <a href='../Y/4097.html' title='Multiple used in 22 places.'>ppTriangleListIndices</a>, &amp;<a href='../Y/4791.html' title='Multiple used in 9 places.'>vertexCount</a>, &amp;<a href='../Y/4656.html' title='Multiple used in 9 places.'>triangleCount</a>,
<a name='L1032'>1032         <a href='../Y/4309.html' title='Multiple used in 14 places.'>rightEye</a>, <a href='../Y/3420.html' title='Multiple used in 30 places.'>hmdRenderInfo</a>, <a href='../Y/4479.html' title='Multiple used in 8 places.'>stereoParams</a>.<a href='../Y/567.html' title='Multiple used in 12 places.'>EyeToSourceNDC</a>);
<a name='L1033'>1033 
<a name='L1034'>1034     *<a href='../Y/3963.html' title='Multiple used in 16 places.'>pNumVertices</a>  = <a href='../Y/4791.html' title='Multiple used in 9 places.'>vertexCount</a>;
<a name='L1035'>1035     *<a href='../Y/3962.html' title='Multiple used in 16 places.'>pNumTriangles</a> = <a href='../Y/4656.html' title='Multiple used in 9 places.'>triangleCount</a>;
<a name='L1036'>1036 <font color='red'>}</font>
<a name='L1037'>1037 
<a name='L1038'>1038 
<a name='L1039'>1039 <i><font color='green'>// Generate heightmap mesh for one eye.</font></i>
<a name='L1040'>1040 <b>void</b> <a href='../R/441.html' title='Multiple refered from 3 places.'>HeightmapMeshCreate</a>( <a href='../Y/919.html' title='Multiple used in 3 places.'>HeightmapMeshVertexData</a> **<a href='../Y/4098.html' title='Multiple used in 22 places.'>ppVertices</a>, <a href='../Y/2327.html' title='Multiple used in 17 places.'>UInt16</a> **<a href='../Y/4097.html' title='Multiple used in 22 places.'>ppTriangleListIndices</a>,
<a name='L1041'>1041     <b>int</b> *<a href='../Y/3963.html' title='Multiple used in 16 places.'>pNumVertices</a>, <b>int</b> *<a href='../Y/3962.html' title='Multiple used in 16 places.'>pNumTriangles</a>, <b>bool</b> <a href='../Y/4309.html' title='Multiple used in 14 places.'>rightEye</a>,
<a name='L1042'>1042     <b>const</b> <a href='../Y/927.html' title='Multiple used in 20 places.'>HmdRenderInfo</a> &amp;<a href='../Y/3420.html' title='Multiple used in 30 places.'>hmdRenderInfo</a>,
<a name='L1043'>1043     <b>const</b> <a href='../Y/1963.html' title='Multiple used in 5 places.'>ScaleAndOffset2D</a> &amp;<a href='../Y/3174.html' title='Multiple used in 20 places.'>eyeToSourceNDC</a> )
<a name='L1044'>1044 <font color='red'>{</font>
<a name='L1045'>1045     *<a href='../Y/3963.html' title='Multiple used in 16 places.'>pNumVertices</a>  = <a href='../Y/870.html' title='Multiple used in 2 places.'>HMA_NumVertsPerEye</a>;
<a name='L1046'>1046     *<a href='../Y/3962.html' title='Multiple used in 16 places.'>pNumTriangles</a> = <a href='../Y/869.html' title='Multiple used in 2 places.'>HMA_NumTrisPerEye</a>;
<a name='L1047'>1047 
<a name='L1048'>1048     *<a href='../Y/4098.html' title='Multiple used in 22 places.'>ppVertices</a> = (<a href='../S/115.html#L358' title='Defined at 358 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>HeightmapMeshVertexData</a>*) <a href='../D/657.html' title='Multiple defined in 2 places.'>OVR_ALLOC</a>( <b>sizeof</b>(<a href='../S/115.html#L358' title='Defined at 358 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>HeightmapMeshVertexData</a>) * (*<a href='../Y/3963.html' title='Multiple used in 16 places.'>pNumVertices</a>) );
<a name='L1049'>1049     *<a href='../Y/4097.html' title='Multiple used in 22 places.'>ppTriangleListIndices</a>  = (<a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a>*) <a href='../D/657.html' title='Multiple defined in 2 places.'>OVR_ALLOC</a>( <b>sizeof</b>(<a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a>) * (*<a href='../Y/3962.html' title='Multiple used in 16 places.'>pNumTriangles</a>) * 3 );
<a name='L1050'>1050 
<a name='L1051'>1051     <b>if</b> (!*<a href='../Y/4098.html' title='Multiple used in 22 places.'>ppVertices</a> || !*<a href='../Y/4097.html' title='Multiple used in 22 places.'>ppTriangleListIndices</a>)
<a name='L1052'>1052     <font color='red'>{</font>
<a name='L1053'>1053         <b>if</b> (*<a href='../Y/4098.html' title='Multiple used in 22 places.'>ppVertices</a>)
<a name='L1054'>1054         <font color='red'>{</font>
<a name='L1055'>1055             <a href='../S/182.html#L313' title='Defined at 313 in ovr/sdk/src/Kernel/OVR_Allocator.h.'>OVR_FREE</a>(*<a href='../Y/4098.html' title='Multiple used in 22 places.'>ppVertices</a>);
<a name='L1056'>1056         <font color='red'>}</font>
<a name='L1057'>1057         <b>if</b> (*<a href='../Y/4097.html' title='Multiple used in 22 places.'>ppTriangleListIndices</a>)
<a name='L1058'>1058         <font color='red'>{</font>
<a name='L1059'>1059             <a href='../S/182.html#L313' title='Defined at 313 in ovr/sdk/src/Kernel/OVR_Allocator.h.'>OVR_FREE</a>(*<a href='../Y/4097.html' title='Multiple used in 22 places.'>ppTriangleListIndices</a>);
<a name='L1060'>1060         <font color='red'>}</font>
<a name='L1061'>1061         *<a href='../Y/4098.html' title='Multiple used in 22 places.'>ppVertices</a>             = <a href='../Y/1448.html' title='Multiple used in 256 places.'>NULL</a>;
<a name='L1062'>1062         *<a href='../Y/4097.html' title='Multiple used in 22 places.'>ppTriangleListIndices</a>  = <a href='../Y/1448.html' title='Multiple used in 256 places.'>NULL</a>;
<a name='L1063'>1063         *<a href='../Y/3962.html' title='Multiple used in 16 places.'>pNumTriangles</a>          = 0;
<a name='L1064'>1064         *<a href='../Y/3963.html' title='Multiple used in 16 places.'>pNumVertices</a>           = 0;
<a name='L1065'>1065         <b>return</b>;
<a name='L1066'>1066     <font color='red'>}</font>
<a name='L1067'>1067 
<a name='L1068'>1068     <i><font color='green'>// Populate vertex buffer info</font></i>
<a name='L1069'>1069     <b>float</b> <a href='../Y/4878.html' title='Multiple used in 5 places.'>xOffset</a> = 0.0f;
<a name='L1070'>1070     <b>float</b> <a href='../Y/4683.html' title='Multiple used in 5 places.'>uOffset</a> = 0.0f;
<a name='L1071'>1071 
<a name='L1072'>1072     <b>if</b> (<a href='../Y/4309.html' title='Multiple used in 14 places.'>rightEye</a>)
<a name='L1073'>1073     <font color='red'>{</font>
<a name='L1074'>1074         <a href='../Y/4878.html' title='Multiple used in 5 places.'>xOffset</a> = 1.0f;
<a name='L1075'>1075         <a href='../Y/4683.html' title='Multiple used in 5 places.'>uOffset</a> = 0.5f;
<a name='L1076'>1076     <font color='red'>}</font>
<a name='L1077'>1077 
<a name='L1078'>1078     <i><font color='green'>// First pass - build up raw vertex data.</font></i>
<a name='L1079'>1079     <a href='../S/115.html#L358' title='Defined at 358 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>HeightmapMeshVertexData</a>* <a href='../Y/4018.html' title='Multiple used in 25 places.'>pcurVert</a> = *<a href='../Y/4098.html' title='Multiple used in 22 places.'>ppVertices</a>;
<a name='L1080'>1080 
<a name='L1081'>1081     <b>for</b> ( <b>int</b> <a href='../Y/4884.html' title='Multiple used in 286 places.'>y</a> = 0; <a href='../Y/4884.html' title='Multiple used in 286 places.'>y</a> &lt;= <a href='../Y/867.html' title='Multiple used in 17 places.'>HMA_GridSize</a>; <a href='../Y/4884.html' title='Multiple used in 286 places.'>y</a>++ )
<a name='L1082'>1082     <font color='red'>{</font>
<a name='L1083'>1083         <b>for</b> ( <b>int</b> <a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a> = 0; <a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a> &lt;= <a href='../Y/867.html' title='Multiple used in 17 places.'>HMA_GridSize</a>; <a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a>++ )
<a name='L1084'>1084         <font color='red'>{</font>
<a name='L1085'>1085             <a href='../S/177.html#L382' title='Defined at 382 in ovr/sdk/src/Kernel/OVR_Math.h.'>Vector2f</a> <a href='../Y/4431.html' title='Multiple used in 14 places.'>sourceCoordNDC</a>;
<a name='L1086'>1086             <i><font color='green'>// NDC texture coords [-1,+1]</font></i>
<a name='L1087'>1087             <a href='../Y/4431.html' title='Multiple used in 14 places.'>sourceCoordNDC</a>.<a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a> = 2.0f * ( (<b>float</b>)<a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a> / (<b>float</b>)<a href='../Y/867.html' title='Multiple used in 17 places.'>HMA_GridSize</a> ) - 1.0f;
<a name='L1088'>1088             <a href='../Y/4431.html' title='Multiple used in 14 places.'>sourceCoordNDC</a>.<a href='../Y/4884.html' title='Multiple used in 286 places.'>y</a> = 2.0f * ( (<b>float</b>)<a href='../Y/4884.html' title='Multiple used in 286 places.'>y</a> / (<b>float</b>)<a href='../Y/867.html' title='Multiple used in 17 places.'>HMA_GridSize</a> ) - 1.0f;
<a name='L1089'>1089             <a href='../S/177.html#L382' title='Defined at 382 in ovr/sdk/src/Kernel/OVR_Math.h.'>Vector2f</a> <a href='../Y/4547.html' title='Multiple used in 31 places.'>tanEyeAngle</a> = <a href='../S/88.html#L1788' title='Defined at 1788 in ovr/sdk/src/OVR_Stereo.cpp.'>TransformRendertargetNDCToTanFovSpace</a> ( <a href='../Y/3174.html' title='Multiple used in 20 places.'>eyeToSourceNDC</a>, <a href='../Y/4431.html' title='Multiple used in 14 places.'>sourceCoordNDC</a> );
<a name='L1090'>1090             
<a name='L1091'>1091             <a href='../Y/4018.html' title='Multiple used in 25 places.'>pcurVert</a>-&gt;<a href='../Y/2188.html' title='Multiple used in 2 places.'>TanEyeAngles</a> = <a href='../Y/4547.html' title='Multiple used in 31 places.'>tanEyeAngle</a>;
<a name='L1092'>1092 
<a name='L1093'>1093             <a href='../S/85.html#L95' title='Defined at 95 in ovr/sdk/src/OVR_DeviceConstants.h.'>HmdShutterTypeEnum</a> <a href='../Y/4399.html' title='Multiple used in 9 places.'>shutterType</a> = <a href='../Y/3420.html' title='Multiple used in 30 places.'>hmdRenderInfo</a>.<a href='../Y/2089.html' title='Multiple used in 117 places.'>Shutter</a>.<a href='../D/1210.html' title='Multiple defined in 21 places.'>Type</a>;
<a name='L1094'>1094             <b>switch</b> ( <a href='../Y/4399.html' title='Multiple used in 9 places.'>shutterType</a> )
<a name='L1095'>1095             <font color='red'>{</font>
<a name='L1096'>1096             <b>case</b> <a href='../Y/929.html' title='Multiple used in 5 places.'>HmdShutter_Global</a>:
<a name='L1097'>1097                 <a href='../Y/4018.html' title='Multiple used in 25 places.'>pcurVert</a>-&gt;<a href='../Y/2266.html' title='Multiple used in 15 places.'>TimewarpLerp</a> = 0.0f;
<a name='L1098'>1098                 <b>break</b>;
<a name='L1099'>1099             <b>case</b> <a href='../Y/931.html' title='Multiple used in 4 places.'>HmdShutter_RollingLeftToRight</a>:
<a name='L1100'>1100                 <i><font color='green'>// Retrace is left to right - left eye goes 0.0 -&gt; 0.5, then right goes 0.5 -&gt; 1.0</font></i>
<a name='L1101'>1101                 <a href='../Y/4018.html' title='Multiple used in 25 places.'>pcurVert</a>-&gt;<a href='../Y/2266.html' title='Multiple used in 15 places.'>TimewarpLerp</a> = <a href='../Y/4431.html' title='Multiple used in 14 places.'>sourceCoordNDC</a>.<a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a> * 0.25f + 0.25f;
<a name='L1102'>1102                 <b>if</b> (<a href='../Y/4309.html' title='Multiple used in 14 places.'>rightEye</a>)
<a name='L1103'>1103                 <font color='red'>{</font>
<a name='L1104'>1104                     <a href='../Y/4018.html' title='Multiple used in 25 places.'>pcurVert</a>-&gt;<a href='../Y/2266.html' title='Multiple used in 15 places.'>TimewarpLerp</a> += 0.5f;
<a name='L1105'>1105                 <font color='red'>}</font>
<a name='L1106'>1106                 <b>break</b>;
<a name='L1107'>1107             <b>case</b> <a href='../Y/932.html' title='Multiple used in 12 places.'>HmdShutter_RollingRightToLeft</a>:
<a name='L1108'>1108                 <i><font color='green'>// Retrace is right to left - right eye goes 0.0 -&gt; 0.5, then left goes 0.5 -&gt; 1.0</font></i>
<a name='L1109'>1109                 <a href='../Y/4018.html' title='Multiple used in 25 places.'>pcurVert</a>-&gt;<a href='../Y/2266.html' title='Multiple used in 15 places.'>TimewarpLerp</a> = 0.75f - <a href='../Y/4431.html' title='Multiple used in 14 places.'>sourceCoordNDC</a>.<a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a> * 0.25f;
<a name='L1110'>1110                 <b>if</b> (<a href='../Y/4309.html' title='Multiple used in 14 places.'>rightEye</a>)
<a name='L1111'>1111                 <font color='red'>{</font>
<a name='L1112'>1112                     <a href='../Y/4018.html' title='Multiple used in 25 places.'>pcurVert</a>-&gt;<a href='../Y/2266.html' title='Multiple used in 15 places.'>TimewarpLerp</a> -= 0.5f;
<a name='L1113'>1113                 <font color='red'>}</font>
<a name='L1114'>1114                 <b>break</b>;
<a name='L1115'>1115             <b>case</b> <a href='../Y/933.html' title='Multiple used in 8 places.'>HmdShutter_RollingTopToBottom</a>:
<a name='L1116'>1116                 <i><font color='green'>// Retrace is top to bottom on both eyes at the same time.</font></i>
<a name='L1117'>1117                 <a href='../Y/4018.html' title='Multiple used in 25 places.'>pcurVert</a>-&gt;<a href='../Y/2266.html' title='Multiple used in 15 places.'>TimewarpLerp</a> = <a href='../Y/4431.html' title='Multiple used in 14 places.'>sourceCoordNDC</a>.<a href='../Y/4884.html' title='Multiple used in 286 places.'>y</a> * 0.5f + 0.5f;
<a name='L1118'>1118                 <b>break</b>;
<a name='L1119'>1119             <b>default</b>: <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a> ( <b>false</b> ); <b>break</b>;
<a name='L1120'>1120             <font color='red'>}</font>
<a name='L1121'>1121 
<a name='L1122'>1122             <i><font color='green'>// Don't let verts overlap to the other eye.</font></i>
<a name='L1123'>1123             <i><font color='green'>//sourceCoordNDC.x = Alg::Max ( -1.0f, Alg::Min ( sourceCoordNDC.x, 1.0f ) );</font></i>
<a name='L1124'>1124             <i><font color='green'>//sourceCoordNDC.y = Alg::Max ( -1.0f, Alg::Min ( sourceCoordNDC.y, 1.0f ) );</font></i>
<a name='L1125'>1125 
<a name='L1126'>1126             <i><font color='green'>//pcurVert-&gt;ScreenPosNDC.x = 0.5f * sourceCoordNDC.x - 0.5f + xOffset;</font></i>
<a name='L1127'>1127             <a href='../Y/4018.html' title='Multiple used in 25 places.'>pcurVert</a>-&gt;<a href='../Y/1972.html' title='Multiple used in 7 places.'>ScreenPosNDC</a>.<a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a> = <a href='../Y/4431.html' title='Multiple used in 14 places.'>sourceCoordNDC</a>.<a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a>;
<a name='L1128'>1128             <a href='../Y/4018.html' title='Multiple used in 25 places.'>pcurVert</a>-&gt;<a href='../Y/1972.html' title='Multiple used in 7 places.'>ScreenPosNDC</a>.<a href='../Y/4884.html' title='Multiple used in 286 places.'>y</a> = -<a href='../Y/4431.html' title='Multiple used in 14 places.'>sourceCoordNDC</a>.<a href='../Y/4884.html' title='Multiple used in 286 places.'>y</a>;
<a name='L1129'>1129 
<a name='L1130'>1130             <a href='../Y/4018.html' title='Multiple used in 25 places.'>pcurVert</a>++;
<a name='L1131'>1131         <font color='red'>}</font>
<a name='L1132'>1132     <font color='red'>}</font>
<a name='L1133'>1133 
<a name='L1134'>1134 
<a name='L1135'>1135     <i><font color='green'>// Populate index buffer info  </font></i>
<a name='L1136'>1136     <a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a> *<a href='../Y/4017.html' title='Multiple used in 26 places.'>pcurIndex</a> = *<a href='../Y/4097.html' title='Multiple used in 22 places.'>ppTriangleListIndices</a>;
<a name='L1137'>1137 
<a name='L1138'>1138     <b>for</b> ( <b>int</b> <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> = 0; <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &lt; <a href='../Y/867.html' title='Multiple used in 17 places.'>HMA_GridSize</a> * <a href='../Y/867.html' title='Multiple used in 17 places.'>HMA_GridSize</a>; <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a>++ )
<a name='L1139'>1139     <font color='red'>{</font>
<a name='L1140'>1140         <i><font color='green'>// Use a Morton order to help locality of FB, texture and vertex cache.</font></i>
<a name='L1141'>1141         <i><font color='green'>// (0.325ms raster order -&gt; 0.257ms Morton order)</font></i>
<a name='L1142'>1142         <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a> ( <a href='../Y/867.html' title='Multiple used in 17 places.'>HMA_GridSize</a> &lt; 256 );
<a name='L1143'>1143         <b>int</b> <a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a> = ( ( <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &amp; 0x0001 ) &gt;&gt; 0 ) |
<a name='L1144'>1144                 ( ( <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &amp; 0x0004 ) &gt;&gt; 1 ) |
<a name='L1145'>1145                 ( ( <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &amp; 0x0010 ) &gt;&gt; 2 ) |
<a name='L1146'>1146                 ( ( <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &amp; 0x0040 ) &gt;&gt; 3 ) |
<a name='L1147'>1147                 ( ( <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &amp; 0x0100 ) &gt;&gt; 4 ) |
<a name='L1148'>1148                 ( ( <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &amp; 0x0400 ) &gt;&gt; 5 ) |
<a name='L1149'>1149                 ( ( <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &amp; 0x1000 ) &gt;&gt; 6 ) |
<a name='L1150'>1150                 ( ( <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &amp; 0x4000 ) &gt;&gt; 7 );
<a name='L1151'>1151         <b>int</b> <a href='../Y/4884.html' title='Multiple used in 286 places.'>y</a> = ( ( <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &amp; 0x0002 ) &gt;&gt; 1 ) |
<a name='L1152'>1152                 ( ( <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &amp; 0x0008 ) &gt;&gt; 2 ) |
<a name='L1153'>1153                 ( ( <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &amp; 0x0020 ) &gt;&gt; 3 ) |
<a name='L1154'>1154                 ( ( <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &amp; 0x0080 ) &gt;&gt; 4 ) |
<a name='L1155'>1155                 ( ( <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &amp; 0x0200 ) &gt;&gt; 5 ) |
<a name='L1156'>1156                 ( ( <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &amp; 0x0800 ) &gt;&gt; 6 ) |
<a name='L1157'>1157                 ( ( <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &amp; 0x2000 ) &gt;&gt; 7 ) |
<a name='L1158'>1158                 ( ( <a href='../Y/4655.html' title='Multiple used in 34 places.'>triNum</a> &amp; 0x8000 ) &gt;&gt; 8 );
<a name='L1159'>1159         <b>int</b> <a href='../Y/612.html' title='Multiple used in 26 places.'>FirstVertex</a> = <a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a> * (<a href='../Y/867.html' title='Multiple used in 17 places.'>HMA_GridSize</a>+1) + <a href='../Y/4884.html' title='Multiple used in 286 places.'>y</a>;
<a name='L1160'>1160         <i><font color='green'>// Another twist - we want the top-left and bottom-right quadrants to</font></i>
<a name='L1161'>1161         <i><font color='green'>// have the triangles split one way, the other two split the other.</font></i>
<a name='L1162'>1162         <i><font color='green'>// +---+---+---+---+</font></i>
<a name='L1163'>1163         <i><font color='green'>// |  /|  /|\  |\  |</font></i>
<a name='L1164'>1164         <i><font color='green'>// | / | / | \ | \ |</font></i>
<a name='L1165'>1165         <i><font color='green'>// |/  |/  |  \|  \|</font></i>
<a name='L1166'>1166         <i><font color='green'>// +---+---+---+---+</font></i>
<a name='L1167'>1167         <i><font color='green'>// |  /|  /|\  |\  |</font></i>
<a name='L1168'>1168         <i><font color='green'>// | / | / | \ | \ |</font></i>
<a name='L1169'>1169         <i><font color='green'>// |/  |/  |  \|  \|</font></i>
<a name='L1170'>1170         <i><font color='green'>// +---+---+---+---+</font></i>
<a name='L1171'>1171         <i><font color='green'>// |\  |\  |  /|  /|</font></i>
<a name='L1172'>1172         <i><font color='green'>// | \ | \ | / | / |</font></i>
<a name='L1173'>1173         <i><font color='green'>// |  \|  \|/  |/  |</font></i>
<a name='L1174'>1174         <i><font color='green'>// +---+---+---+---+</font></i>
<a name='L1175'>1175         <i><font color='green'>// |\  |\  |  /|  /|</font></i>
<a name='L1176'>1176         <i><font color='green'>// | \ | \ | / | / |</font></i>
<a name='L1177'>1177         <i><font color='green'>// |  \|  \|/  |/  |</font></i>
<a name='L1178'>1178         <i><font color='green'>// +---+---+---+---+</font></i>
<a name='L1179'>1179         <i><font color='green'>// This way triangle edges don't span long distances over the distortion function,</font></i>
<a name='L1180'>1180         <i><font color='green'>// so linear interpolation works better &amp; we can use fewer tris.</font></i>
<a name='L1181'>1181         <b>if</b> ( ( <a href='../Y/4876.html' title='Multiple used in 308 places.'>x</a> &lt; <a href='../Y/867.html' title='Multiple used in 17 places.'>HMA_GridSize</a>/2 ) != ( <a href='../Y/4884.html' title='Multiple used in 286 places.'>y</a> &lt; <a href='../Y/867.html' title='Multiple used in 17 places.'>HMA_GridSize</a>/2 ) )       <i><font color='green'>// != is logical XOR</font></i>
<a name='L1182'>1182         <font color='red'>{</font>
<a name='L1183'>1183             *<a href='../Y/4017.html' title='Multiple used in 26 places.'>pcurIndex</a>++ = (<a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a>)<a href='../Y/612.html' title='Multiple used in 26 places.'>FirstVertex</a>;
<a name='L1184'>1184             *<a href='../Y/4017.html' title='Multiple used in 26 places.'>pcurIndex</a>++ = (<a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a>)<a href='../Y/612.html' title='Multiple used in 26 places.'>FirstVertex</a>+1;
<a name='L1185'>1185             *<a href='../Y/4017.html' title='Multiple used in 26 places.'>pcurIndex</a>++ = (<a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a>)<a href='../Y/612.html' title='Multiple used in 26 places.'>FirstVertex</a>+(<a href='../Y/867.html' title='Multiple used in 17 places.'>HMA_GridSize</a>+1)+1;
<a name='L1186'>1186 
<a name='L1187'>1187             *<a href='../Y/4017.html' title='Multiple used in 26 places.'>pcurIndex</a>++ = (<a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a>)<a href='../Y/612.html' title='Multiple used in 26 places.'>FirstVertex</a>+(<a href='../Y/867.html' title='Multiple used in 17 places.'>HMA_GridSize</a>+1)+1;
<a name='L1188'>1188             *<a href='../Y/4017.html' title='Multiple used in 26 places.'>pcurIndex</a>++ = (<a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a>)<a href='../Y/612.html' title='Multiple used in 26 places.'>FirstVertex</a>+(<a href='../Y/867.html' title='Multiple used in 17 places.'>HMA_GridSize</a>+1);
<a name='L1189'>1189             *<a href='../Y/4017.html' title='Multiple used in 26 places.'>pcurIndex</a>++ = (<a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a>)<a href='../Y/612.html' title='Multiple used in 26 places.'>FirstVertex</a>;
<a name='L1190'>1190         <font color='red'>}</font>
<a name='L1191'>1191         <b>else</b>
<a name='L1192'>1192         <font color='red'>{</font>
<a name='L1193'>1193             *<a href='../Y/4017.html' title='Multiple used in 26 places.'>pcurIndex</a>++ = (<a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a>)<a href='../Y/612.html' title='Multiple used in 26 places.'>FirstVertex</a>;
<a name='L1194'>1194             *<a href='../Y/4017.html' title='Multiple used in 26 places.'>pcurIndex</a>++ = (<a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a>)<a href='../Y/612.html' title='Multiple used in 26 places.'>FirstVertex</a>+1;
<a name='L1195'>1195             *<a href='../Y/4017.html' title='Multiple used in 26 places.'>pcurIndex</a>++ = (<a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a>)<a href='../Y/612.html' title='Multiple used in 26 places.'>FirstVertex</a>+(<a href='../Y/867.html' title='Multiple used in 17 places.'>HMA_GridSize</a>+1);
<a name='L1196'>1196 
<a name='L1197'>1197             *<a href='../Y/4017.html' title='Multiple used in 26 places.'>pcurIndex</a>++ = (<a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a>)<a href='../Y/612.html' title='Multiple used in 26 places.'>FirstVertex</a>+1;
<a name='L1198'>1198             *<a href='../Y/4017.html' title='Multiple used in 26 places.'>pcurIndex</a>++ = (<a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a>)<a href='../Y/612.html' title='Multiple used in 26 places.'>FirstVertex</a>+(<a href='../Y/867.html' title='Multiple used in 17 places.'>HMA_GridSize</a>+1)+1;
<a name='L1199'>1199             *<a href='../Y/4017.html' title='Multiple used in 26 places.'>pcurIndex</a>++ = (<a href='../D/1213.html' title='Multiple defined in 3 places.'>UInt16</a>)<a href='../Y/612.html' title='Multiple used in 26 places.'>FirstVertex</a>+(<a href='../Y/867.html' title='Multiple used in 17 places.'>HMA_GridSize</a>+1);
<a name='L1200'>1200         <font color='red'>}</font>
<a name='L1201'>1201     <font color='red'>}</font>
<a name='L1202'>1202 <font color='red'>}</font>
<a name='L1203'>1203 
<a name='L1204'>1204 <i><font color='green'>//-----------------------------------------------------------------------------------</font></i>
<a name='L1205'>1205 <i><font color='green'>// ***** Prediction and timewarp.</font></i>
<a name='L1206'>1206 <i><font color='green'>//</font></i>
<a name='L1207'>1207 
<a name='L1208'>1208 <i><font color='green'>// Calculates the values from the HMD info.</font></i>
<a name='L1209'>1209 <a href='../S/115.html#L389' title='Defined at 389 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>PredictionValues</a> <a href='../R/836.html' title='Multiple refered from 2 places.'>PredictionGetDeviceValues</a> ( <b>const</b> <a href='../Y/927.html' title='Multiple used in 20 places.'>HmdRenderInfo</a> &amp;<a href='../Y/3420.html' title='Multiple used in 30 places.'>hmdRenderInfo</a>,
<a name='L1210'>1210                                              <b>bool</b> <a href='../Y/4859.html' title='Multiple used in 3 places.'>withTimewarp</a> <i><font color='green'>/*= true*/</font></i>,
<a name='L1211'>1211                                              <b>bool</b> <a href='../Y/4860.html' title='Multiple used in 4 places.'>withVsync</a> <i><font color='green'>/*= true*/</font></i> )
<a name='L1212'>1212 <font color='red'>{</font>
<a name='L1213'>1213     <a href='../S/115.html#L389' title='Defined at 389 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>PredictionValues</a> <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>;
<a name='L1214'>1214 
<a name='L1215'>1215     <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/2446.html' title='Multiple used in 2 places.'>WithTimewarp</a> = <a href='../Y/4859.html' title='Multiple used in 3 places.'>withTimewarp</a>;
<a name='L1216'>1216     <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/2447.html' title='Multiple used in 2 places.'>WithVsync</a> = <a href='../Y/4860.html' title='Multiple used in 4 places.'>withVsync</a>;
<a name='L1217'>1217 
<a name='L1218'>1218     <i><font color='green'>// For unclear reasons, most graphics systems add an extra frame of latency</font></i>
<a name='L1219'>1219     <i><font color='green'>// somewhere along the way. In time we'll debug this and figure it out, but</font></i>
<a name='L1220'>1220     <i><font color='green'>// for now this gets prediction a little bit better.</font></i>
<a name='L1221'>1221     <b>const</b> <b>float</b> <a href='../Y/3154.html' title='Multiple used in 3 places.'>extraFramesOfBufferingKludge</a> = 1.0f;
<a name='L1222'>1222 
<a name='L1223'>1223     <b>if</b> ( <a href='../Y/4860.html' title='Multiple used in 4 places.'>withVsync</a> )
<a name='L1224'>1224     <font color='red'>{</font>
<a name='L1225'>1225         <i><font color='green'>// These are the times from the Present+Flush to when the middle of the scene is "averagely visible" (without timewarp)</font></i>
<a name='L1226'>1226         <i><font color='green'>// So if you had no timewarp, this, plus the time until the next vsync, is how much to predict by.</font></i>
<a name='L1227'>1227         <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/1697.html' title='Multiple used in 10 places.'>PresentFlushToRenderedScene</a>  = <a href='../Y/3154.html' title='Multiple used in 3 places.'>extraFramesOfBufferingKludge</a> * <a href='../Y/3420.html' title='Multiple used in 30 places.'>hmdRenderInfo</a>.<a href='../Y/2089.html' title='Multiple used in 117 places.'>Shutter</a>.<a href='../Y/610.html' title='Multiple used in 21 places.'>FirstScanlineToLastScanline</a>;
<a name='L1228'>1228         <i><font color='green'>// Predict to the middle of the screen being scanned out.</font></i>
<a name='L1229'>1229         <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/1697.html' title='Multiple used in 10 places.'>PresentFlushToRenderedScene</a> += <a href='../Y/3420.html' title='Multiple used in 30 places.'>hmdRenderInfo</a>.<a href='../Y/2089.html' title='Multiple used in 117 places.'>Shutter</a>.<a href='../Y/2421.html' title='Multiple used in 19 places.'>VsyncToFirstScanline</a> + 0.5f * <a href='../Y/3420.html' title='Multiple used in 30 places.'>hmdRenderInfo</a>.<a href='../Y/2089.html' title='Multiple used in 117 places.'>Shutter</a>.<a href='../Y/610.html' title='Multiple used in 21 places.'>FirstScanlineToLastScanline</a>;
<a name='L1230'>1230         <i><font color='green'>// Time for pixels to get half-way to settling.</font></i>
<a name='L1231'>1231         <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/1697.html' title='Multiple used in 10 places.'>PresentFlushToRenderedScene</a> += <a href='../Y/3420.html' title='Multiple used in 30 places.'>hmdRenderInfo</a>.<a href='../Y/2089.html' title='Multiple used in 117 places.'>Shutter</a>.<a href='../Y/1671.html' title='Multiple used in 21 places.'>PixelSettleTime</a> * 0.5f;
<a name='L1232'>1232         <i><font color='green'>// Predict to half-way through persistence</font></i>
<a name='L1233'>1233         <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/1697.html' title='Multiple used in 10 places.'>PresentFlushToRenderedScene</a> += <a href='../Y/3420.html' title='Multiple used in 30 places.'>hmdRenderInfo</a>.<a href='../Y/2089.html' title='Multiple used in 117 places.'>Shutter</a>.<a href='../Y/1668.html' title='Multiple used in 21 places.'>PixelPersistence</a> * 0.5f;
<a name='L1234'>1234 
<a name='L1235'>1235         <i><font color='green'>// The time from the Present+Flush to when the first scanline is "averagely visible".</font></i>
<a name='L1236'>1236         <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/1699.html' title='Multiple used in 8 places.'>PresentFlushToTimewarpStart</a>  = <a href='../Y/3154.html' title='Multiple used in 3 places.'>extraFramesOfBufferingKludge</a> * <a href='../Y/3420.html' title='Multiple used in 30 places.'>hmdRenderInfo</a>.<a href='../Y/2089.html' title='Multiple used in 117 places.'>Shutter</a>.<a href='../Y/610.html' title='Multiple used in 21 places.'>FirstScanlineToLastScanline</a>;
<a name='L1237'>1237         <i><font color='green'>// Predict to the first line being scanned out.</font></i>
<a name='L1238'>1238         <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/1699.html' title='Multiple used in 8 places.'>PresentFlushToTimewarpStart</a> += <a href='../Y/3420.html' title='Multiple used in 30 places.'>hmdRenderInfo</a>.<a href='../Y/2089.html' title='Multiple used in 117 places.'>Shutter</a>.<a href='../Y/2421.html' title='Multiple used in 19 places.'>VsyncToFirstScanline</a>;
<a name='L1239'>1239         <i><font color='green'>// Time for pixels to get half-way to settling.</font></i>
<a name='L1240'>1240         <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/1699.html' title='Multiple used in 8 places.'>PresentFlushToTimewarpStart</a> += <a href='../Y/3420.html' title='Multiple used in 30 places.'>hmdRenderInfo</a>.<a href='../Y/2089.html' title='Multiple used in 117 places.'>Shutter</a>.<a href='../Y/1671.html' title='Multiple used in 21 places.'>PixelSettleTime</a> * 0.5f;
<a name='L1241'>1241         <i><font color='green'>// Predict to half-way through persistence</font></i>
<a name='L1242'>1242         <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/1699.html' title='Multiple used in 8 places.'>PresentFlushToTimewarpStart</a> += <a href='../Y/3420.html' title='Multiple used in 30 places.'>hmdRenderInfo</a>.<a href='../Y/2089.html' title='Multiple used in 117 places.'>Shutter</a>.<a href='../Y/1668.html' title='Multiple used in 21 places.'>PixelPersistence</a> * 0.5f;
<a name='L1243'>1243 
<a name='L1244'>1244         <i><font color='green'>// Time to the the last scanline.</font></i>
<a name='L1245'>1245         <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/1698.html' title='Multiple used in 4 places.'>PresentFlushToTimewarpEnd</a>    = <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/1699.html' title='Multiple used in 8 places.'>PresentFlushToTimewarpStart</a> + <a href='../Y/3420.html' title='Multiple used in 30 places.'>hmdRenderInfo</a>.<a href='../Y/2089.html' title='Multiple used in 117 places.'>Shutter</a>.<a href='../Y/610.html' title='Multiple used in 21 places.'>FirstScanlineToLastScanline</a>;
<a name='L1246'>1246 
<a name='L1247'>1247         <i><font color='green'>// Ideal framerate.</font></i>
<a name='L1248'>1248         <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/1695.html' title='Multiple used in 4 places.'>PresentFlushToPresentFlush</a>   = <a href='../Y/3420.html' title='Multiple used in 30 places.'>hmdRenderInfo</a>.<a href='../Y/2089.html' title='Multiple used in 117 places.'>Shutter</a>.<a href='../Y/2422.html' title='Multiple used in 31 places.'>VsyncToNextVsync</a>;
<a name='L1249'>1249     <font color='red'>}</font>
<a name='L1250'>1250     <b>else</b>
<a name='L1251'>1251     <font color='red'>{</font>
<a name='L1252'>1252         <i><font color='green'>// Timewarp without vsync is a little odd.</font></i>
<a name='L1253'>1253         <i><font color='green'>// Currently, we assume that without vsync, we have no idea which scanline</font></i>
<a name='L1254'>1254         <i><font color='green'>// is currently being sent to the display. So we can't do lerping timewarp,</font></i>
<a name='L1255'>1255         <i><font color='green'>// we can just do a full-screen late-stage fixup.</font></i>
<a name='L1256'>1256 
<a name='L1257'>1257         <i><font color='green'>// "PresentFlushToRenderedScene" means the time from the Present+Flush to when the middle of the scene is "averagely visible" (without timewarp)</font></i>
<a name='L1258'>1258         <i><font color='green'>// So if you had no timewarp, this, plus the time until the next flush (which is usually the time to render the frame), is how much to predict by.</font></i>
<a name='L1259'>1259         <i><font color='green'>// Time for pixels to get half-way to settling.</font></i>
<a name='L1260'>1260         <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/1697.html' title='Multiple used in 10 places.'>PresentFlushToRenderedScene</a>  = <a href='../Y/3420.html' title='Multiple used in 30 places.'>hmdRenderInfo</a>.<a href='../Y/2089.html' title='Multiple used in 117 places.'>Shutter</a>.<a href='../Y/1671.html' title='Multiple used in 21 places.'>PixelSettleTime</a> * 0.5f;
<a name='L1261'>1261         <i><font color='green'>// Predict to half-way through persistence</font></i>
<a name='L1262'>1262         <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/1697.html' title='Multiple used in 10 places.'>PresentFlushToRenderedScene</a> += <a href='../Y/3420.html' title='Multiple used in 30 places.'>hmdRenderInfo</a>.<a href='../Y/2089.html' title='Multiple used in 117 places.'>Shutter</a>.<a href='../Y/1668.html' title='Multiple used in 21 places.'>PixelPersistence</a> * 0.5f;
<a name='L1263'>1263 
<a name='L1264'>1264         <i><font color='green'>// Without vsync, you don't know timings, and so can't do anything useful with lerped warping.</font></i>
<a name='L1265'>1265         <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/1699.html' title='Multiple used in 8 places.'>PresentFlushToTimewarpStart</a>  = <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/1697.html' title='Multiple used in 10 places.'>PresentFlushToRenderedScene</a>;
<a name='L1266'>1266         <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/1698.html' title='Multiple used in 4 places.'>PresentFlushToTimewarpEnd</a>    = <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/1697.html' title='Multiple used in 10 places.'>PresentFlushToRenderedScene</a>;
<a name='L1267'>1267 
<a name='L1268'>1268         <i><font color='green'>// There's no concept of "ideal" when vsync is off.</font></i>
<a name='L1269'>1269         <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>.<a href='../Y/1695.html' title='Multiple used in 4 places.'>PresentFlushToPresentFlush</a>   = 0.0f;
<a name='L1270'>1270     <font color='red'>}</font>
<a name='L1271'>1271 
<a name='L1272'>1272     <b>return</b> <a href='../Y/4291.html' title='Multiple used in 413 places.'>result</a>;
<a name='L1273'>1273 <font color='red'>}</font>
<a name='L1274'>1274 
<a name='L1275'>1275 <a href='../S/177.html#L1834' title='Defined at 1834 in ovr/sdk/src/Kernel/OVR_Math.h.'>Matrix4f</a> <a href='../R/1099.html' title='Multiple refered from 3 places.'>TimewarpComputePoseDelta</a> ( <a href='../Y/1369.html' title='Multiple used in 5 places.'>Matrix4f</a> <b>const</b> &amp;<a href='../Y/4274.html' title='Multiple used in 6 places.'>renderedViewFromWorld</a>, <a href='../Y/1369.html' title='Multiple used in 5 places.'>Matrix4f</a> <b>const</b> &amp;<a href='../Y/4099.html' title='Multiple used in 6 places.'>predictedViewFromWorld</a>, <a href='../Y/1369.html' title='Multiple used in 5 places.'>Matrix4f</a> <b>const</b>&amp;<a href='../Y/3178.html' title='Multiple used in 8 places.'>eyeViewAdjust</a> )
<a name='L1276'>1276 <font color='red'>{</font>
<a name='L1277'>1277     <a href='../S/177.html#L1834' title='Defined at 1834 in ovr/sdk/src/Kernel/OVR_Math.h.'>Matrix4f</a> <a href='../Y/4864.html' title='Multiple used in 4 places.'>worldFromPredictedView</a> = (<a href='../Y/3178.html' title='Multiple used in 8 places.'>eyeViewAdjust</a> * <a href='../Y/4099.html' title='Multiple used in 6 places.'>predictedViewFromWorld</a>).<a href='../Y/1018.html' title='Multiple used in 4 places.'>InvertedHomogeneousTransform</a>();
<a name='L1278'>1278     <a href='../S/177.html#L1834' title='Defined at 1834 in ovr/sdk/src/Kernel/OVR_Math.h.'>Matrix4f</a> <a href='../Y/3639.html' title='Multiple used in 8 places.'>matRenderFromNowStart</a> = (<a href='../Y/3178.html' title='Multiple used in 8 places.'>eyeViewAdjust</a> * <a href='../Y/4274.html' title='Multiple used in 6 places.'>renderedViewFromWorld</a>) * <a href='../Y/4864.html' title='Multiple used in 4 places.'>worldFromPredictedView</a>;
<a name='L1279'>1279 
<a name='L1280'>1280     <i><font color='green'>// The sensor-predicted orientations have:                           X=right, Y=up,   Z=backwards.</font></i>
<a name='L1281'>1281     <i><font color='green'>// The vectors inside the mesh are in NDC to keep the shader simple: X=right, Y=down, Z=forwards.</font></i>
<a name='L1282'>1282     <i><font color='green'>// So we need to perform a similarity transform on this delta matrix.</font></i>
<a name='L1283'>1283     <i><font color='green'>// The verbose code would look like this:</font></i>
<a name='L1284'>1284     <i><font color='green'>/*</font></i>
<a name='L1285'>1285 <i><font color='green'>    Matrix4f matBasisChange;</font></i>
<a name='L1286'>1286 <i><font color='green'>    matBasisChange.SetIdentity();</font></i>
<a name='L1287'>1287 <i><font color='green'>    matBasisChange.M[0][0] =  1.0f;</font></i>
<a name='L1288'>1288 <i><font color='green'>    matBasisChange.M[1][1] = -1.0f;</font></i>
<a name='L1289'>1289 <i><font color='green'>    matBasisChange.M[2][2] = -1.0f;</font></i>
<a name='L1290'>1290 <i><font color='green'>    Matrix4f matBasisChangeInv = matBasisChange.Inverted();</font></i>
<a name='L1291'>1291 <i><font color='green'>    matRenderFromNow = matBasisChangeInv * matRenderFromNow * matBasisChange;</font></i>
<a name='L1292'>1292 <i><font color='green'>    */</font></i>
<a name='L1293'>1293     <i><font color='green'>// ...but of course all the above is a constant transform and much more easily done.</font></i>
<a name='L1294'>1294     <i><font color='green'>// We flip the signs of the Y&amp;Z row, then flip the signs of the Y&amp;Z column,</font></i>
<a name='L1295'>1295     <i><font color='green'>// and of course most of the flips cancel:</font></i>
<a name='L1296'>1296     <i><font color='green'>// +++                        +--                     +--</font></i>
<a name='L1297'>1297     <i><font color='green'>// +++ -&gt; flip Y&amp;Z columns -&gt; +-- -&gt; flip Y&amp;Z rows -&gt; -++</font></i>
<a name='L1298'>1298     <i><font color='green'>// +++                        +--                     -++</font></i>
<a name='L1299'>1299     <a href='../Y/3639.html' title='Multiple used in 8 places.'>matRenderFromNowStart</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[0][1] = -<a href='../Y/3639.html' title='Multiple used in 8 places.'>matRenderFromNowStart</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[0][1];
<a name='L1300'>1300     <a href='../Y/3639.html' title='Multiple used in 8 places.'>matRenderFromNowStart</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[0][2] = -<a href='../Y/3639.html' title='Multiple used in 8 places.'>matRenderFromNowStart</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[0][2];
<a name='L1301'>1301     <a href='../Y/3639.html' title='Multiple used in 8 places.'>matRenderFromNowStart</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[1][0] = -<a href='../Y/3639.html' title='Multiple used in 8 places.'>matRenderFromNowStart</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[1][0];
<a name='L1302'>1302     <a href='../Y/3639.html' title='Multiple used in 8 places.'>matRenderFromNowStart</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[2][0] = -<a href='../Y/3639.html' title='Multiple used in 8 places.'>matRenderFromNowStart</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[2][0];
<a name='L1303'>1303     <a href='../Y/3639.html' title='Multiple used in 8 places.'>matRenderFromNowStart</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[1][3] = -<a href='../Y/3639.html' title='Multiple used in 8 places.'>matRenderFromNowStart</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[1][3];
<a name='L1304'>1304     <a href='../Y/3639.html' title='Multiple used in 8 places.'>matRenderFromNowStart</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[2][3] = -<a href='../Y/3639.html' title='Multiple used in 8 places.'>matRenderFromNowStart</a>.<a href='../Y/1328.html' title='Multiple used in 304 places.'>M</a>[2][3];
<a name='L1305'>1305 
<a name='L1306'>1306     <b>return</b> <a href='../Y/3639.html' title='Multiple used in 8 places.'>matRenderFromNowStart</a>;
<a name='L1307'>1307 <font color='red'>}</font>
<a name='L1308'>1308 
<a name='L1309'>1309 <a href='../S/177.html#L1834' title='Defined at 1834 in ovr/sdk/src/Kernel/OVR_Math.h.'>Matrix4f</a> <a href='../S/115.html#L415' title='Refered from 415 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>TimewarpComputePoseDeltaPosition</a> ( <a href='../Y/1369.html' title='Multiple used in 5 places.'>Matrix4f</a> <b>const</b> &amp;<a href='../Y/4274.html' title='Multiple used in 6 places.'>renderedViewFromWorld</a>, <a href='../Y/1369.html' title='Multiple used in 5 places.'>Matrix4f</a> <b>const</b> &amp;<a href='../Y/4099.html' title='Multiple used in 6 places.'>predictedViewFromWorld</a>, <a href='../Y/1369.html' title='Multiple used in 5 places.'>Matrix4f</a> <b>const</b>&amp;<a href='../Y/3178.html' title='Multiple used in 8 places.'>eyeViewAdjust</a> )
<a name='L1310'>1310 <font color='red'>{</font>
<a name='L1311'>1311     <a href='../S/177.html#L1834' title='Defined at 1834 in ovr/sdk/src/Kernel/OVR_Math.h.'>Matrix4f</a> <a href='../Y/4864.html' title='Multiple used in 4 places.'>worldFromPredictedView</a> = (<a href='../Y/3178.html' title='Multiple used in 8 places.'>eyeViewAdjust</a> * <a href='../Y/4099.html' title='Multiple used in 6 places.'>predictedViewFromWorld</a>).<a href='../Y/1018.html' title='Multiple used in 4 places.'>InvertedHomogeneousTransform</a>();
<a name='L1312'>1312     <a href='../S/177.html#L1834' title='Defined at 1834 in ovr/sdk/src/Kernel/OVR_Math.h.'>Matrix4f</a> <a href='../Y/3640.html' title='Multiple used in 2 places.'>matRenderXform</a> = (<a href='../Y/3178.html' title='Multiple used in 8 places.'>eyeViewAdjust</a> * <a href='../Y/4274.html' title='Multiple used in 6 places.'>renderedViewFromWorld</a>) * <a href='../Y/4864.html' title='Multiple used in 4 places.'>worldFromPredictedView</a>;
<a name='L1313'>1313 
<a name='L1314'>1314     <b>return</b> <a href='../Y/3640.html' title='Multiple used in 2 places.'>matRenderXform</a>.<a href='../Y/1017.html' title='Multiple used in 20 places.'>Inverted</a>();
<a name='L1315'>1315 <font color='red'>}</font>
<a name='L1316'>1316 
<a name='L1317'>1317 <a href='../R/1101.html' title='Multiple refered from 17 places.'>TimewarpMachine</a>::<a href='../S/117.html#L1317' title='Defined at 1317 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>TimewarpMachine</a>()
<a name='L1318'>1318 <font color='red'>{</font>    
<a name='L1319'>1319     <b>for</b> ( <b>int</b> <a href='../Y/3436.html' title='Multiple used in 682 places.'>i</a> = 0; <a href='../Y/3436.html' title='Multiple used in 682 places.'>i</a> &lt; 2; <a href='../Y/3436.html' title='Multiple used in 682 places.'>i</a>++ )
<a name='L1320'>1320     <font color='red'>{</font>
<a name='L1321'>1321         <a href='../Y/563.html' title='Multiple used in 5 places.'>EyeRenderPoses</a>[<a href='../Y/3436.html' title='Multiple used in 682 places.'>i</a>] = <a href='../S/177.html#L1159' title='Defined at 1159 in ovr/sdk/src/Kernel/OVR_Math.h.'>Transformf</a>();
<a name='L1322'>1322     <font color='red'>}</font>
<a name='L1323'>1323     <a href='../Y/446.html' title='Multiple used in 9 places.'>DistortionTimeCount</a> = 0;
<a name='L1324'>1324     <a href='../Y/2418.html' title='Multiple used in 15 places.'>VsyncEnabled</a> = <b>false</b>;
<a name='L1325'>1325 <font color='red'>}</font>
<a name='L1326'>1326 
<a name='L1327'>1327 <b>void</b> <a href='../S/117.html#L1317' title='Defined at 1317 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>TimewarpMachine</a>::<a href='../R/906.html' title='Multiple refered from 18 places.'>Reset</a>(<a href='../Y/927.html' title='Multiple used in 20 places.'>HmdRenderInfo</a>&amp; <a href='../Y/4263.html' title='Multiple used in 85 places.'>renderInfo</a>, <b>bool</b> <a href='../Y/4821.html' title='Multiple used in 6 places.'>vsyncEnabled</a>, <b>double</b> <a href='../Y/4606.html' title='Multiple used in 15 places.'>timeNow</a>)
<a name='L1328'>1328 <font color='red'>{</font>
<a name='L1329'>1329     <a href='../Y/1853.html' title='Multiple used in 23 places.'>RenderInfo</a> = <a href='../Y/4263.html' title='Multiple used in 85 places.'>renderInfo</a>;
<a name='L1330'>1330     <a href='../Y/2418.html' title='Multiple used in 15 places.'>VsyncEnabled</a> = <a href='../Y/4821.html' title='Multiple used in 6 places.'>vsyncEnabled</a>;
<a name='L1331'>1331     <a href='../Y/294.html' title='Multiple used in 6 places.'>CurrentPredictionValues</a> = <a href='../S/117.html#L1209' title='Defined at 1209 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>PredictionGetDeviceValues</a> ( <a href='../Y/4263.html' title='Multiple used in 85 places.'>renderInfo</a>, <b>true</b>, <a href='../Y/2418.html' title='Multiple used in 15 places.'>VsyncEnabled</a> );
<a name='L1332'>1332     <a href='../Y/1696.html' title='Multiple used in 4 places.'>PresentFlushToPresentFlushSeconds</a> = 0.0f;
<a name='L1333'>1333     <a href='../Y/446.html' title='Multiple used in 9 places.'>DistortionTimeCount</a> = 0;
<a name='L1334'>1334     <a href='../Y/445.html' title='Multiple used in 4 places.'>DistortionTimeAverage</a> = 0.0f;
<a name='L1335'>1335     <a href='../Y/1211.html' title='Multiple used in 6 places.'>LastFramePresentFlushTime</a> = <a href='../Y/4606.html' title='Multiple used in 15 places.'>timeNow</a>;
<a name='L1336'>1336     <a href='../S/117.html#L1339' title='Defined at 1339 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>AfterPresentAndFlush</a>(<a href='../Y/4606.html' title='Multiple used in 15 places.'>timeNow</a>);
<a name='L1337'>1337 <font color='red'>}</font>
<a name='L1338'>1338 
<a name='L1339'>1339 <b>void</b> <a href='../S/117.html#L1317' title='Defined at 1317 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>TimewarpMachine</a>::<a href='../R/23.html' title='Multiple refered from 2 places.'>AfterPresentAndFlush</a>(<b>double</b> <a href='../Y/4606.html' title='Multiple used in 15 places.'>timeNow</a>)
<a name='L1340'>1340 <font color='red'>{</font>
<a name='L1341'>1341     <a href='../Y/1696.html' title='Multiple used in 4 places.'>PresentFlushToPresentFlushSeconds</a> = (<b>float</b>)(<a href='../Y/4606.html' title='Multiple used in 15 places.'>timeNow</a> - <a href='../Y/1211.html' title='Multiple used in 6 places.'>LastFramePresentFlushTime</a>);
<a name='L1342'>1342     <a href='../Y/1211.html' title='Multiple used in 6 places.'>LastFramePresentFlushTime</a> = <a href='../Y/4606.html' title='Multiple used in 15 places.'>timeNow</a>;
<a name='L1343'>1343     <a href='../Y/1457.html' title='Multiple used in 5 places.'>NextFramePresentFlushTime</a> = <a href='../Y/4606.html' title='Multiple used in 15 places.'>timeNow</a> + (<b>double</b>)<a href='../Y/1696.html' title='Multiple used in 4 places.'>PresentFlushToPresentFlushSeconds</a>;
<a name='L1344'>1344 <font color='red'>}</font>
<a name='L1345'>1345 
<a name='L1346'>1346 <b>double</b> <a href='../S/117.html#L1317' title='Defined at 1317 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>TimewarpMachine</a>::<a href='../R/405.html' title='Multiple refered from 2 places.'>GetViewRenderPredictionTime</a>()
<a name='L1347'>1347 <font color='red'>{</font>
<a name='L1348'>1348     <i><font color='green'>// Note that PredictionGetDeviceValues() did all the vsync-dependent thinking for us.</font></i>
<a name='L1349'>1349     <b>return</b> <a href='../Y/1457.html' title='Multiple used in 5 places.'>NextFramePresentFlushTime</a> + <a href='../Y/294.html' title='Multiple used in 6 places.'>CurrentPredictionValues</a>.<a href='../Y/1697.html' title='Multiple used in 10 places.'>PresentFlushToRenderedScene</a>;
<a name='L1350'>1350 <font color='red'>}</font>
<a name='L1351'>1351 
<a name='L1352'>1352 <a href='../S/177.html#L1159' title='Defined at 1159 in ovr/sdk/src/Kernel/OVR_Math.h.'>Transformf</a> <a href='../S/117.html#L1317' title='Defined at 1317 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>TimewarpMachine</a>::<a href='../S/115.html#L437' title='Refered from 437 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>GetViewRenderPredictionPose</a>(<a href='../Y/1998.html' title='Multiple used in 5 places.'>SensorFusion</a> &amp;<a href='../Y/4394.html' title='Multiple used in 15 places.'>sfusion</a>)
<a name='L1353'>1353 <font color='red'>{</font>
<a name='L1354'>1354     <b>double</b> <a href='../Y/4101.html' title='Multiple used in 6 places.'>predictionTime</a> = <a href='../S/117.html#L1346' title='Defined at 1346 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>GetViewRenderPredictionTime</a>();
<a name='L1355'>1355     <b>return</b> <a href='../Y/4394.html' title='Multiple used in 15 places.'>sfusion</a>.<a href='../S/189.html#L852' title='Defined at 852 in ovr/sdk/src/OVR_SensorFusion.cpp.'>GetPoseAtTime</a>(<a href='../Y/4101.html' title='Multiple used in 6 places.'>predictionTime</a>);
<a name='L1356'>1356 <font color='red'>}</font>
<a name='L1357'>1357 
<a name='L1358'>1358 <b>double</b> <a href='../S/117.html#L1317' title='Defined at 1317 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>TimewarpMachine</a>::<a href='../R/407.html' title='Multiple refered from 2 places.'>GetVisiblePixelTimeStart</a>()
<a name='L1359'>1359 <font color='red'>{</font>
<a name='L1360'>1360     <i><font color='green'>// Note that PredictionGetDeviceValues() did all the vsync-dependent thinking for us.</font></i>
<a name='L1361'>1361     <b>return</b> <a href='../Y/1457.html' title='Multiple used in 5 places.'>NextFramePresentFlushTime</a> + <a href='../Y/294.html' title='Multiple used in 6 places.'>CurrentPredictionValues</a>.<a href='../Y/1699.html' title='Multiple used in 8 places.'>PresentFlushToTimewarpStart</a>;
<a name='L1362'>1362 <font color='red'>}</font>
<a name='L1363'>1363 <b>double</b> <a href='../S/117.html#L1317' title='Defined at 1317 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>TimewarpMachine</a>::<a href='../R/406.html' title='Multiple refered from 2 places.'>GetVisiblePixelTimeEnd</a>()
<a name='L1364'>1364 <font color='red'>{</font>
<a name='L1365'>1365     <i><font color='green'>// Note that PredictionGetDeviceValues() did all the vsync-dependent thinking for us.</font></i>
<a name='L1366'>1366     <b>return</b> <a href='../Y/1457.html' title='Multiple used in 5 places.'>NextFramePresentFlushTime</a> + <a href='../Y/294.html' title='Multiple used in 6 places.'>CurrentPredictionValues</a>.<a href='../Y/1698.html' title='Multiple used in 4 places.'>PresentFlushToTimewarpEnd</a>;
<a name='L1367'>1367 <font color='red'>}</font>
<a name='L1368'>1368 <a href='../S/177.html#L1159' title='Defined at 1159 in ovr/sdk/src/Kernel/OVR_Math.h.'>Transformf</a> <a href='../S/117.html#L1317' title='Defined at 1317 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>TimewarpMachine</a>::<a href='../R/368.html' title='Multiple refered from 2 places.'>GetPredictedVisiblePixelPoseStart</a>(<a href='../Y/1998.html' title='Multiple used in 5 places.'>SensorFusion</a> &amp;<a href='../Y/4394.html' title='Multiple used in 15 places.'>sfusion</a>)
<a name='L1369'>1369 <font color='red'>{</font>
<a name='L1370'>1370     <b>double</b> <a href='../Y/4101.html' title='Multiple used in 6 places.'>predictionTime</a> = <a href='../S/117.html#L1358' title='Defined at 1358 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>GetVisiblePixelTimeStart</a>();
<a name='L1371'>1371     <b>return</b> <a href='../Y/4394.html' title='Multiple used in 15 places.'>sfusion</a>.<a href='../S/189.html#L852' title='Defined at 852 in ovr/sdk/src/OVR_SensorFusion.cpp.'>GetPoseAtTime</a>(<a href='../Y/4101.html' title='Multiple used in 6 places.'>predictionTime</a>);
<a name='L1372'>1372 <font color='red'>}</font>
<a name='L1373'>1373 <a href='../S/177.html#L1159' title='Defined at 1159 in ovr/sdk/src/Kernel/OVR_Math.h.'>Transformf</a> <a href='../S/117.html#L1317' title='Defined at 1317 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>TimewarpMachine</a>::<a href='../R/367.html' title='Multiple refered from 2 places.'>GetPredictedVisiblePixelPoseEnd</a>  (<a href='../Y/1998.html' title='Multiple used in 5 places.'>SensorFusion</a> &amp;<a href='../Y/4394.html' title='Multiple used in 15 places.'>sfusion</a>)
<a name='L1374'>1374 <font color='red'>{</font>
<a name='L1375'>1375     <b>double</b> <a href='../Y/4101.html' title='Multiple used in 6 places.'>predictionTime</a> = <a href='../S/117.html#L1363' title='Defined at 1363 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>GetVisiblePixelTimeEnd</a>();
<a name='L1376'>1376     <b>return</b> <a href='../Y/4394.html' title='Multiple used in 15 places.'>sfusion</a>.<a href='../S/189.html#L852' title='Defined at 852 in ovr/sdk/src/OVR_SensorFusion.cpp.'>GetPoseAtTime</a>(<a href='../Y/4101.html' title='Multiple used in 6 places.'>predictionTime</a>);
<a name='L1377'>1377 <font color='red'>}</font>
<a name='L1378'>1378 <a href='../S/177.html#L1834' title='Defined at 1834 in ovr/sdk/src/Kernel/OVR_Math.h.'>Matrix4f</a> <a href='../S/117.html#L1317' title='Defined at 1317 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>TimewarpMachine</a>::<a href='../S/115.html#L451' title='Refered from 451 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>GetTimewarpDeltaStart</a>(<a href='../Y/1998.html' title='Multiple used in 5 places.'>SensorFusion</a> &amp;<a href='../Y/4394.html' title='Multiple used in 15 places.'>sfusion</a>, <a href='../Y/2303.html' title='Multiple used in 2 places.'>Transformf</a> <b>const</b> &amp;<a href='../Y/4273.html' title='Multiple used in 6 places.'>renderedPose</a>)
<a name='L1379'>1379 <font color='red'>{</font>
<a name='L1380'>1380     <a href='../S/177.html#L1159' title='Defined at 1159 in ovr/sdk/src/Kernel/OVR_Math.h.'>Transformf</a> <a href='../Y/4802.html' title='Multiple used in 4 places.'>visiblePose</a> = <a href='../S/117.html#L1368' title='Defined at 1368 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>GetPredictedVisiblePixelPoseStart</a> ( <a href='../Y/4394.html' title='Multiple used in 15 places.'>sfusion</a> );
<a name='L1381'>1381     <a href='../S/177.html#L1834' title='Defined at 1834 in ovr/sdk/src/Kernel/OVR_Math.h.'>Matrix4f</a> <a href='../Y/4801.html' title='Multiple used in 4 places.'>visibleMatrix</a>(<a href='../Y/4802.html' title='Multiple used in 4 places.'>visiblePose</a>);
<a name='L1382'>1382     <a href='../S/177.html#L1834' title='Defined at 1834 in ovr/sdk/src/Kernel/OVR_Math.h.'>Matrix4f</a> <a href='../Y/4272.html' title='Multiple used in 4 places.'>renderedMatrix</a>(<a href='../Y/4273.html' title='Multiple used in 6 places.'>renderedPose</a>);
<a name='L1383'>1383     <a href='../S/177.html#L1834' title='Defined at 1834 in ovr/sdk/src/Kernel/OVR_Math.h.'>Matrix4f</a> <a href='../Y/3441.html' title='Multiple used in 4 places.'>identity</a>;  <i><font color='green'>// doesn't matter for orientation-only timewarp</font></i>
<a name='L1384'>1384     <b>return</b> <a href='../S/117.html#L1275' title='Defined at 1275 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>TimewarpComputePoseDelta</a> ( <a href='../Y/4272.html' title='Multiple used in 4 places.'>renderedMatrix</a>, <a href='../Y/4801.html' title='Multiple used in 4 places.'>visibleMatrix</a>, <a href='../Y/3441.html' title='Multiple used in 4 places.'>identity</a> );
<a name='L1385'>1385 <font color='red'>}</font>
<a name='L1386'>1386 <a href='../S/177.html#L1834' title='Defined at 1834 in ovr/sdk/src/Kernel/OVR_Math.h.'>Matrix4f</a> <a href='../S/117.html#L1317' title='Defined at 1317 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>TimewarpMachine</a>::<a href='../S/115.html#L452' title='Refered from 452 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>GetTimewarpDeltaEnd</a>  (<a href='../Y/1998.html' title='Multiple used in 5 places.'>SensorFusion</a> &amp;<a href='../Y/4394.html' title='Multiple used in 15 places.'>sfusion</a>, <a href='../Y/2303.html' title='Multiple used in 2 places.'>Transformf</a> <b>const</b> &amp;<a href='../Y/4273.html' title='Multiple used in 6 places.'>renderedPose</a>)
<a name='L1387'>1387 <font color='red'>{</font>
<a name='L1388'>1388     <a href='../S/177.html#L1159' title='Defined at 1159 in ovr/sdk/src/Kernel/OVR_Math.h.'>Transformf</a> <a href='../Y/4802.html' title='Multiple used in 4 places.'>visiblePose</a> = <a href='../S/117.html#L1373' title='Defined at 1373 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>GetPredictedVisiblePixelPoseEnd</a> ( <a href='../Y/4394.html' title='Multiple used in 15 places.'>sfusion</a> );
<a name='L1389'>1389     <a href='../S/177.html#L1834' title='Defined at 1834 in ovr/sdk/src/Kernel/OVR_Math.h.'>Matrix4f</a> <a href='../Y/4801.html' title='Multiple used in 4 places.'>visibleMatrix</a>(<a href='../Y/4802.html' title='Multiple used in 4 places.'>visiblePose</a>);
<a name='L1390'>1390     <a href='../S/177.html#L1834' title='Defined at 1834 in ovr/sdk/src/Kernel/OVR_Math.h.'>Matrix4f</a> <a href='../Y/4272.html' title='Multiple used in 4 places.'>renderedMatrix</a>(<a href='../Y/4273.html' title='Multiple used in 6 places.'>renderedPose</a>);
<a name='L1391'>1391     <a href='../S/177.html#L1834' title='Defined at 1834 in ovr/sdk/src/Kernel/OVR_Math.h.'>Matrix4f</a> <a href='../Y/3441.html' title='Multiple used in 4 places.'>identity</a>;  <i><font color='green'>// doesn't matter for orientation-only timewarp</font></i>
<a name='L1392'>1392     <b>return</b> <a href='../S/117.html#L1275' title='Defined at 1275 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>TimewarpComputePoseDelta</a> ( <a href='../Y/4272.html' title='Multiple used in 4 places.'>renderedMatrix</a>, <a href='../Y/4801.html' title='Multiple used in 4 places.'>visibleMatrix</a>, <a href='../Y/3441.html' title='Multiple used in 4 places.'>identity</a> );
<a name='L1393'>1393 <font color='red'>}</font>
<a name='L1394'>1394 
<a name='L1395'>1395 
<a name='L1396'>1396 <i><font color='green'>// What time should the app wait until before starting distortion?</font></i>
<a name='L1397'>1397 <b>double</b>  <a href='../S/117.html#L1317' title='Defined at 1317 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>TimewarpMachine</a>::<a href='../S/115.html#L462' title='Refered from 462 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>JustInTime_GetDistortionWaitUntilTime</a>()
<a name='L1398'>1398 <font color='red'>{</font>
<a name='L1399'>1399     <b>if</b> ( !<a href='../Y/2418.html' title='Multiple used in 15 places.'>VsyncEnabled</a> || ( <a href='../Y/446.html' title='Multiple used in 9 places.'>DistortionTimeCount</a> &lt; <a href='../S/115.html#L476' title='Defined at 476 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>NumDistortionTimes</a> ) )
<a name='L1400'>1400     <font color='red'>{</font>
<a name='L1401'>1401         <i><font color='green'>// Don't wait.</font></i>
<a name='L1402'>1402         <b>return</b> <a href='../Y/1211.html' title='Multiple used in 6 places.'>LastFramePresentFlushTime</a>;
<a name='L1403'>1403     <font color='red'>}</font>
<a name='L1404'>1404 
<a name='L1405'>1405     <b>const</b> <b>float</b> <a href='../Y/3272.html' title='Multiple used in 2 places.'>fudgeFactor</a> = 0.002f;      <i><font color='green'>// Found heuristically - 1ms is too short because of timing granularity - may need further tweaking!</font></i>
<a name='L1406'>1406     <b>float</b> <a href='../Y/3430.html' title='Multiple used in 2 places.'>howLongBeforePresent</a> = <a href='../Y/445.html' title='Multiple used in 4 places.'>DistortionTimeAverage</a> + <a href='../Y/3272.html' title='Multiple used in 2 places.'>fudgeFactor</a>;
<a name='L1407'>1407     <i><font color='green'>// Subtlety here. Technically, the correct time is NextFramePresentFlushTime - howLongBeforePresent.</font></i>
<a name='L1408'>1408     <i><font color='green'>// However, if the app drops a frame, this then perpetuates it,</font></i>
<a name='L1409'>1409     <i><font color='green'>// i.e. if the display is running at 60fps, but the last frame was slow,</font></i>
<a name='L1410'>1410     <i><font color='green'>// (e.g. because of swapping or whatever), then NextFramePresentFlushTime is</font></i>
<a name='L1411'>1411     <i><font color='green'>// 33ms in the future, not 16ms. Since this function supplies the </font></i>
<a name='L1412'>1412     <i><font color='green'>// time to wait until, the app will indeed wait until 32ms, so the framerate</font></i>
<a name='L1413'>1413     <i><font color='green'>// drops to 30fps and never comes back up!</font></i>
<a name='L1414'>1414     <i><font color='green'>// So we return the *ideal* framerate, not the *actual* framerate.</font></i>
<a name='L1415'>1415     <b>return</b> <a href='../Y/1211.html' title='Multiple used in 6 places.'>LastFramePresentFlushTime</a> + (<b>float</b>)( <a href='../Y/294.html' title='Multiple used in 6 places.'>CurrentPredictionValues</a>.<a href='../Y/1695.html' title='Multiple used in 4 places.'>PresentFlushToPresentFlush</a> - <a href='../Y/3430.html' title='Multiple used in 2 places.'>howLongBeforePresent</a> );
<a name='L1416'>1416 <font color='red'>}</font>
<a name='L1417'>1417 
<a name='L1418'>1418 
<a name='L1419'>1419 <b>bool</b>    <a href='../S/117.html#L1317' title='Defined at 1317 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>TimewarpMachine</a>::<a href='../S/115.html#L465' title='Refered from 465 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>JustInTime_NeedDistortionTimeMeasurement</a>() <b>const</b>
<a name='L1420'>1420 <font color='red'>{</font>
<a name='L1421'>1421     <b>if</b> (!<a href='../Y/2418.html' title='Multiple used in 15 places.'>VsyncEnabled</a>)
<a name='L1422'>1422     <font color='red'>{</font>
<a name='L1423'>1423         <b>return</b> <b>false</b>;
<a name='L1424'>1424     <font color='red'>}</font>
<a name='L1425'>1425     <b>return</b> ( <a href='../Y/446.html' title='Multiple used in 9 places.'>DistortionTimeCount</a> &lt; <a href='../S/115.html#L476' title='Defined at 476 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>NumDistortionTimes</a> );
<a name='L1426'>1426 <font color='red'>}</font>
<a name='L1427'>1427 
<a name='L1428'>1428 <b>void</b>    <a href='../S/117.html#L1317' title='Defined at 1317 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>TimewarpMachine</a>::<a href='../S/115.html#L466' title='Refered from 466 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>JustInTime_BeforeDistortionTimeMeasurement</a>(<b>double</b> <a href='../Y/4606.html' title='Multiple used in 15 places.'>timeNow</a>)
<a name='L1429'>1429 <font color='red'>{</font>
<a name='L1430'>1430     <a href='../Y/447.html' title='Multiple used in 3 places.'>DistortionTimeCurrentStart</a> = <a href='../Y/4606.html' title='Multiple used in 15 places.'>timeNow</a>;
<a name='L1431'>1431 <font color='red'>}</font>
<a name='L1432'>1432 
<a name='L1433'>1433 <b>void</b>    <a href='../S/117.html#L1317' title='Defined at 1317 in ovr/sdk/src/Util/Util_Render_Stereo.cpp.'>TimewarpMachine</a>::<a href='../S/115.html#L467' title='Refered from 467 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>JustInTime_AfterDistortionTimeMeasurement</a>(<b>double</b> <a href='../Y/4606.html' title='Multiple used in 15 places.'>timeNow</a>)
<a name='L1434'>1434 <font color='red'>{</font>
<a name='L1435'>1435     <b>float</b> <a href='../Y/4600.html' title='Multiple used in 2 places.'>timeDelta</a> = (<b>float</b>)( <a href='../Y/4606.html' title='Multiple used in 15 places.'>timeNow</a> - <a href='../Y/447.html' title='Multiple used in 3 places.'>DistortionTimeCurrentStart</a> );
<a name='L1436'>1436     <b>if</b> ( <a href='../Y/446.html' title='Multiple used in 9 places.'>DistortionTimeCount</a> &lt; <a href='../S/115.html#L476' title='Defined at 476 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>NumDistortionTimes</a> )
<a name='L1437'>1437     <font color='red'>{</font>
<a name='L1438'>1438         <a href='../Y/448.html' title='Multiple used in 6 places.'>DistortionTimes</a>[<a href='../Y/446.html' title='Multiple used in 9 places.'>DistortionTimeCount</a>] = <a href='../Y/4600.html' title='Multiple used in 2 places.'>timeDelta</a>;
<a name='L1439'>1439         <a href='../Y/446.html' title='Multiple used in 9 places.'>DistortionTimeCount</a>++;
<a name='L1440'>1440         <b>if</b> ( <a href='../Y/446.html' title='Multiple used in 9 places.'>DistortionTimeCount</a> == <a href='../S/115.html#L476' title='Defined at 476 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>NumDistortionTimes</a> )
<a name='L1441'>1441         <font color='red'>{</font>
<a name='L1442'>1442             <i><font color='green'>// Median.</font></i>
<a name='L1443'>1443             <b>float</b> <a href='../Y/3055.html' title='Multiple used in 3 places.'>distortionTimeMedian</a> = 0.0f;
<a name='L1444'>1444             <b>for</b> ( <b>int</b> <a href='../Y/3436.html' title='Multiple used in 682 places.'>i</a> = 0; <a href='../Y/3436.html' title='Multiple used in 682 places.'>i</a> &lt; <a href='../S/115.html#L476' title='Defined at 476 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>NumDistortionTimes</a>/2; <a href='../Y/3436.html' title='Multiple used in 682 places.'>i</a>++ )
<a name='L1445'>1445             <font color='red'>{</font>
<a name='L1446'>1446                 <i><font color='green'>// Find the maximum time of those remaining.</font></i>
<a name='L1447'>1447                 <b>float</b> <a href='../Y/3654.html' title='Multiple used in 4 places.'>maxTime</a> = <a href='../Y/448.html' title='Multiple used in 6 places.'>DistortionTimes</a>[0];
<a name='L1448'>1448                 <b>int</b> <a href='../Y/3647.html' title='Multiple used in 3 places.'>maxIndex</a> = 0;
<a name='L1449'>1449                 <b>for</b> ( <b>int</b> <a href='../Y/3520.html' title='Multiple used in 155 places.'>j</a> = 1; <a href='../Y/3520.html' title='Multiple used in 155 places.'>j</a> &lt; <a href='../S/115.html#L476' title='Defined at 476 in ovr/sdk/src/Util/Util_Render_Stereo.h.'>NumDistortionTimes</a>; <a href='../Y/3520.html' title='Multiple used in 155 places.'>j</a>++ )
<a name='L1450'>1450                 <font color='red'>{</font>
<a name='L1451'>1451                     <b>if</b> ( <a href='../Y/3654.html' title='Multiple used in 4 places.'>maxTime</a> &lt; <a href='../Y/448.html' title='Multiple used in 6 places.'>DistortionTimes</a>[<a href='../Y/3520.html' title='Multiple used in 155 places.'>j</a>] )
<a name='L1452'>1452                     <font color='red'>{</font>
<a name='L1453'>1453                         <a href='../Y/3654.html' title='Multiple used in 4 places.'>maxTime</a> = <a href='../Y/448.html' title='Multiple used in 6 places.'>DistortionTimes</a>[<a href='../Y/3520.html' title='Multiple used in 155 places.'>j</a>];
<a name='L1454'>1454                         <a href='../Y/3647.html' title='Multiple used in 3 places.'>maxIndex</a> = <a href='../Y/3520.html' title='Multiple used in 155 places.'>j</a>;
<a name='L1455'>1455                     <font color='red'>}</font>
<a name='L1456'>1456                 <font color='red'>}</font>
<a name='L1457'>1457                 <i><font color='green'>// Zero that max time, so we'll find the next-highest time.</font></i>
<a name='L1458'>1458                 <a href='../Y/448.html' title='Multiple used in 6 places.'>DistortionTimes</a>[<a href='../Y/3647.html' title='Multiple used in 3 places.'>maxIndex</a>] = 0.0f;
<a name='L1459'>1459                 <a href='../Y/3055.html' title='Multiple used in 3 places.'>distortionTimeMedian</a> = <a href='../Y/3654.html' title='Multiple used in 4 places.'>maxTime</a>;
<a name='L1460'>1460             <font color='red'>}</font>
<a name='L1461'>1461             <a href='../Y/445.html' title='Multiple used in 4 places.'>DistortionTimeAverage</a> = <a href='../Y/3055.html' title='Multiple used in 3 places.'>distortionTimeMedian</a>;
<a name='L1462'>1462         <font color='red'>}</font>
<a name='L1463'>1463     <font color='red'>}</font>
<a name='L1464'>1464     <b>else</b>
<a name='L1465'>1465     <font color='red'>{</font>
<a name='L1466'>1466         <a href='../D/663.html' title='Multiple defined in 2 places.'>OVR_ASSERT</a> ( !"Really didn't need more measurements, thanks" );
<a name='L1467'>1467     <font color='red'>}</font>
<a name='L1468'>1468 <font color='red'>}</font>
<a name='L1469'>1469 
<a name='L1470'>1470 
<a name='L1471'>1471 <font color='red'>}</font><font color='red'>}</font><font color='red'>}</font>  <i><font color='green'>// OVR::Util::Render</font></i>
<a name='L1472'>1472 
</pre>
<hr>
<a name='BOTTOM'>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L36'>[^]</a><a href='#L1433'>[v]</a><a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
</body>
</html>
